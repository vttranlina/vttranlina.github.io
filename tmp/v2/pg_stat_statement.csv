"query","mean_exec_time","total_exec_time","calls"
"select
  count(*) as ""total_count"",
  count(*) filter (where is_seen = $1) as ""unseen_count""
from message_mailbox
where mailbox_id = cast($2 as uuid)","0.5285340210282555","236213.48174599608","446922"
"select
  thread_id,
  hash_base_subject
from thread
where (
  username = $1
  and hash_mime_message_id in (
    $2, $3
  )
)","2.029391977568786","213603.65259899816","105255"
"insert into thread (
  username,
  hash_mime_message_id,
  message_id,
  thread_id,
  hash_base_subject
)
values (
  $1, 
  $2, 
  cast($3 as uuid), 
  cast($4 as uuid), 
  $5
)","0.5802817208921053","122155.10506499941","210510"
"insert into email_query_view (
  mailbox_id,
  message_id,
  sent_at,
  received_at
)
values (
  cast($1 as uuid), 
  cast($2 as uuid), 
  cast($3 as timestamp with time zone), 
  cast($4 as timestamp with time zone)
)
on conflict on constraint ""email_query_view_pkey""
do nothing","0.9825552332315257","103259.67712599944","105093"
"select distinct unnest(user_flags)
from message_mailbox
where mailbox_id = cast($1 as uuid)","2.9493763432874904","67555.4651429995","22905"
"insert into message_mailbox (
  mailbox_id,
  message_uid,
  mod_seq,
  message_id,
  thread_id,
  internal_date,
  size,
  is_deleted,
  is_answered,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags,
  save_date
)
values (
  cast($1 as uuid), 
  $2, 
  $3, 
  cast($4 as uuid), 
  cast($5 as uuid), 
  cast($6 as timestamp(6)), 
  $7, 
  $8, 
  $9, 
  $10, 
  $11, 
  $12, 
  $13, 
  cast($14 as varchar[]), 
  cast($15 as timestamp(6))
)","0.5816763537226011","61127.204659999756","105088"
"select
  message.message_id as message_id,
  message.internal_date as internal_date,
  message.size as size,
  body_blob_id,
  mime_type,
  mime_subtype,
  body_start_octet,
  textual_line_count,
  attachment_metadata,
  mailbox_id,
  message_uid,
  mod_seq,
  thread_id,
  is_deleted,
  is_answered,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags,
  save_date,
  header_content,
  textual_line_count,
  content_description,
  content_location,
  content_transfer_encoding,
  content_disposition_type,
  content_id,
  content_md5,
  content_language,
  content_type_parameters,
  content_disposition_parameters
from message_mailbox
  join message
    on message_mailbox.message_id = message.message_id
where (
  mailbox_id = cast($1 as uuid)
  and message_uid = $2
)","0.14593836199194746","50182.94890799932","343864"
"select *
from mailbox
where (
  mailbox_name = $1
  and user_name = $2
  and mailbox_namespace = $3
)","0.058317644950829715","40384.38595199955","692490"
"select *
from mailbox
where mailbox_id = cast($1 as uuid)","0.0378592953164922","37975.63693099938","1003073"
"select message_uid
from message_mailbox
where mailbox_id = cast($1 as uuid)
order by message_uid asc","1.3544624123553832","31023.961555000034","22905"
"select
  message_uid,
  is_deleted
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and message_uid >= $2
  and message_uid <= $3
  and is_deleted = $4
)
order by message_uid asc","1.0116746326154082","26868.054892999877","26558"
"select
  type,
  ""quota_current_value"".""current_value""
from quota_current_value
where (
  identifier = $1
  and component = $2
)","0.07965518895132855","26265.581660000167","329741"
"<insufficient privilege>","66.20947186885242","24232.66670400001","366"
"insert into quota_current_value (
  identifier,
  component,
  type,
  ""current_value""
)
values (
  $1, 
  $2, 
  $3, 
  $4
)
on conflict on constraint ""quota_current_value_primary_key""
do update
set
  ""current_value"" = (""quota_current_value"".""current_value"" + $5)","0.09258170573459212","19460.489382000196","210198"
"select *
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_recent = $2
)
order by message_uid asc
fetch next $3 rows only","0.3051333117692126","15135.832797000156","49604"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_recent = $2
)
order by message_uid asc","0.03419416197393968","13585.92185300021","397317"
"select *
from quota_limit
where (
  quota_component = $1
  and quota_scope = $2
  and identifier = $3
)","0.011831931982382242","11704.490242999878","989229"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_seen = $2
  and message_uid >= $3
  and message_uid <= $4
)
order by message_uid asc","0.39941058321625356","10518.47770900004","26335"
"insert into message (
  message_id,
  body_blob_id,
  mime_type,
  mime_subtype,
  internal_date,
  size,
  body_start_octet,
  textual_line_count,
  content_description,
  content_disposition_type,
  content_id,
  content_md5,
  content_language,
  content_location,
  content_transfer_encoding,
  content_type_parameters,
  content_disposition_parameters,
  attachment_metadata,
  header_content
)
values (
  cast($1 as uuid), 
  $2, 
  $3, 
  $4, 
  cast($5 as timestamp(6)), 
  $6, 
  $7, 
  $8, 
  $9, 
  $10, 
  $11, 
  $12, 
  cast($13 as varchar[]), 
  $14, 
  $15, 
  cast($16 as hstore), 
  cast($17 as hstore), 
  $18, 
  $19
)","0.0942815401377891","9907.858490000108","105088"
"select
  message.message_id as message_id,
  message.internal_date as internal_date,
  message.size as size,
  body_blob_id,
  mime_type,
  mime_subtype,
  body_start_octet,
  textual_line_count,
  attachment_metadata,
  mailbox_id,
  message_uid,
  mod_seq,
  thread_id,
  is_deleted,
  is_answered,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags,
  save_date,
  header_content,
  textual_line_count,
  content_description,
  content_location,
  content_transfer_encoding,
  content_disposition_type,
  content_id,
  content_md5,
  content_language,
  content_type_parameters,
  content_disposition_parameters
from message_mailbox
  join message
    on message_mailbox.message_id = message.message_id
where message_mailbox.message_id in (cast($1 as uuid))","0.09246658550115046","9718.053203000109","105098"
"select *
from mailbox
where (
  user_name = $1
  and mailbox_namespace = $2
)","0.3248401043522943","7583.067395999919","23344"
"update message_mailbox
set
  is_recent = $1,
  is_answered = $2,
  is_flagged = $3,
  is_draft = $4,
  is_deleted = $5,
  is_seen = $6,
  user_flags = cast($7 as varchar[]),
  mod_seq = $8
where (
  mailbox_id = cast($9 as uuid)
  and message_uid = $10
)
returning 
  message_uid,
  mod_seq,
  size,
  internal_date,
  save_date,
  message_id,
  thread_id,
  is_answered,
  is_deleted,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags","0.6078184998784338","7499.872469999995","12339"
"update mailbox
set
  mailbox_last_uid = (coalesce(
    mailbox_last_uid,
    $1
  ) + $2),
  mailbox_highest_modseq = (coalesce(
    mailbox_highest_modseq,
    $3
  ) + $4)
where mailbox_id = cast($5 as uuid)
returning 
  mailbox_last_uid,
  mailbox_highest_modseq","0.07023695330935627","7381.622844999945","105096"
"update message_mailbox
set
  is_deleted = $1,
  is_draft = $2,
  is_flagged = $3,
  is_answered = $4,
  is_recent = $5,
  is_seen = $6,
  user_flags = cast($7 as varchar[]),
  mod_seq = $8
where (
  mailbox_id = cast($9 as uuid)
  and message_uid = $10
)
returning 
  message_uid,
  mod_seq,
  size,
  internal_date,
  save_date,
  message_id,
  thread_id,
  is_answered,
  is_deleted,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags","0.6751231417237297","6211.808026999978","9201"
"update mailbox
set
  mailbox_highest_modseq = (coalesce(
    mailbox_highest_modseq,
    $1
  ) + $2)
where mailbox_id = cast($3 as uuid)
returning mailbox_highest_modseq","0.0701692529845095","5372.298346999987","76562"
"<insufficient privilege>","32.787054035971224","4557.400511000003","139"
"select exists (
  select $2 as ""one""
  from blob_id_list
  where blob_id = $1
)","0.038036062145548534","3997.2858429999924","105092"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $2 AND state_key = $3)
                            ORDER BY type, state_key, state_group DESC
                        )
                         UNION 
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $4 AND state_key = $5)
                            ORDER BY type, state_key, state_group DESC
                        )","0.8511437809991071","1908.264357","2242"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_seen = $2
)
order by message_uid asc
fetch next $3 rows only","0.038259954802032085","1897.8467980000073","49604"
"select *
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and message_uid >= $2
  and message_uid <= $3
)
order by message_uid asc
fetch next $4 rows only","0.06669208609689098","1797.885257000002","26958"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_deleted = $2
)
order by message_uid asc","0.09185175995613583","1591.4235930000048","17326"
"<insufficient privilege>","10.479391381294958","1456.6354020000003","139"
"select *
from subscription
where user_name = $1","0.1427861066999993","1427.8610669999975","10000"
"SELECT
			 checkpoints_timed
			 ,checkpoints_req
			 ,checkpoint_write_time
			 ,checkpoint_sync_time
			 ,buffers_checkpoint
			 ,buffers_clean
			 ,maxwritten_clean
			 ,buffers_backend
			 ,buffers_backend_fsync
			 ,buffers_alloc
			 ,stats_reset
		 FROM pg_stat_bgwriter","9.377762906474818","1303.5090439999997","139"
"SELECT
                event.event_id, event.instance_name,
                event.topological_ordering, event.stream_ordering
            FROM events AS event
            
            WHERE event.outlier = $1 AND event.room_id = $2 AND ($3 >= event.stream_ordering)
            ORDER BY event.topological_ordering DESC,
            event.stream_ordering DESC LIMIT $4","1.9154877283582097","641.6883890000012","335"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","5.113690196428572","572.7333020000003","112"
"select *
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and message_uid > $2
  and message_uid <= $3
)
order by message_uid asc
fetch next $4 rows only","0.02004803779954013","540.4550029999988","26958"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                    SELECT DISTINCT ON (type, state_key)
                        type, state_key, event_id
                    FROM state_groups_state
                    WHERE state_group IN (
                        SELECT state_group FROM sgs
                    ) 
                    ORDER BY type, state_key, state_group DESC","1.477626575657894","449.1984789999996","304"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80])","148.34462333333335","445.03387","3"
"SELECT name, setting, COALESCE(unit, $1), short_desc, vartype FROM pg_settings WHERE vartype IN ($2, $3, $4) AND name != $5","3.172251503597123","440.94295900000014","139"
"select
  mailbox_id,
  mailbox_name,
  mailbox_uid_validity,
  user_name,
  mailbox_namespace,
  mailbox_last_uid,
  mailbox_highest_modseq,
  slice(
    mailbox_acl,
    array[$1]
  ) as mailbox_acl
from mailbox
where (mailbox_acl ? $2)","0.01480499306031529","345.6077580000022","23344"
"WITH
  metrics AS (
    SELECT
      application_name,
      SUM(EXTRACT($1 FROM (CURRENT_TIMESTAMP - state_change))::bigint)::float AS process_seconds_sum,
      COUNT(*) AS process_seconds_count
    FROM pg_stat_activity
    WHERE state = $2
    GROUP BY application_name
  ),
  buckets AS (
    SELECT
      application_name,
      le,
      SUM(
        CASE WHEN EXTRACT($3 FROM (CURRENT_TIMESTAMP - state_change)) <= le
          THEN $4
          ELSE $5
        END
      )::bigint AS bucket
    FROM
      pg_stat_activity,
      UNNEST(ARRAY[$6, $7, $8, $9, $10, $11, $12, $13, $14]) AS le
    GROUP BY application_name, le
    ORDER BY application_name, le
  )
SELECT
  application_name,
  process_seconds_sum,
  process_seconds_count,
  ARRAY_AGG(le) AS process_seconds,
  ARRAY_AGG(bucket) AS process_seconds_bucket
FROM metrics JOIN buckets USING (application_name)
GROUP BY 1, 2, 3","2.4440505179856107","339.7230219999998","139"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","8.606167657894737","327.03437099999985","38"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120,$121,$122,$123,$124,$125,$126,$127,$128,$129,$130,$131,$132,$133,$134,$135,$136,$137,$138,$139,$140,$141,$142,$143,$144,$145,$146,$147,$148,$149,$150,$151,$152,$153,$154,$155,$156,$157,$158,$159,$160])","275.917839","275.917839","1"
"SELECT
  current_database() datname,
  schemaname,
  relname,
  seq_scan,
  seq_tup_read,
  idx_scan,
  idx_tup_fetch,
  n_tup_ins,
  n_tup_upd,
  n_tup_del,
  n_tup_hot_upd,
  n_live_tup,
  n_dead_tup,
  n_mod_since_analyze,
  COALESCE(last_vacuum, $1) as last_vacuum,
  COALESCE(last_autovacuum, $2) as last_autovacuum,
  COALESCE(last_analyze, $3) as last_analyze,
  COALESCE(last_autoanalyze, $4) as last_autoanalyze,
  vacuum_count,
  autovacuum_count,
  analyze_count,
  autoanalyze_count
FROM
  pg_stat_user_tables","1.9072060503597124","265.101641","139"
"INSERT INTO ""sessions"" (""session_id"", ""persistent"", ""data"", ""created_at"", ""updated_at"") VALUES ($1, $2, $3, $4, $5) RETURNING ""id""","0.3016194898203592","251.85227400000022","835"
"BEGIN ISOLATION LEVEL REPEATABLE READ","0.018084938144329907","236.8222649999992","13095"
"<insufficient privilege>","1.6224626187050362","225.52230399999993","139"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120,$121,$122,$123,$124,$125,$126])","219.68416900000003","219.68416900000003","1"
"SELECT current_database() datname, schemaname, relname, heap_blks_read, heap_blks_hit, idx_blks_read, idx_blks_hit, toast_blks_read, toast_blks_hit, tidx_blks_read, tidx_blks_hit FROM pg_statio_user_tables","1.5499013453237411","215.43628700000002","139"
"SELECT room_id, e.sender, c.membership, event_id, e.instance_name, e.stream_ordering, r.room_version
            FROM local_current_membership AS c
            INNER JOIN events AS e USING (room_id, event_id)
            INNER JOIN rooms AS r USING (room_id)
            WHERE
                user_id = $1
                AND c.membership = ANY(ARRAY[$2,$3,$4,$5,$6])","22.803959875","182.431679","8"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1])","0.9720538439306353","168.16531500000002","173"
"<insufficient privilege>","0.014114480632008217","166.15566599999957","11772"
"SELECT received_ts FROM events
            WHERE stream_ordering <= $1
            ORDER BY stream_ordering DESC
            LIMIT $2","0.1482084847908745","155.91532599999982","1052"
"<insufficient privilege>","0.013040367737003044","153.5112090000001","11772"
"<insufficient privilege>","0.01192150322799858","140.3399359999999","11772"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","0.890965948051948","137.2087559999999","154"
"SELECT e.event_id, e.room_id, e.type, se.state_key, r.reason
                FROM events AS e
                LEFT JOIN state_events se USING (event_id)
                LEFT JOIN rejections r USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1])","0.4112364387096769","127.48329600000004","310"
"SELECT * FROM pg_stat_database","0.8314692374100718","115.57422399999997","139"
"INSERT INTO received_transactions (transaction_id, origin, response_code, response_json, ts) VALUES ($1, $2, $3, $4::bytea, $5) ON CONFLICT (transaction_id, origin) DO NOTHING","0.8298285107913665","115.346163","139"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8])
                ) AS b using (room_id)","14.10258775","112.820702","8"
"SELECT * FROM (
                    SELECT instance_name, stream_ordering, topological_ordering, event_id
                    FROM events
                    LEFT JOIN rejections USING (event_id)
                    WHERE room_id = $1
                        
                        AND $2 < stream_ordering AND stream_ordering <= $3
                        AND NOT outlier
                        AND rejections.event_id IS NULL
                    ORDER BY stream_ordering DESC
                ) AS a
                UNION ALL
                SELECT * FROM (
                    SELECT instance_name, stream_ordering, topological_ordering, event_id
                    FROM events
                    LEFT JOIN rejections USING (event_id)
                    WHERE room_id = $4
                        
                        AND stream_ordering <= $5
                        AND NOT outlier
                        AND rejections.event_id IS NULL
                    ORDER BY stream_ordering DESC
                    LIMIT $6
                ) AS b
                ORDER BY stream_ordering DESC","0.3590779936102238","112.391412","313"
"<insufficient privilege>","0.7928878920863308","110.211417","139"
"SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype
FROM pg_type as t
LEFT JOIN pg_range as r ON oid = rngtypid
WHERE
  t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40)","14.382881857142857","100.680173","7"
"SELECT ""settings"".""updated_at"" FROM ""settings"" ORDER BY ""settings"".""updated_at"" DESC LIMIT $1","0.24046633493975916","99.79352900000005","415"
"SELECT * FROM pg_stat_database_conflicts","0.7081705827338132","98.435711","139"
"SELECT ""permissions"".""name"" FROM ""permissions"" INNER JOIN ""permissions_roles"" ON ""permissions"".""id"" = ""permissions_roles"".""permission_id"" INNER JOIN ""roles"" ON ""permissions_roles"".""role_id"" = ""roles"".""id"" INNER JOIN ""roles_users"" ON ""roles"".""id"" = ""roles_users"".""role_id"" WHERE ""roles_users"".""user_id"" = $1 AND ""roles"".""active"" = $2 AND ""permissions"".""active"" = $3","0.11601687200956944","96.99010499999989","836"
"SELECT *,
				extract($1 from now() - last_archived_time) AS last_archive_age
			FROM pg_stat_archiver","0.6799119208633092","94.50775700000001","139"
"SELECT stream_id, instance_name, room_id, receipt_type,
                        user_id, event_id, thread_id, data
                    FROM receipts_linearized WHERE
                    stream_id > $1 AND stream_id <= $2 AND
                room_id = ANY(ARRAY[$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19])","22.86805475","91.47221900000001","4"
"<insufficient privilege>","0.6171448992805756","85.78314100000004","139"
"<insufficient privilege>","0.6167974100719423","85.73483999999996","139"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","3.8491323181818182","84.68091100000002","22"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2])","1.8358139782608693","84.447443","46"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","20.867099749999998","83.46839899999999","4"
"INSERT INTO user_ips (user_id, access_token, ip, user_agent, device_id, last_seen) VALUES ($1,$2,$3,$4,$5,$6) ON CONFLICT (user_id, access_token, ip) DO UPDATE SET user_agent=EXCLUDED.user_agent, device_id=EXCLUDED.device_id, last_seen=EXCLUDED.last_seen","0.8343133500000001","83.43133500000003","100"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39])","19.09594375","76.38377500000001","4"
"<insufficient privilege>","0.5444748561151078","75.68200500000002","139"
"WITH pdu_destinations AS (
            SELECT DISTINCT destination FROM destination_rooms
            LEFT JOIN destinations USING (destination)
            WHERE
                destination > $1
                AND destination_rooms.stream_ordering > COALESCE(destinations.last_successful_stream_ordering, $2)
                AND (
                    destinations.retry_last_ts IS NULL OR
                    destinations.retry_last_ts + destinations.retry_interval < $3
                )
            ORDER BY destination
            LIMIT $4
        ), to_device_destinations AS (
            SELECT DISTINCT destination FROM device_federation_outbox
            LEFT JOIN destinations USING (destination)
            WHERE
               destination > $5
               AND (
                    destinations.retry_last_ts IS NULL OR
                    destinations.retry_last_ts + destinations.retry_interval < $6
               )
            ORDER BY destination
            LIMIT $7
        )

        SELECT destination FROM pdu_destinations
        UNION SELECT destination FROM to_device_destinations
            ORDER BY destination
            LIMIT $8","0.5362899352517986","74.54430099999999","139"
"SELECT ""schedulers"".* FROM ""schedulers"" WHERE ""schedulers"".""active"" = $1 ORDER BY ""schedulers"".""prio"" ASC","0.17987562711864405","74.28863399999996","413"
"SELECT
				pg_database.datname,
				tmp.state,
				COALESCE(count,$1) as count,
				COALESCE(max_tx_duration,$2) as max_tx_duration
			FROM
				(
				  VALUES ($3),
				  		 ($4),
				  		 ($5),
				  		 ($6),
				  		 ($7),
				  		 ($8)
				) AS tmp(state) CROSS JOIN pg_database
			LEFT JOIN
			(
				SELECT
					datname,
					state,
					count(*) AS count,
					MAX(EXTRACT($9 FROM now() - xact_start))::float AS max_tx_duration
				FROM pg_stat_activity GROUP BY datname,state) AS tmp2
				ON tmp.state = tmp2.state AND pg_database.datname = tmp2.datname","0.5322283237410071","73.979737","139"
"SELECT pg_database.datname,tmp.mode,COALESCE(count,$1) as count
			FROM
				(
				  VALUES ($2),
				         ($3),
				         ($4),
				         ($5),
				         ($6),
				         ($7),
				         ($8),
				         ($9),
					 ($10)
				) AS tmp(mode) CROSS JOIN pg_database
			LEFT JOIN
			  (SELECT database, lower(mode) AS mode,count(*) AS count
			  FROM pg_locks WHERE database IS NOT NULL
			  GROUP BY database, lower(mode)
			) AS tmp2
			ON tmp.mode=tmp2.mode and pg_database.oid = tmp2.database ORDER BY 1","0.5180712446043165","72.01190299999998","139"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","2.0613907647058825","70.087286","34"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7])
                ) AS b using (room_id)","7.516460777777778","67.648147","9"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])","5.860889727272728","64.469787","11"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6])
                ) AS b using (room_id)","2.765383652173912","63.60382399999998","23"
"SELECT ""settings"".""name"", ""settings"".""state_current"" FROM ""settings"" WHERE (updated_at >= $1) ORDER BY ""settings"".""id"" ASC","0.15230379518072296","63.20607499999995","415"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77])","62.374015","62.374015","1"
"<insufficient privilege>","0.44805371223021584","62.27946600000003","139"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63])","61.876609","61.876609","1"
"<insufficient privilege>","0.42936406474820127","59.68160499999999","139"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                    SELECT DISTINCT ON (type, state_key)
                        type, state_key, event_id
                    FROM state_groups_state
                    WHERE state_group IN (
                        SELECT state_group FROM sgs
                    )  AND ((type = $2 AND state_key = $3) OR (type = $4 AND state_key = $5) OR type NOT IN ($6))
                    ORDER BY type, state_key, state_group DESC","3.4631396470588234","58.873374000000005","17"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43])","58.469141","58.469141","1"
"SELECT room_id FROM event_forward_extremities
                WHERE $1=$2
                GROUP BY room_id
                HAVING count(*) > $3
                ORDER BY count(*) DESC
                LIMIT $4","4.0249165","56.348831000000004","14"
"SELECT *,
				(case pg_is_in_recovery() when $1 then $2 else pg_current_wal_lsn() end) AS pg_current_wal_lsn,
				(case pg_is_in_recovery() when $3 then $4 else pg_wal_lsn_diff(pg_current_wal_lsn(), pg_lsn($5))::float end) AS pg_current_wal_lsn_bytes,
				(case pg_is_in_recovery() when $6 then $7 else pg_wal_lsn_diff(pg_current_wal_lsn(), replay_lsn)::float end) AS pg_wal_lsn_diff
			FROM pg_stat_replication","0.39958032374100727","55.54166500000003","139"
"<insufficient privilege>","0.39004683453237393","54.21651000000001","139"
"INSERT INTO device_lists_changes_in_room (user_id, device_id, room_id, stream_id, instance_name, converted_to_destinations, opentracing_context) VALUES ($1,$2,$3,$4,$5,$6,$7),($8,$9,$10,$11,$12,$13,$14),($15,$16,$17,$18,$19,$20,$21),($22,$23,$24,$25,$26,$27,$28),($29,$30,$31,$32,$33,$34,$35),($36,$37,$38,$39,$40,$41,$42),($43,$44,$45,$46,$47,$48,$49),($50,$51,$52,$53,$54,$55,$56),($57,$58,$59,$60,$61,$62,$63),($64,$65,$66,$67,$68,$69,$70),($71,$72,$73,$74,$75,$76,$77),($78,$79,$80,$81,$82,$83,$84),($85,$86,$87,$88,$89,$90,$91),($92,$93,$94,$95,$96,$97,$98),($99,$100,$101,$102,$103,$104,$105),($106,$107,$108,$109,$110,$111,$112),($113,$114,$115,$116,$117,$118,$119),($120,$121,$122,$123,$124,$125,$126),($127,$128,$129,$130,$131,$132,$133),($134,$135,$136,$137,$138,$139,$140),($141,$142,$143,$144,$145,$146,$147),($148,$149,$150,$151,$152,$153,$154)","18.003177333333333","54.009532","3"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])","4.800976454545454","52.810741000000014","11"
"SELECT value,active FROM hashes","10.5045176","52.522588","5"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5])","1.8456274642857144","51.677569000000005","28"
"SELECT media_id FROM local_media_repository_url_cache WHERE expires_ts < $1 ORDER BY expires_ts ASC LIMIT $2","0.024678836930455625","51.45537499999993","2085"
"SELECT user_id, device_id, stream_id, opentracing_context FROM device_lists_outbound_pokes
            WHERE destination = $1 AND $2 < stream_id AND stream_id <= $3
            ORDER BY stream_id
            LIMIT $4","0.06919757588075881","51.067810999999956","738"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])","10.1793742","50.896871","5"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","8.374226666666665","50.245359999999984","6"
"<insufficient privilege>","0.3551222805755397","49.36199699999999","139"
"SELECT media_id FROM local_media_repository WHERE created_ts < $1 AND url_cache IS NOT NULL ORDER BY created_ts ASC LIMIT $2","0.023551252278177476","49.104361","2085"
"SET default_transaction_isolation TO DEFAULT","0.008667216824865064","46.56895600000004","5373"
"SELECT room_id FROM current_state_events WHERE type = $1 AND membership = $2 AND state_key = $3","2.9100774375","46.56123900000001","16"
"INSERT INTO user_daily_visits (user_id, device_id, timestamp, user_agent)
                    SELECT u.user_id, u.device_id, $1, MAX(u.user_agent)
                    FROM user_ips AS u
                    LEFT JOIN (
                      SELECT user_id, device_id, timestamp FROM user_daily_visits
                      WHERE timestamp = $2
                    ) udv
                    ON u.user_id = udv.user_id AND u.device_id=udv.device_id
                    INNER JOIN users ON users.name=u.user_id
                    WHERE $3 <= last_seen AND last_seen < $4
                    AND udv.timestamp IS NULL AND users.is_guest=$5
                    AND users.appservice_id IS NULL
                    GROUP BY u.user_id, u.device_id","3.314733857142857","46.406273999999996","14"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","3.860265833333334","46.323190000000004","12"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4])","2.2907817999999995","45.81563600000001","20"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])
                ) AS b using (room_id)","22.504508","45.009015999999995","2"
"SELECT t1.c, t2.c
                FROM (
                    SELECT room_id, COUNT(*) c FROM event_forward_extremities
                    GROUP BY room_id
                ) t1 LEFT JOIN (
                    SELECT room_id, COUNT(*) c FROM current_state_events
                    GROUP BY room_id
                ) t2 ON t1.room_id = t2.room_id","44.532282","44.532282","1"
"SELECT ""settings"".* FROM ""settings"" WHERE ""settings"".""area"" = $1 ORDER BY ""settings"".""name"" ASC","0.051462146054181375","43.691362000000005","849"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","5.427698875000001","43.421591","8"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","42.668137","42.668137","1"
"<insufficient privilege>","0.30592935251798564","42.52418000000001","139"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                    SELECT DISTINCT ON (type, state_key)
                        type, state_key, event_id
                    FROM state_groups_state
                    WHERE state_group IN (
                        SELECT state_group FROM sgs
                    )  AND ((type = $2 AND state_key = $3) OR type NOT IN ($4))
                    ORDER BY type, state_key, state_group DESC","1.7240187083333336","41.376448999999994","24"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19])","3.4182977500000002","41.019573","12"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1])","0.23452165317919074","40.57224599999996","173"
"<insufficient privilege>","0.289176035971223","40.195469","139"
"SELECT stream_id FROM cache_invalidation_stream_by_instance
                WHERE stream_id <= $1 AND invalidation_ts <= $2
                ORDER BY stream_id DESC
                LIMIT $3","40.022456999999996","40.022456999999996","1"
"<insufficient privilege>","0.10901709264305177","40.00927300000001","367"
"SELECT ""users"".* FROM ""users"" INNER JOIN ""roles_users"" ON ""roles_users"".""user_id"" = ""users"".""id"" INNER JOIN ""roles"" ON ""roles"".""id"" = ""roles_users"".""role_id"" INNER JOIN ""permissions_roles"" ON ""permissions_roles"".""role_id"" = ""roles"".""id"" INNER JOIN ""permissions"" ON ""permissions"".""id"" = ""permissions_roles"".""permission_id"" INNER JOIN ""groups_users"" ON ""groups_users"".""user_id"" = ""users"".""id"" WHERE ""roles"".""active"" = $1 AND ""permissions"".""name"" IN ($2, $3) AND ""permissions"".""active"" = $4 AND ""groups_users"".""group_id"" = $5 AND ""groups_users"".""access"" = $6 AND ""users"".""active"" = $7","2.7628977142857143","38.680567999999994","14"
"INSERT INTO device_lists_changes_in_room (user_id, device_id, room_id, stream_id, instance_name, converted_to_destinations, opentracing_context) VALUES ($1,$2,$3,$4,$5,$6,$7),($8,$9,$10,$11,$12,$13,$14),($15,$16,$17,$18,$19,$20,$21),($22,$23,$24,$25,$26,$27,$28),($29,$30,$31,$32,$33,$34,$35),($36,$37,$38,$39,$40,$41,$42),($43,$44,$45,$46,$47,$48,$49),($50,$51,$52,$53,$54,$55,$56),($57,$58,$59,$60,$61,$62,$63),($64,$65,$66,$67,$68,$69,$70),($71,$72,$73,$74,$75,$76,$77)","19.1781835","38.356367","2"
"<insufficient privilege>","0.26556015107913683","36.912861","139"
"SELECT instance_name, stream_ordering
            FROM timeline_gaps
            WHERE room_id = $1 AND $2 < stream_ordering AND stream_ordering <= $3
            ORDER BY stream_ordering","0.11200182500000003","35.840583999999986","320"
"<insufficient privilege>","0.09739257650273218","35.645682999999984","366"
"SELECT event_id, event_stream_ordering
            FROM receipts_linearized
            WHERE receipt_type = ANY(ARRAY[$1,$2])
            AND user_id = $3
            AND room_id = $4
            AND thread_id IS NULL
            ORDER BY event_stream_ordering DESC
            LIMIT $5","0.2159275432098765","34.980262000000025","162"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19])","8.422587","33.69034800000001","4"
"UPDATE devices SET user_agent = $1, last_seen = $2, ip = $3 WHERE user_id = $4 AND device_id = $5","0.2861290427350426","33.477097999999984","117"
"<insufficient privilege>","0.23433304316546763","32.57229299999998","139"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])","6.307590200000001","31.537951000000003","5"
"SELECT ""users"".* FROM ""users"" WHERE ""users"".""id"" = $1 LIMIT $2","0.03655330705882346","31.07031099999999","850"
"SELECT coalesce(max(stream_id), $1) as stream_id
                FROM device_lists_outbound_last_success
                WHERE destination = $2 AND user_id = $3 AND stream_id <= $4","0.045665985119047674","30.68754199999999","672"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])","7.66110975","30.644439000000002","4"
"DELETE FROM worker_read_write_locks
                WHERE last_renewed_ts < $1","0.017590959124928036","30.555495999999987","1737"
"insert into event_dead_letters (
  insertion_id,
  ""group"",
  event
)
values (
  cast($1 as uuid), 
  $2, 
  $3
)","7.381233999999999","29.524935999999997","4"
"<insufficient privilege>","0.21158989928057556","29.41099600000003","139"
"<insufficient privilege>","0.20281336690647486","28.191058","139"
"<insufficient privilege>","0.20272123021582747","28.178251","139"
"SELECT thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type, thumbnail_length FROM remote_media_cache_thumbnails WHERE media_origin = $1 AND media_id = $2","2.2983230833333335","27.579877","12"
"SELECT user_id, device_id, d.display_name, k.key_json
                    FROM devices d
                    LEFT JOIN e2e_device_keys_json k USING (user_id, device_id)
                    WHERE (user_id,device_id) IN (VALUES ($1,$2)) AND NOT d.hidden","0.04099094791666665","27.545916999999985","672"
"SELECT DISTINCT ON (user_id, keytype) user_id, keytype, keydata, stream_id
                        FROM e2e_cross_signing_keys
                        WHERE user_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])
                        ORDER BY user_id, keytype, stream_id DESC","27.294625","27.294625","1"
"<insufficient privilege>","0.19534010791366904","27.152275000000007","139"
"<insufficient privilege>","0.19025583453237402","26.445561000000012","139"
"SELECT COUNT(*), thread_id FROM event_push_actions
            LEFT JOIN (
                SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                FROM receipts_linearized
                WHERE
                    user_id = $1
                    AND room_id = $2
                    AND event_stream_ordering > $3
                    AND receipt_type = ANY(ARRAY[$4,$5])
                GROUP BY thread_id
            ) AS receipts USING (thread_id)
            WHERE user_id = $6
                AND room_id = $7
                AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $8)
                AND highlight = $9
            GROUP BY thread_id","0.15642582098765434","25.340982999999987","162"
"COMMIT","0.0019015752179140334","25.306163","13308"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","3.112676875","24.901415000000004","8"
"SELECT device_id, content FROM device_lists_remote_cache WHERE user_id = $1","8.031392000000002","24.094176","3"
"SELECT redactions.event_id, redacts FROM redactions
            LEFT JOIN events AS original_event ON (
                redacts = original_event.event_id
            )
            WHERE NOT have_censored
            AND redactions.received_ts <= $1
            ORDER BY redactions.received_ts ASC
            LIMIT $2","1.7034342857142852","23.84808","14"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])
                        AND relation_type = $10
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","1.4767745625000002","23.628393","16"
"UPDATE room_forgetter_stream_pos SET stream_id = $1","0.11253996618357488","23.295772999999983","207"
"SELECT MAX(stream_ordering) FROM events","0.3294275571428571","23.059929000000007","70"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","2.847244","22.777952","8"
"DELETE FROM ""sessions"" WHERE ""sessions"".""id"" = $1","0.03108047083333333","22.37793899999999","720"
"<insufficient privilege>","0.1597718705035972","22.20828999999999","139"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])","4.214705","21.073525","5"
"INSERT INTO stream_positions (stream_name, instance_name, stream_id)
            VALUES ($1, $2, $3)
            ON CONFLICT (stream_name, instance_name)
            DO UPDATE SET
                stream_id = GREATEST(stream_positions.stream_id, EXCLUDED.stream_id)","0.09171360352422911","20.818988","227"
"SELECT state_key, display_name, avatar_url FROM room_memberships as m
                INNER JOIN current_state_events as c
                ON m.event_id = c.event_id
                AND m.room_id = c.room_id
                AND m.user_id = c.state_key
                WHERE c.type = $1 AND c.room_id = $2 AND m.membership = $3 AND c.state_key = ANY(ARRAY[$4])","20.695819","20.695819","1"
"SELECT count(*) FROM federation_inbound_events_staging","0.02960104172661871","20.572724000000008","695"
"SELECT COUNT(*) FROM (
                SELECT user_id FROM user_ips
                WHERE last_seen > $1
                GROUP BY user_id
            ) u","1.4558215","20.381501","14"
"SELECT notif_count, COALESCE(unread_count, $1), thread_id
                FROM event_push_summary
                LEFT JOIN (
                    SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                    FROM receipts_linearized
                    WHERE
                        user_id = $2
                        AND room_id = $3
                        AND event_stream_ordering > $4
                        AND receipt_type = ANY(ARRAY[$5,$6])
                    GROUP BY thread_id
                ) AS receipts USING (thread_id)
                WHERE room_id = $7 AND user_id = $8
                AND (
                    (last_receipt_stream_ordering IS NULL AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $9))
                    OR last_receipt_stream_ordering = COALESCE(threaded_receipt_stream_ordering, $10)
                ) AND (notif_count != $11 OR COALESCE(unread_count, $12) != $13)","0.12482556172839501","20.22174100000001","162"
"INSERT INTO e2e_one_time_keys_json (user_id, device_id, algorithm, key_id, ts_added_ms, key_json) VALUES ($1,$2,$3,$4,$5,$6),($7,$8,$9,$10,$11,$12),($13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24),($25,$26,$27,$28,$29,$30),($31,$32,$33,$34,$35,$36),($37,$38,$39,$40,$41,$42),($43,$44,$45,$46,$47,$48),($49,$50,$51,$52,$53,$54),($55,$56,$57,$58,$59,$60),($61,$62,$63,$64,$65,$66),($67,$68,$69,$70,$71,$72),($73,$74,$75,$76,$77,$78),($79,$80,$81,$82,$83,$84),($85,$86,$87,$88,$89,$90),($91,$92,$93,$94,$95,$96),($97,$98,$99,$100,$101,$102),($103,$104,$105,$106,$107,$108),($109,$110,$111,$112,$113,$114),($115,$116,$117,$118,$119,$120),($121,$122,$123,$124,$125,$126),($127,$128,$129,$130,$131,$132),($133,$134,$135,$136,$137,$138),($139,$140,$141,$142,$143,$144),($145,$146,$147,$148,$149,$150),($151,$152,$153,$154,$155,$156),($157,$158,$159,$160,$161,$162),($163,$164,$165,$166,$167,$168),($169,$170,$171,$172,$173,$174),($175,$176,$177,$178,$179,$180),($181,$182,$183,$184,$185,$186),($187,$188,$189,$190,$191,$192),($193,$194,$195,$196,$197,$198),($199,$200,$201,$202,$203,$204),($205,$206,$207,$208,$209,$210),($211,$212,$213,$214,$215,$216),($217,$218,$219,$220,$221,$222),($223,$224,$225,$226,$227,$228),($229,$230,$231,$232,$233,$234),($235,$236,$237,$238,$239,$240),($241,$242,$243,$244,$245,$246),($247,$248,$249,$250,$251,$252),($253,$254,$255,$256,$257,$258),($259,$260,$261,$262,$263,$264),($265,$266,$267,$268,$269,$270),($271,$272,$273,$274,$275,$276),($277,$278,$279,$280,$281,$282),($283,$284,$285,$286,$287,$288),($289,$290,$291,$292,$293,$294),($295,$296,$297,$298,$299,$300),($301,$302,$303,$304,$305,$306),($307,$308,$309,$310,$311,$312),($313,$314,$315,$316,$317,$318),($319,$320,$321,$322,$323,$324),($325,$326,$327,$328,$329,$330),($331,$332,$333,$334,$335,$336),($337,$338,$339,$340,$341,$342),($343,$344,$345,$346,$347,$348),($349,$350,$351,$352,$353,$354),($355,$356,$357,$358,$359,$360),($361,$362,$363,$364,$365,$366),($367,$368,$369,$370,$371,$372),($373,$374,$375,$376,$377,$378),($379,$380,$381,$382,$383,$384),($385,$386,$387,$388,$389,$390),($391,$392,$393,$394,$395,$396)","20.077075","20.077075","1"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2])","0.10549721578947366","20.044470999999994","190"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24])","9.839996","19.679992","2"
"UPDATE ""delayed_jobs"" SET locked_at = $1, locked_by = $2 WHERE id IN (SELECT ""delayed_jobs"".""id"" FROM ""delayed_jobs"" WHERE (((run_at <= $3 AND (locked_at IS NULL OR locked_at < $4)) OR locked_by = $5) AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT $6 FOR UPDATE) RETURNING *","0.01887632115384617","19.631374","1040"
"SELECT user_id FROM device_lists_remote_resync WHERE user_id = ANY(ARRAY[$1])","0.023315635928143737","19.468555999999996","835"
"<insufficient privilege>","0.00500121704428424","19.42472699999997","3884"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16])","4.824578750000001","19.298315000000002","4"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14])","4.756329","19.025315999999997","4"
"SELECT stream_id, instance_name, room_id, receipt_type,
                        user_id, event_id, thread_id, data
                    FROM receipts_linearized WHERE
                    stream_id > $1 AND stream_id <= $2 AND
                room_id = ANY(ARRAY[$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23])","4.717121","18.868484","4"
"SELECT stream_id, messages_json FROM device_federation_outbox WHERE destination = $1 AND $2 < stream_id AND stream_id <= $3 ORDER BY stream_id ASC LIMIT $4","0.029986638399999998","18.741648999999978","625"
"SELECT data from lmConfig WHERE cfgNum=$1","2.527748","17.694236000000004","7"
"SELECT ""users"".* FROM ""users"" WHERE ""users"".""id"" IS NULL LIMIT $1","0.02071453229665073","17.317348999999993","836"
"SELECT ""tickets"".* FROM ""tickets"" WHERE (escalation_at <= $2) ORDER BY ""tickets"".""id"" ASC LIMIT $1","1.1642482857142853","16.299476000000002","14"
"UPDATE ""schedulers"" SET ""last_run"" = $1, ""updated_at"" = $2 WHERE ""schedulers"".""id"" = $3","0.09838721212121213","16.233890000000006","165"
"SELECT nextval($1) FROM generate_series($2, $3)","0.07008630735930738","16.189937000000004","231"
"UPDATE syncv3_sync2_devices SET since = $1 WHERE user_id = $2 AND device_id = $3","0.1127204460431654","15.668142000000008","139"
"delete from OFFLINE_CLIENT_SESSION where USER_SESSION_ID in (select puse1_0.USER_SESSION_ID from OFFLINE_USER_SESSION puse1_0 where puse1_0.REALM_ID=$1 and puse1_0.OFFLINE_FLAG=$2 and puse1_0.LAST_SESSION_REFRESH<$3)","1.9497877499999998","15.598302","8"
"SELECT algorithm, COUNT(key_id) FROM e2e_one_time_keys_json WHERE user_id = $1 AND device_id = $2 GROUP BY algorithm","1.175703769230769","15.284148999999998","13"
"SELECT thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type, thumbnail_length FROM local_media_repository_thumbnails WHERE media_id = $1","7.595545499999999","15.191090999999998","2"
"UPDATE ""channels"" SET ""preferences"" = $1, ""updated_at"" = $2 WHERE ""channels"".""id"" = $3","0.1071371884057971","14.784931999999998","138"
"SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype
FROM pg_type as t
LEFT JOIN pg_range as r ON oid = rngtypid
WHERE
  t.typtype IN ($1, $2, $3)","2.095371285714286","14.667599","7"
"SELECT DISTINCT substring(state_key FROM $1)
                FROM current_state_events
                WHERE
                    type = $2
                    AND membership = $3
                    AND room_id = $4","0.9105662500000001","14.569059999999997","16"
"<insufficient privilege>","0.10419803597122304","14.483527000000006","139"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9)","0.12350562608695652","14.203147000000003","115"
"DELETE FROM stream_ordering_to_exterm
                WHERE stream_ordering < $1","14.159226","14.159226","1"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40])","2.8115402","14.057701000000002","5"
"DELETE FROM user_ips
            WHERE last_seen IN (
                SELECT last_seen FROM user_ips
                WHERE last_seen <= $1
                ORDER BY last_seen ASC
                LIMIT $2
            )","0.01675108043217286","13.95364999999999","833"
"SELECT room_id, account_data_type, content FROM room_account_data
                WHERE user_id = $1","1.733908625","13.871269","8"
"update OFFLINE_USER_SESSION set LAST_SESSION_REFRESH=$1 where REALM_ID=$2 and OFFLINE_FLAG=$3 and USER_SESSION_ID in ($4)","1.5158703333333334","13.642833","9"
"INSERT INTO event_search
            (event_id, room_id, key, vector, stream_ordering, origin_server_ts)
            VALUES ($1,$2,$3,to_tsvector($4, $5),$6,$7)","6.791259","13.582518","2"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14])","1.6801695","13.441356","8"
"<insufficient privilege>","0.03626374863387979","13.272531999999996","366"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16])","3.3011789999999994","13.204716","4"
"SELECT ""ticket_articles"".* FROM ""ticket_articles"" WHERE (ticket_id = $2 AND sender_id NOT IN ($3)) ORDER BY ""ticket_articles"".""created_at"" DESC LIMIT $1","0.4696663928571428","13.150659000000001","28"
"INSERT INTO user_ips (user_id, access_token, ip, user_agent, device_id, last_seen) VALUES ($1,$2,$3,$4,$5,$6),($7,$8,$9,$10,$11,$12) ON CONFLICT (user_id, access_token, ip) DO UPDATE SET user_agent=EXCLUDED.user_agent, device_id=EXCLUDED.device_id, last_seen=EXCLUDED.last_seen","1.8595784285714287","13.017048999999998","7"
"UPDATE ""schedulers"" SET ""last_run"" = $1, ""pid"" = $2, ""updated_at"" = $3 WHERE ""schedulers"".""id"" = $4","0.40653228125000007","13.009033","32"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19])","0.585784090909091","12.887249999999996","22"
"SELECT ""sessions"".* FROM ""sessions"" ORDER BY ""sessions"".""updated_at"" DESC LIMIT $1","12.663533","12.663533","1"
"SELECT min(received_ts) FROM federation_inbound_events_staging","0.01813041726618707","12.600639999999986","695"
"INSERT INTO access_tokens (id, user_id, token, device_id, valid_until_ms, puppets_user_id, last_validated, refresh_token_id, used) VALUES($1, $2, $3, $4, $5, $6, $7, $8, $9)","12.117617000000001","12.117617000000001","1"
"SELECT response_code, response_json FROM received_transactions WHERE transaction_id = $1 AND origin = $2","0.08708087050359713","12.104240999999998","139"
"SELECT algorithm FROM e2e_fallback_keys_json WHERE user_id = $1 AND device_id = $2 AND used = $3","1.0079886666666669","12.095864","12"
"SELECT name FROM users","2.4105638000000003","12.052819000000001","5"
"UPDATE event_push_summary_stream_ordering SET stream_ordering = $1","0.086325892086331","11.999299000000002","139"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])","1.4981202500000002","11.984962","8"
"INSERT INTO worker_read_write_locks (lock_name, lock_key, write_lock, instance_name, token, last_renewed_ts) VALUES($1, $2, $3, $4, $5, $6)","1.7085928571428572","11.96015","7"
"SELECT account_data_type, content FROM account_data
                WHERE user_id = $1","1.4866992500000002","11.893594000000002","8"
"SELECT state_key FROM current_state_events WHERE type = $1 AND room_id = $2 AND membership = $3","0.07696097368421051","11.698068000000001","152"
"SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype
FROM pg_type as t
LEFT JOIN pg_range as r ON oid = rngtypid
WHERE
  t.typelem IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46, $47, $48)","1.6514527142857143","11.560169","7"
"UPDATE event_push_summary_last_receipt_stream_id SET stream_id = $1","0.08294934532374107","11.529959000000012","139"
"insert into OFFLINE_USER_SESSION (CREATED_ON,DATA,LAST_SESSION_REFRESH,REALM_ID,USER_ID,OFFLINE_FLAG,USER_SESSION_ID) values ($1,$2,$3,$4,$5,$6,$7)","3.799689666666666","11.399068999999999","3"
"SELECT MAX(stream_id) FROM (
                    SELECT stream_id FROM device_inbox
                    WHERE user_id = $1 AND device_id = $2
                        AND $3 < stream_id AND stream_id <= $4
                    ORDER BY stream_id
                    LIMIT $5
                ) AS d","0.3118857777777777","11.227887999999997","36"
"SELECT stream_ordering FROM event_push_summary_stream_ordering","0.019225618307426577","11.131632999999985","579"
"DELETE FROM device_lists_stream
            WHERE user_id = $1 AND stream_id < $2 AND device_id = ANY(ARRAY[$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44])","10.915253","10.915253","1"
"SELECT DISTINCT ON (user_id, keytype) user_id, keytype, keydata, stream_id
                        FROM e2e_cross_signing_keys
                        WHERE user_id = ANY(ARRAY[$1])
                        ORDER BY user_id, keytype, stream_id DESC","2.7188600000000003","10.87544","4"
"SELECT $5 AS one FROM ""histories"" WHERE ""histories"".""history_type_id"" = $1 AND ""histories"".""history_object_id"" = $2 AND ""histories"".""o_id"" = $3 AND (created_at > $6) AND (value_to LIKE $7) LIMIT $4","0.38636775","10.818297000000003","28"
"SELECT session_id FROM ui_auth_sessions WHERE creation_time <= $1","0.7508536428571431","10.511951000000002","14"
"SELECT max(cfgNum) from lmConfig","1.492328","10.446296","7"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27])","10.080042","10.080042","1"
"SELECT event_id FROM partial_state_events WHERE event_id = ANY(ARRAY[$1])","0.03188633860759493","10.076082999999988","316"
"<insufficient privilege>","0.013704323770491812","10.031564999999999","732"
"SELECT set_config($1,$2,$3) FROM pg_settings WHERE name = $4","1.9794608","9.897304","5"
"SELECT
	r.oid, r.rolname, r.rolcanlogin, r.rolsuper,
	pg_catalog.shobj_description(r.oid, $1) AS description
FROM
	pg_catalog.pg_roles r
ORDER BY r.rolcanlogin, r.rolname","9.742733999999999","9.742733999999999","1"
"SELECT ""channels"".* FROM ""channels"" WHERE (active = $1 AND area LIKE $2)","0.07018404347826088","9.685398000000003","138"
"WITH ranked_snapshots AS (
		SELECT
		  snapshot_id,
		  room_id,
		  ROW_NUMBER() OVER (PARTITION BY room_id ORDER BY snapshot_id DESC) AS row_num
		FROM
		  syncv3_snapshots
	  )
	  DELETE FROM syncv3_snapshots USING ranked_snapshots
	  WHERE syncv3_snapshots.snapshot_id = ranked_snapshots.snapshot_id
	  AND ranked_snapshots.row_num > $1","9.332314","9.332314","1"
"SELECT media_type, media_length, upload_name, created_ts, filesystem_id, last_access_ts, quarantined_by, authenticated FROM remote_media_cache WHERE media_origin = $1 AND media_id = $2","0.5805815625000001","9.289304999999999","16"
"SELECT slot_name, database, active, pg_wal_lsn_diff(pg_current_wal_lsn(), restart_lsn)
			FROM pg_replication_slots","0.06574772661870502","9.138933999999997","139"
"DELETE FROM event_txn_id_device_id
                WHERE inserted_ts < $1","0.6525571428571428","9.135799999999998","14"
"SELECT ""history_types"".* FROM ""history_types"" WHERE ""history_types"".""name"" = $1 LIMIT $2","0.6470172142857143","9.058240999999999","14"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])
                        AND relation_type = $11
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","2.1965310000000002","8.786124000000001","4"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","0.39691977272727264","8.732234999999998","22"
"SELECT stream_id FROM account_data
                WHERE user_id = $1 AND account_data_type = $2
                ORDER BY stream_id DESC
                LIMIT $3","0.26053890909090904","8.597783999999997","33"
"INSERT INTO device_lists_changes_in_room (user_id, device_id, room_id, stream_id, instance_name, converted_to_destinations, opentracing_context) VALUES ($1,$2,$3,$4,$5,$6,$7),($8,$9,$10,$11,$12,$13,$14),($15,$16,$17,$18,$19,$20,$21),($22,$23,$24,$25,$26,$27,$28),($29,$30,$31,$32,$33,$34,$35),($36,$37,$38,$39,$40,$41,$42),($43,$44,$45,$46,$47,$48,$49),($50,$51,$52,$53,$54,$55,$56),($57,$58,$59,$60,$61,$62,$63),($64,$65,$66,$67,$68,$69,$70),($71,$72,$73,$74,$75,$76,$77),($78,$79,$80,$81,$82,$83,$84),($85,$86,$87,$88,$89,$90,$91),($92,$93,$94,$95,$96,$97,$98),($99,$100,$101,$102,$103,$104,$105),($106,$107,$108,$109,$110,$111,$112),($113,$114,$115,$116,$117,$118,$119),($120,$121,$122,$123,$124,$125,$126),($127,$128,$129,$130,$131,$132,$133),($134,$135,$136,$137,$138,$139,$140),($141,$142,$143,$144,$145,$146,$147),($148,$149,$150,$151,$152,$153,$154),($155,$156,$157,$158,$159,$160,$161),($162,$163,$164,$165,$166,$167,$168),($169,$170,$171,$172,$173,$174,$175),($176,$177,$178,$179,$180,$181,$182),($183,$184,$185,$186,$187,$188,$189),($190,$191,$192,$193,$194,$195,$196),($197,$198,$199,$200,$201,$202,$203),($204,$205,$206,$207,$208,$209,$210),($211,$212,$213,$214,$215,$216,$217),($218,$219,$220,$221,$222,$223,$224),($225,$226,$227,$228,$229,$230,$231),($232,$233,$234,$235,$236,$237,$238),($239,$240,$241,$242,$243,$244,$245),($246,$247,$248,$249,$250,$251,$252),($253,$254,$255,$256,$257,$258,$259),($260,$261,$262,$263,$264,$265,$266),($267,$268,$269,$270,$271,$272,$273),($274,$275,$276,$277,$278,$279,$280),($281,$282,$283,$284,$285,$286,$287),($288,$289,$290,$291,$292,$293,$294)","8.477388000000001","8.477388000000001","1"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4])","0.5636926","8.455389","15"
"SELECT ""schedulers"".* FROM ""schedulers"" WHERE ""schedulers"".""id"" = $1 LIMIT $2","0.05091212650602407","8.451413000000004","166"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15])","0.7634215454545457","8.397637000000001","11"
"SELECT event_id FROM local_current_membership WHERE room_id = $1 AND user_id = $2","0.12218982352941178","8.308908000000002","68"
"SELECT at.attname, at.attnum, ty.typname
FROM pg_catalog.pg_attribute at LEFT JOIN pg_catalog.pg_type ty ON (ty.oid = at.atttypid)
JOIN pg_catalog.pg_class as cl ON cl.oid=AT.attrelid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=cl.relnamespace
WHERE
    cl.relname = $1 AND nsp.nspname=$2 AND
attnum = ANY (
(SELECT con.conkey FROM pg_catalog.pg_class rel LEFT OUTER JOIN pg_catalog.pg_constraint con ON con.conrelid=rel.oid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=REL.relnamespace
AND con.contype=$3 WHERE rel.relkind IN ($4,$5,$6, $7) AND
    rel.relname = $8 AND nsp.nspname=$9
)::oid[])","1.3844308333333335","8.306585","6"
"INSERT INTO device_lists_outbound_pokes (destination, instance_name, stream_id, user_id, device_id, sent, ts, opentracing_context) VALUES ($1,$2,$3,$4,$5,$6,$7,$8),($9,$10,$11,$12,$13,$14,$15,$16),($17,$18,$19,$20,$21,$22,$23,$24)","1.6552836000000002","8.276418000000001","5"
"insert into OFFLINE_CLIENT_SESSION (DATA,TIMESTAMP,CLIENT_ID,CLIENT_STORAGE_PROVIDER,EXTERNAL_CLIENT_ID,OFFLINE_FLAG,USER_SESSION_ID) values ($1,$2,$3,$4,$5,$6,$7)","2.746418333333333","8.239255","3"
"INSERT INTO stream_ordering_to_exterm (room_id, event_id, stream_ordering) VALUES ($1,$2,$3)","4.0542745","8.108549","2"
"SELECT DISTINCT room_id FROM device_lists_changes_in_room
            WHERE stream_id > $1 AND stream_id <= $2","0.04081625000000001","7.999984999999999","196"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3])","1.5899594","7.949796999999999","5"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30])","7.904493","7.904493","1"
"SELECT users.name as user_id,
                users.is_guest,
                users.shadow_banned,
                access_tokens.id as token_id,
                access_tokens.device_id,
                access_tokens.valid_until_ms,
                access_tokens.user_id as token_owner,
                access_tokens.used as token_used
            FROM users
            INNER JOIN access_tokens on users.name = COALESCE(puppets_user_id, access_tokens.user_id)
            WHERE token = $1","0.604606","7.859877999999999","13"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2])","0.17069371739130437","7.851910999999999","46"
"select query, mean_exec_time, total_exec_time, calls from pg_stat_statements order by total_exec_time desc","2.5867446666666667","7.760234","3"
"INSERT INTO event_edges (event_id, prev_event_id) VALUES ($1,$2)","3.816961","7.633922","2"
"SELECT stream_id FROM device_lists_remote_extremeties WHERE user_id = $1","2.451726","7.355178","3"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9)","0.09643546666666664","7.2326599999999965","75"
"SELECT filter_json FROM user_filters WHERE full_user_id = $1 AND filter_id = $2","2.3569786666666666","7.0709360000000006","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","0.18591897368421054","7.064920999999999","38"
"SELECT
    nsp.oid,
    nsp.nspname as name,
    pg_catalog.has_schema_privilege(nsp.oid, $1) as can_create,
    pg_catalog.has_schema_privilege(nsp.oid, $2) as has_usage,
    des.description
FROM
    pg_catalog.pg_namespace nsp
    LEFT OUTER JOIN pg_catalog.pg_description des ON
        (des.objoid=nsp.oid AND des.classoid=$3::regclass)
WHERE
             nspname NOT LIKE $4 AND
            NOT (
(nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) OR
    (nsp.nspname = $13 AND EXISTS
        (SELECT $14 FROM pg_catalog.pg_class WHERE relname = $15 AND
            relnamespace = nsp.oid LIMIT $16))
    )

    
ORDER BY nspname","3.4681685","6.936337","2"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60])","3.460122","6.920244","2"
"SELECT stream_id FROM cache_invalidation_stream_by_instance
                ORDER BY stream_id ASC
                LIMIT $1","6.908963","6.908963","1"
"SELECT user_id, key_id, target_device_id, signature
            FROM e2e_cross_signing_signatures WHERE (target_user_id = $1 AND target_device_id = $2 AND user_id = $3) OR (target_user_id = $4 AND target_device_id = $5 AND user_id = $6) OR (target_user_id = $7 AND target_device_id = $8 AND user_id = $9) OR (target_user_id = $10 AND target_device_id = $11 AND user_id = $12) OR (target_user_id = $13 AND target_device_id = $14 AND user_id = $15) OR (target_user_id = $16 AND target_device_id = $17 AND user_id = $18) OR (target_user_id = $19 AND target_device_id = $20 AND user_id = $21) OR (target_user_id = $22 AND target_device_id = $23 AND user_id = $24) OR (target_user_id = $25 AND target_device_id = $26 AND user_id = $27) OR (target_user_id = $28 AND target_device_id = $29 AND user_id = $30) OR (target_user_id = $31 AND target_device_id = $32 AND user_id = $33) OR (target_user_id = $34 AND target_device_id = $35 AND user_id = $36) OR (target_user_id = $37 AND target_device_id = $38 AND user_id = $39) OR (target_user_id = $40 AND target_device_id = $41 AND user_id = $42)","6.771695","6.771695","1"
"SELECT DISTINCT user_id FROM device_lists_changes_in_room
            WHERE room_id = ANY(ARRAY[$1]) AND stream_id > $2 AND stream_id <= $3","1.3484738","6.742369000000001","5"
"SELECT ""history_objects"".* FROM ""history_objects"" WHERE ""history_objects"".""name"" = $1 LIMIT $2","0.4762748571428571","6.667847999999999","14"
"select exists (
  select $1 as ""one""
  from event_dead_letters
)","0.04807663768115944","6.6345760000000045","138"
"SELECT $5 AS one FROM ""mentions"" WHERE ""mentions"".""mentionable_id"" = $1 AND ""mentions"".""mentionable_type"" = $2 AND ""mentions"".""user_id"" = $3 LIMIT $4","0.011796360714285718","6.605961999999999","560"
"SELECT DISTINCT user_id FROM device_lists_changes_in_room
            WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5]) AND stream_id > $6 AND stream_id <= $7","6.575874","6.575874","1"
"<insufficient privilege>","0.01569468105515589","6.544682000000001","417"
"SET LOCAL enable_seqscan=off","0.010117201238390099","6.5357119999999975","646"
"INSERT INTO device_lists_remote_cache (user_id, device_id, content) VALUES ($1,$2,$3),($4,$5,$6),($7,$8,$9),($10,$11,$12),($13,$14,$15),($16,$17,$18),($19,$20,$21),($22,$23,$24),($25,$26,$27),($28,$29,$30),($31,$32,$33),($34,$35,$36),($37,$38,$39),($40,$41,$42),($43,$44,$45),($46,$47,$48),($49,$50,$51),($52,$53,$54),($55,$56,$57),($58,$59,$60),($61,$62,$63),($64,$65,$66),($67,$68,$69),($70,$71,$72),($73,$74,$75),($76,$77,$78),($79,$80,$81),($82,$83,$84),($85,$86,$87),($88,$89,$90),($91,$92,$93),($94,$95,$96),($97,$98,$99),($100,$101,$102),($103,$104,$105),($106,$107,$108),($109,$110,$111),($112,$113,$114),($115,$116,$117),($118,$119,$120),($121,$122,$123),($124,$125,$126)","6.525955","6.525955","1"
"SELECT user_id, device_id, d.display_name, k.key_json
                    FROM e2e_device_keys_json k
                    INNER JOIN devices d USING (user_id, device_id)
                    WHERE user_id = ANY(ARRAY[$1]) AND NOT d.hidden","0.724607","6.521463","9"
"SELECT e.stream_ordering, e.event_id, e.room_id, e.type, se.state_key, redacts, relates_to_id, membership, rejections.reason IS NOT NULL, e.outlier FROM events AS e LEFT JOIN redactions USING (event_id) LEFT JOIN state_events AS se USING (event_id) LEFT JOIN event_relations USING (event_id) LEFT JOIN room_memberships USING (event_id) LEFT JOIN rejections USING (event_id) WHERE $1 < stream_ordering AND stream_ordering <= $2 AND instance_name = $3 ORDER BY stream_ordering ASC LIMIT $4","3.2530504999999996","6.506100999999999","2"
"<insufficient privilege>","0.046353000000000005","6.443066999999996","139"
"select *
from mail_repository_url","0.04880223664122136","6.3930929999999995","131"
"SELECT ""tickets"".* FROM ""tickets"" WHERE ""tickets"".""id"" = $1 LIMIT $2","0.22703589285714287","6.357005000000002","28"
"SELECT set_config($1,$2,$3) FROM pg_settings WHERE name = $4","2.1038873333333337","6.311662","3"
"SELECT room_id, tag, content FROM room_tags WHERE user_id = $1","0.785688375","6.285506999999999","8"
"SELECT DISTINCT room_id FROM federation_inbound_events_staging","0.022575906474820124","6.276101999999999","278"
"DELETE FROM device_lists_stream
            WHERE user_id = $1 AND stream_id < $2 AND device_id = ANY(ARRAY[$3])","1.2442842","6.221420999999999","5"
"<insufficient privilege>","0.014766050359712225","6.1574430000000016","417"
"SELECT ""groups"".* FROM ""groups"" WHERE ""groups"".""active"" = $1 AND (assignment_timeout IS NOT NULL AND groups.assignment_timeout != $2)","0.8710445714285713","6.097311999999999","7"
"UPDATE sliding_sync_joined_rooms
            SET
                event_stream_ordering = CASE
                    WHEN event_stream_ordering IS NULL OR event_stream_ordering < $1
                        THEN $2
                    ELSE event_stream_ordering
                END,
                bump_stamp = CASE
                    WHEN bump_stamp IS NULL OR bump_stamp < $3
                        THEN $4
                    ELSE bump_stamp
                END
            WHERE room_id = $5","2.9916565","5.983313","2"
"SELECT stream_id, user_id, state, last_active_ts,
                    last_federation_update_ts, last_user_sync_ts,
                    status_msg, currently_active
                FROM presence_stream
                WHERE $1 < stream_id AND stream_id <= $2
                ORDER BY stream_id ASC
                LIMIT $3","0.027790488262910792","5.919373999999998","213"
"SELECT set_config($1,$2,$3) FROM pg_settings WHERE name = $4","1.95193","5.85579","3"
"SELECT min_depth FROM room_depth WHERE room_id = $1","2.8973215","5.794643","2"
"INSERT INTO device_lists_stream (instance_name, stream_id, user_id, device_id) VALUES ($1,$2,$3,$4)","1.150285","5.751424999999999","5"
"<insufficient privilege>","0.04057909929078016","5.721653000000001","141"
"<insufficient privilege>","0.04092480575539567","5.688547999999999","139"
"INSERT INTO device_lists_stream (instance_name, stream_id, user_id, device_id) VALUES ($1,$2,$3,$4),($5,$6,$7,$8),($9,$10,$11,$12),($13,$14,$15,$16),($17,$18,$19,$20),($21,$22,$23,$24),($25,$26,$27,$28),($29,$30,$31,$32),($33,$34,$35,$36),($37,$38,$39,$40),($41,$42,$43,$44),($45,$46,$47,$48),($49,$50,$51,$52),($53,$54,$55,$56),($57,$58,$59,$60),($61,$62,$63,$64),($65,$66,$67,$68),($69,$70,$71,$72),($73,$74,$75,$76),($77,$78,$79,$80),($81,$82,$83,$84),($85,$86,$87,$88),($89,$90,$91,$92),($93,$94,$95,$96),($97,$98,$99,$100),($101,$102,$103,$104),($105,$106,$107,$108),($109,$110,$111,$112),($113,$114,$115,$116),($117,$118,$119,$120),($121,$122,$123,$124),($125,$126,$127,$128),($129,$130,$131,$132),($133,$134,$135,$136),($137,$138,$139,$140),($141,$142,$143,$144),($145,$146,$147,$148),($149,$150,$151,$152),($153,$154,$155,$156),($157,$158,$159,$160),($161,$162,$163,$164),($165,$166,$167,$168)","5.676784","5.676784","1"
"SELECT set_config($1,$2,$3) FROM pg_settings WHERE name = $4","1.8770149999999999","5.631045","3"
"SELECT ""triggers"".* FROM ""triggers"" WHERE ""triggers"".""active"" = $1 AND ""triggers"".""activator"" = $2 ORDER BY LOWER(name)","0.39982507142857143","5.597551","14"
"SELECT ""roles_groups"".""role_id"" FROM ""roles_groups"" LEFT OUTER JOIN ""roles"" ON ""roles"".""id"" = ""roles_groups"".""role_id"" WHERE ""roles_groups"".""group_id"" = $1 AND ""roles_groups"".""access"" = $2 AND ""roles"".""active"" = $3","0.39156607142857136","5.481924999999999","14"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100])","5.480405","5.480405","1"
"SELECT ""ticket_article_senders"".* FROM ""ticket_article_senders"" WHERE ""ticket_article_senders"".""name"" = $1 LIMIT $2","0.3745712857142857","5.243998","14"
"SELECT user_id, room_id, thread_id,
                coalesce(old.unread_count, $1) + upd.cnt,
                upd.stream_ordering
            FROM (
                SELECT user_id, room_id, thread_id, count(*) as cnt,
                    max(ea.stream_ordering) as stream_ordering
                FROM event_push_actions AS ea
                LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)
                WHERE $2 < ea.stream_ordering AND ea.stream_ordering <= $3
                    AND (
                        old.last_receipt_stream_ordering IS NULL
                        OR old.last_receipt_stream_ordering < ea.stream_ordering
                    )
                    AND unread = $4
                GROUP BY user_id, room_id, thread_id
            ) AS upd
            LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)","0.0376475179856115","5.233005000000001","139"
"DELETE FROM worker_read_write_locks WHERE lock_name = $1 AND lock_key = $2 AND token = $3","0.7338188571428571","5.136732","7"
"SELECT ""mentions"".* FROM ""mentions"" WHERE ""mentions"".""mentionable_type"" = $1 AND ""mentions"".""mentionable_id"" = $2","0.18243392857142857","5.108150000000001","28"
"SELECT * FROM scheduled_tasks WHERE status = ANY(ARRAY[$1]) ORDER BY timestamp LIMIT $2","0.07236280000000005","5.0653960000000025","70"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7) OR (target_user_id = $8 AND target_device_id = $9) OR (target_user_id = $10 AND target_device_id = $11) OR (target_user_id = $12 AND target_device_id = $13) OR (target_user_id = $14 AND target_device_id = $15) OR (target_user_id = $16 AND target_device_id = $17) OR (target_user_id = $18 AND target_device_id = $19) OR (target_user_id = $20 AND target_device_id = $21) OR (target_user_id = $22 AND target_device_id = $23) OR (target_user_id = $24 AND target_device_id = $25) OR (target_user_id = $26 AND target_device_id = $27) OR (target_user_id = $28 AND target_device_id = $29) OR (target_user_id = $30 AND target_device_id = $31) OR (target_user_id = $32 AND target_device_id = $33) OR (target_user_id = $34 AND target_device_id = $35) OR (target_user_id = $36 AND target_device_id = $37) OR (target_user_id = $38 AND target_device_id = $39) OR (target_user_id = $40 AND target_device_id = $41) OR (target_user_id = $42 AND target_device_id = $43) OR (target_user_id = $44 AND target_device_id = $45))","5.058057000000001","5.058057000000001","1"
"INSERT INTO event_txn_id_device_id (event_id, room_id, user_id, device_id, txn_id, inserted_ts) VALUES ($1,$2,$3,$4,$5,$6)","2.5065535","5.013107","2"
"SELECT filter_id FROM user_filters WHERE full_user_id = $1 AND filter_json = $2::bytea","2.4789425","4.957885","2"
"INSERT INTO cache_invalidation_stream_by_instance (stream_id, instance_name, cache_func, keys, invalidation_ts) VALUES($1, $2, $3, $4, $5)","2.4785085000000002","4.9570170000000005","2"
"SELECT ""email_addresses"".* FROM ""email_addresses""","0.03535742753623193","4.879324999999999","138"
"WITH fallback(max_stream_ordering) AS (
                SELECT MAX(stream_ordering)
                FROM events
                WHERE room_id = $1
            )
            SELECT COALESCE(MIN(topological_ordering), $2) FROM events
            WHERE
                room_id = $3
                AND events.stream_ordering >= LEAST(
                    $4,
                    (SELECT max_stream_ordering FROM fallback)
                )","1.6067796666666667","4.820339000000001","3"
"INSERT INTO device_auth_providers (user_id, device_id, auth_provider_id, auth_provider_session_id) VALUES($1, $2, $3, $4)","4.813726","4.813726","1"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])","1.591653","4.774959","3"
"INSERT INTO device_lists_changes_in_room (user_id, device_id, room_id, stream_id, instance_name, converted_to_destinations, opentracing_context) VALUES ($1,$2,$3,$4,$5,$6,$7),($8,$9,$10,$11,$12,$13,$14),($15,$16,$17,$18,$19,$20,$21),($22,$23,$24,$25,$26,$27,$28),($29,$30,$31,$32,$33,$34,$35),($36,$37,$38,$39,$40,$41,$42),($43,$44,$45,$46,$47,$48,$49),($50,$51,$52,$53,$54,$55,$56),($57,$58,$59,$60,$61,$62,$63),($64,$65,$66,$67,$68,$69,$70),($71,$72,$73,$74,$75,$76,$77),($78,$79,$80,$81,$82,$83,$84),($85,$86,$87,$88,$89,$90,$91),($92,$93,$94,$95,$96,$97,$98),($99,$100,$101,$102,$103,$104,$105),($106,$107,$108,$109,$110,$111,$112),($113,$114,$115,$116,$117,$118,$119),($120,$121,$122,$123,$124,$125,$126),($127,$128,$129,$130,$131,$132,$133),($134,$135,$136,$137,$138,$139,$140),($141,$142,$143,$144,$145,$146,$147),($148,$149,$150,$151,$152,$153,$154),($155,$156,$157,$158,$159,$160,$161),($162,$163,$164,$165,$166,$167,$168),($169,$170,$171,$172,$173,$174,$175),($176,$177,$178,$179,$180,$181,$182),($183,$184,$185,$186,$187,$188,$189),($190,$191,$192,$193,$194,$195,$196),($197,$198,$199,$200,$201,$202,$203),($204,$205,$206,$207,$208,$209,$210),($211,$212,$213,$214,$215,$216,$217),($218,$219,$220,$221,$222,$223,$224),($225,$226,$227,$228,$229,$230,$231),($232,$233,$234,$235,$236,$237,$238),($239,$240,$241,$242,$243,$244,$245),($246,$247,$248,$249,$250,$251,$252),($253,$254,$255,$256,$257,$258,$259),($260,$261,$262,$263,$264,$265,$266),($267,$268,$269,$270,$271,$272,$273),($274,$275,$276,$277,$278,$279,$280),($281,$282,$283,$284,$285,$286,$287),($288,$289,$290,$291,$292,$293,$294),($295,$296,$297,$298,$299,$300,$301),($302,$303,$304,$305,$306,$307,$308)","4.737475","4.737475","1"
"SELECT ""ticket_articles"".* FROM ""ticket_articles"" WHERE ""ticket_articles"".""id"" = $1 LIMIT $2","0.1688283928571429","4.727194999999999","28"
"SELECT server_name, key_id, key_json, ts_valid_until_ms
                FROM server_keys_json WHERE $1=$2
                 OR (server_name=$3 AND key_id=$4)
                ORDER BY ts_added_ms","2.3586780000000003","4.7173560000000005","2"
"SELECT * FROM scheduled_tasks WHERE status = ANY(ARRAY[$1,$2]) AND timestamp <= $3 ORDER BY timestamp","0.06641165714285716","4.648815999999999","70"
"INSERT INTO login_tokens (token, user_id, expiry_ts, auth_provider_id, auth_provider_session_id) VALUES($1, $2, $3, $4, $5)","4.605948000000001","4.605948000000001","1"
"SELECT
    nsp.oid,
    nsp.nspname as name,
    pg_catalog.has_schema_privilege(nsp.oid, $1) as can_create,
    pg_catalog.has_schema_privilege(nsp.oid, $2) as has_usage,
    des.description
FROM
    pg_catalog.pg_namespace nsp
    LEFT OUTER JOIN pg_catalog.pg_description des ON
        (des.objoid=nsp.oid AND des.classoid=$3::regclass)
WHERE
             nspname NOT LIKE $4 AND
            NOT (
(nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) OR
    (nsp.nspname = $13 AND EXISTS
        (SELECT $14 FROM pg_catalog.pg_class WHERE relname = $15 AND
            relnamespace = nsp.oid LIMIT $16))
    )

    
ORDER BY nspname","4.5671","4.5671","1"
"COMMIT","0.002358387046632128","4.551687","1930"
"SELECT $3 AS one FROM ""channels"" WHERE ""channels"".""id"" = $1 LIMIT $2","0.03230238405797102","4.457729000000001","138"
"<insufficient privilege>","0.03206593525179855","4.457164999999999","139"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1])","0.55583","4.446640000000001","8"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38])","4.428464","4.428464","1"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2])
                        AND relation_type = $3
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.21585714999999997","4.317143","20"
"<insufficient privilege>","0.010244925659472414","4.272133999999999","417"
"SELECT
                COUNT(CASE WHEN notif = $1 THEN $2 END),
                COUNT(CASE WHEN unread = $3 THEN $4 END),
                thread_id
            FROM event_push_actions
            LEFT JOIN (
                SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                FROM receipts_linearized
                WHERE
                    user_id = $5
                    AND room_id = $6
                    AND event_stream_ordering > $7
                    AND receipt_type = ANY(ARRAY[$8,$9])
                GROUP BY thread_id
            ) AS receipts USING (thread_id)
            WHERE user_id = $10
                AND room_id = $11
                AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $12)
                AND NOT thread_id = ANY(ARRAY[$13])
            GROUP BY thread_id","0.35411600000000004","4.249391999999999","12"
"SELECT user_id FROM device_lists_remote_resync","0.030561532374100718","4.248053","139"
"BEGIN","0.0021925616580310897","4.231643999999998","1930"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34])","4.136686","4.136686","1"
"<insufficient privilege>","0.02962603597122302","4.118019000000001","139"
"SELECT rule_id, enabled FROM push_rules_enable WHERE user_name = $1","0.511805125","4.094441000000001","8"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7))","0.817599","4.087995","5"
"<insufficient privilege>","0.028933762589928056","4.021793","139"
"select rae1_0.NAME,rae1_0.REALM_ID,rae1_0.VALUE from REALM_ATTRIBUTE rae1_0 where rae1_0.NAME=$1 and character_length(rae1_0.VALUE)>$2","1.001998","4.007992","4"
"<insufficient privilege>","0.02873102877697844","3.9936130000000003","139"
"INSERT INTO device_lists_remote_cache (user_id, device_id, content) VALUES ($1, $2, $3) ON CONFLICT (user_id, device_id) DO UPDATE SET content=EXCLUDED.content","1.9824575","3.964915","2"
"SELECT
             gss_authenticated, encrypted
        FROM
            pg_catalog.pg_stat_gssapi
        WHERE pid = pg_backend_pid()","1.321218","3.963654","3"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120])","3.961193","3.961193","1"
"SELECT
             gss_authenticated, encrypted
        FROM
            pg_catalog.pg_stat_gssapi
        WHERE pid = pg_backend_pid()","1.3202253333333331","3.9606759999999994","3"
"SELECT count(*), membership FROM current_state_events
            WHERE type = $1 AND room_id = $2
                AND membership IS NOT NULL
            GROUP BY membership","0.1785489090909091","3.9280760000000003","22"
"SELECT stream_id FROM event_push_summary_last_receipt_stream_id","0.027983726618705046","3.8897379999999995","139"
"SELECT user_id, stream_id FROM device_lists_remote_extremeties WHERE user_id = ANY(ARRAY[$1,$2])","3.882191","3.882191","1"
"select pcse1_0.CLIENT_ID,pcse1_0.CLIENT_STORAGE_PROVIDER,pcse1_0.EXTERNAL_CLIENT_ID,pcse1_0.OFFLINE_FLAG,pcse1_0.USER_SESSION_ID,pcse1_0.DATA,pcse1_0.TIMESTAMP from OFFLINE_CLIENT_SESSION pcse1_0 where (pcse1_0.CLIENT_ID,pcse1_0.CLIENT_STORAGE_PROVIDER,pcse1_0.EXTERNAL_CLIENT_ID,pcse1_0.OFFLINE_FLAG,pcse1_0.USER_SESSION_ID) in (($1,$2,$3,$4,$5))","1.291628","3.8748839999999998","3"
"SELECT prev_event_id, internal_metadata
            FROM event_edges
                INNER JOIN events USING (event_id)
                LEFT JOIN rejections USING (event_id)
                LEFT JOIN event_json USING (event_id)
            WHERE
                NOT events.outlier
                AND rejections.event_id IS NULL
                AND
            prev_event_id = ANY(ARRAY[$1])","1.9370145","3.874029","2"
"SELECT media_type, media_length, upload_name, created_ts, quarantined_by, url_cache, last_access_ts, safe_from_quarantine, user_id, authenticated FROM local_media_repository WHERE media_id = $1","1.9352765","3.870553","2"
"select distinct re1_0.EVENTS_EXPIRATION from REALM re1_0 where re1_0.EVENTS_EXPIRATION>$1","0.9566779999999999","3.8267119999999997","4"
"INSERT INTO device_lists_outbound_last_success (destination, user_id, stream_id) VALUES ($1,$2,$3) ON CONFLICT (destination, user_id) DO UPDATE SET stream_id=EXCLUDED.stream_id","0.47777912499999997","3.8222329999999993","8"
"SELECT user_id, room_id, thread_id,
                coalesce(old.notif_count, $1) + upd.cnt,
                upd.stream_ordering
            FROM (
                SELECT user_id, room_id, thread_id, count(*) as cnt,
                    max(ea.stream_ordering) as stream_ordering
                FROM event_push_actions AS ea
                LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)
                WHERE $2 < ea.stream_ordering AND ea.stream_ordering <= $3
                    AND (
                        old.last_receipt_stream_ordering IS NULL
                        OR old.last_receipt_stream_ordering < ea.stream_ordering
                    )
                    AND notif = $4
                GROUP BY user_id, room_id, thread_id
            ) AS upd
            LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)","0.027085640287769792","3.764904000000001","139"
"SELECT user_id, key_id, target_device_id, signature
            FROM e2e_cross_signing_signatures WHERE (target_user_id = $1 AND target_device_id = $2 AND user_id = $3) OR (target_user_id = $4 AND target_device_id = $5 AND user_id = $6) OR (target_user_id = $7 AND target_device_id = $8 AND user_id = $9) OR (target_user_id = $10 AND target_device_id = $11 AND user_id = $12) OR (target_user_id = $13 AND target_device_id = $14 AND user_id = $15) OR (target_user_id = $16 AND target_device_id = $17 AND user_id = $18) OR (target_user_id = $19 AND target_device_id = $20 AND user_id = $21) OR (target_user_id = $22 AND target_device_id = $23 AND user_id = $24) OR (target_user_id = $25 AND target_device_id = $26 AND user_id = $27) OR (target_user_id = $28 AND target_device_id = $29 AND user_id = $30) OR (target_user_id = $31 AND target_device_id = $32 AND user_id = $33) OR (target_user_id = $34 AND target_device_id = $35 AND user_id = $36) OR (target_user_id = $37 AND target_device_id = $38 AND user_id = $39) OR (target_user_id = $40 AND target_device_id = $41 AND user_id = $42) OR (target_user_id = $43 AND target_device_id = $44 AND user_id = $45)","0.41755000000000003","3.75795","9"
"SELECT
    nsp.oid,
    nsp.nspname as name,
    pg_catalog.has_schema_privilege(nsp.oid, $1) as can_create,
    pg_catalog.has_schema_privilege(nsp.oid, $2) as has_usage,
    des.description
FROM
    pg_catalog.pg_namespace nsp
    LEFT OUTER JOIN pg_catalog.pg_description des ON
        (des.objoid=nsp.oid AND des.classoid=$3::regclass)
WHERE
             nspname NOT LIKE $4 AND
            NOT (
(nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) OR
    (nsp.nspname = $13 AND EXISTS
        (SELECT $14 FROM pg_catalog.pg_class WHERE relname = $15 AND
            relnamespace = nsp.oid LIMIT $16))
    )

    
ORDER BY nspname","3.725645","3.725645","1"
"INSERT INTO event_forward_extremities (event_id, room_id) VALUES ($1,$2)","1.8554115000000002","3.7108230000000004","2"
"<insufficient privilege>","0.05426402941176471","3.689954","68"
"SELECT room_id, (
                    SELECT count(*) FROM room_memberships
                    WHERE room_id = m.room_id AND user_id = m.user_id AND forgotten = $1
                ) AS count
                FROM room_memberships AS m
                WHERE user_id = $2 AND forgotten = $3
                GROUP BY room_id, user_id","0.4574817499999999","3.6598539999999997","8"
"SELECT displayname, avatar_url FROM profiles WHERE full_user_id = $1","3.620083","3.620083","1"
"DELETE FROM received_transactions WHERE ts < $1","1.7667769999999998","3.5335539999999996","2"
"BEGIN ISOLATION LEVEL READ COMMITTED","0.016444737089201883","3.502728999999999","213"
"SELECT
                    event_id, prev_event_id, internal_metadata,
                    rejections.event_id IS NOT NULL
                FROM event_edges
                    INNER JOIN events USING (event_id)
                    LEFT JOIN rejections USING (event_id)
                    LEFT JOIN event_json USING (event_id)
                WHERE
                    NOT events.outlier
                    AND
                event_id = ANY(ARRAY[$1])","1.7357770000000001","3.4715540000000003","2"
"INSERT INTO events (instance_name, stream_ordering, topological_ordering, depth, event_id, room_id, type, processed, outlier, origin_server_ts, received_ts, sender, contains_url, state_key, rejection_reason) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15)","1.7250975","3.450195","2"
"SELECT rule_id, priority_class, priority, conditions, actions FROM push_rules WHERE user_name = $1","0.4215086249999999","3.372069","8"
"SELECT user_id FROM user_external_ids WHERE auth_provider = $1 AND external_id = $2","3.318417","3.318417","1"
"SELECT oid, * FROM pg_catalog.pg_type WHERE typname IN ($1,$2,$3)","0.32302719999999996","3.2302720000000003","10"
"SELECT key, pg_catalog.set_config(key, val, $1) as val
            FROM (VALUES ($2, ($3)::text),($4, ($5)::text)) as v(key, val)","0.04652388405797101","3.210148","69"
"SELECT address FROM userHistory","0.6400832","3.2004159999999997","5"
"SELECT ""ticket_article_senders"".* FROM ""ticket_article_senders"" WHERE ""ticket_article_senders"".""id"" = $1 LIMIT $2","0.22850114285714285","3.1990159999999994","14"
"SELECT
                COUNT(CASE WHEN notif = $1 THEN $2 END),
                COUNT(CASE WHEN unread = $3 THEN $4 END),
                thread_id
            FROM event_push_actions
            LEFT JOIN (
                SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                FROM receipts_linearized
                WHERE
                    user_id = $5
                    AND room_id = $6
                    AND event_stream_ordering > $7
                    AND receipt_type = ANY(ARRAY[$8,$9])
                GROUP BY thread_id
            ) AS receipts USING (thread_id)
            WHERE user_id = $10
                AND room_id = $11
                AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $12)
                AND NOT thread_id = ANY($13)
            GROUP BY thread_id","0.02125397333333333","3.188096","150"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30])","3.1735930000000003","3.1735930000000003","1"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])
                        AND relation_type = $7
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","1.0367523333333333","3.110257","3"
"SELECT DISTINCT att.attname as name, att.attnum as OID, pg_catalog.format_type(ty.oid,$1) AS datatype,
att.attnotnull as not_null, att.atthasdef as has_default_val, des.description, seq.seqtypid
FROM pg_catalog.pg_attribute att
    JOIN pg_catalog.pg_type ty ON ty.oid=atttypid
    JOIN pg_catalog.pg_namespace tn ON tn.oid=ty.typnamespace
    JOIN pg_catalog.pg_class cl ON cl.oid=att.attrelid
    JOIN pg_catalog.pg_namespace na ON na.oid=cl.relnamespace
    LEFT OUTER JOIN pg_catalog.pg_type et ON et.oid=ty.typelem
    LEFT OUTER JOIN pg_catalog.pg_attrdef def ON adrelid=att.attrelid AND adnum=att.attnum
    LEFT OUTER JOIN (pg_catalog.pg_depend JOIN pg_catalog.pg_class cs ON classid=$2::regclass AND objid=cs.oid AND cs.relkind=$3) ON refobjid=att.attrelid AND refobjsubid=att.attnum
    LEFT OUTER JOIN pg_catalog.pg_namespace ns ON ns.oid=cs.relnamespace
    LEFT OUTER JOIN pg_catalog.pg_index pi ON pi.indrelid=att.attrelid AND indisprimary
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=att.attrelid AND des.objsubid=att.attnum AND des.classoid=$4::regclass)
    LEFT OUTER JOIN pg_catalog.pg_sequence seq ON cs.oid=seq.seqrelid
WHERE

    att.attrelid = $5::oid
    AND att.attnum > $6
    AND att.attisdropped IS FALSE
ORDER BY att.attnum","1.020164","3.060492","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])","0.27426463636363635","3.0169109999999995","11"
"<insufficient privilege>","0.021368827338129504","2.9702670000000007","139"
"SELECT key_json FROM e2e_fallback_keys_json WHERE user_id = $1 AND device_id = $2 AND algorithm = $3","2.928491","2.928491","1"
"DELETE FROM event_push_actions_staging WHERE event_id IN (
                SELECT event_id FROM event_push_actions_staging WHERE
                inserted_ts < $1 OR inserted_ts IS NULL
                LIMIT $2
            )","1.463438","2.926876","2"
"<insufficient privilege>","0.021259364963503655","2.912533000000001","137"
"<insufficient privilege>","0.02021220143884892","2.809496","139"
"<insufficient privilege>","0.020210798561151072","2.8093010000000005","139"
"SELECT ""ticket_states"".""id"" FROM ""ticket_states"" INNER JOIN ""ticket_state_types"" ON ""ticket_state_types"".""id"" = ""ticket_states"".""state_type_id"" WHERE ""ticket_state_types"".""name"" IN ($1, $2)","0.3991552857142857","2.7940869999999998","7"
"SELECT stream_ordering FROM event_push_actions
                WHERE stream_ordering <= $1 AND highlight = $2
                ORDER BY stream_ordering ASC LIMIT $3 OFFSET $4","0.019882460431654685","2.7636619999999996","139"
"INSERT INTO event_to_state_groups (event_id, state_group) VALUES ($1,$2) ON CONFLICT (event_id) DO UPDATE SET state_group=EXCLUDED.state_group","1.3261535","2.652307","2"
"<insufficient privilege>","0.01898470503597122","2.638874","139"
"INSERT INTO worker_locks (lock_name, lock_key, instance_name, token, last_renewed_ts)
               VALUES ($1, $2, $3, $4, $5)
               ON CONFLICT (lock_name, lock_key)
               DO UPDATE
                   SET
                       token = EXCLUDED.token,
                       instance_name = EXCLUDED.instance_name,
                       last_renewed_ts = EXCLUDED.last_renewed_ts
                   WHERE
                       worker_locks.last_renewed_ts < $6
                       OR worker_locks.instance_name = EXCLUDED.instance_name","2.633721","2.633721","1"
"SELECT state_key FROM current_state_events
            WHERE
                type = $1
                AND membership = $2
                AND state_key = ANY(ARRAY[$3,$4])
            GROUP BY state_key","2.6286259999999997","2.6286259999999997","1"
"select count(*)
from mail_repository_content
where url = $1","0.01996067938931298","2.6148490000000004","131"
"INSERT INTO devices (user_id, device_id, display_name, hidden) VALUES ($1, $2, $3, $4) ON CONFLICT (user_id, device_id) DO NOTHING","2.614763","2.614763","1"
"UPDATE ""schedulers"" SET ""pid"" = $1, ""updated_at"" = $2 WHERE ""schedulers"".""id"" = $3","0.08143575000000002","2.605944","32"
"SELECT user_id, device_id
		FROM syncv3_sync2_devices JOIN syncv3_sync2_tokens USING(user_id, device_id)
		GROUP BY (user_id, device_id)
		HAVING MAX(last_seen) < $1","2.574259","2.574259","1"
"SELECT ""ticket_state_types"".* FROM ""ticket_state_types"" WHERE ""ticket_state_types"".""name"" = $1 LIMIT $2","0.32151874999999996","2.5721499999999997","8"
"SELECT event_id FROM event_txn_id_device_id WHERE room_id = $1 AND user_id = $2 AND device_id = $3 AND txn_id = $4","0.6343965","2.5375859999999997","4"
"<insufficient privilege>","0.018075050359712224","2.512431999999999","139"
"<insufficient privilege>","0.01783577697841727","2.4791730000000003","139"
"<insufficient privilege>","0.017787863309352513","2.4725129999999997","139"
"SELECT * FROM scheduled_tasks WHERE status = ANY(ARRAY[$1]) AND timestamp <= $2 ORDER BY timestamp LIMIT $3","0.035107271428571445","2.457509000000001","70"
"<insufficient privilege>","0.01764990647482015","2.4533370000000008","139"
"SELECT
             gss_authenticated, encrypted
        FROM
            pg_catalog.pg_stat_gssapi
        WHERE pid = pg_backend_pid()","0.48572819999999994","2.4286410000000003","5"
"<insufficient privilege>","0.017357812949640283","2.4127359999999998","139"
"INSERT INTO e2e_device_keys_json (user_id, device_id, ts_added_ms, key_json) VALUES ($1, $2, $3, $4) ON CONFLICT (user_id, device_id) DO UPDATE SET ts_added_ms=EXCLUDED.ts_added_ms, key_json=EXCLUDED.key_json","2.408897","2.408897","1"
"<insufficient privilege>","0.017255302158273377","2.3984869999999994","139"
"SELECT
    nsp.oid,
    nsp.nspname as name,
    pg_catalog.has_schema_privilege(nsp.oid, $1) as can_create,
    pg_catalog.has_schema_privilege(nsp.oid, $2) as has_usage,
    des.description
FROM
    pg_catalog.pg_namespace nsp
    LEFT OUTER JOIN pg_catalog.pg_description des ON
        (des.objoid=nsp.oid AND des.classoid=$3::regclass)
WHERE
             nspname NOT LIKE $4 AND
            NOT (
(nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) OR
    (nsp.nspname = $13 AND EXISTS
        (SELECT $14 FROM pg_catalog.pg_class WHERE relname = $15 AND
            relnamespace = nsp.oid LIMIT $16))
    )

    
ORDER BY nspname","2.389635","2.389635","1"
"SELECT CASE
    WHEN (SELECT count(extname) FROM pg_catalog.pg_extension WHERE extname=$1) > $2
    THEN $3
    WHEN (SELECT COUNT(*) FROM pg_replication_slots) > $4
    THEN $5
    ELSE $6
END as type","0.33628628571428565","2.3540039999999998","7"
"UPDATE device_lists_changes_in_room
            SET converted_to_destinations = $1
            WHERE stream_id > $2 AND user_id = $3 AND device_id = $4
                AND room_id = $5 AND NOT converted_to_destinations","0.02119963636363636","2.331959999999999","110"
"<insufficient privilege>","0.016759366906474813","2.3295520000000005","139"
"SELECT r.stream_id, r.room_id, r.user_id, r.thread_id, r.event_stream_ordering
            FROM receipts_linearized AS r
            WHERE $1 < r.stream_id AND r.stream_id <= $2 AND user_id LIKE $3
            ORDER BY r.stream_id ASC
            LIMIT $4","0.01664611510791366","2.31381","139"
"SELECT ""ticket_states"".* FROM ""ticket_states"" WHERE ""ticket_states"".""state_type_id"" = $1 AND ""ticket_states"".""next_state_id"" IS NOT NULL","0.57652325","2.306093","4"
"SELECT tag, content FROM room_tags WHERE user_id = $1 AND room_id = $2","0.014723948717948717","2.296935999999999","156"
"DELETE FROM device_lists_stream
            WHERE user_id = $1 AND stream_id < $2 AND device_id = ANY(ARRAY[$3,$4])","2.290715","2.290715","1"
"SELECT user_id, key_id, target_device_id, signature
            FROM e2e_cross_signing_signatures WHERE (target_user_id = $1 AND target_device_id = $2 AND user_id = $3)","0.051203272727272736","2.2529440000000003","44"
"<insufficient privilege>","0.01615206474820145","2.2451369999999993","139"
"<insufficient privilege>","0.01613125179856115","2.2422439999999986","139"
"<insufficient privilege>","0.016105683453237412","2.2386900000000005","139"
"INSERT INTO matrixTokens(id,data) VALUES($1,$2) RETURNING *","2.227167","2.227167","1"
"<insufficient privilege>","0.01591830215827338","2.212644000000001","139"
"DELETE FROM event_push_actions
                WHERE stream_ordering <= $1 AND highlight = $2","0.01590164028776978","2.2103279999999996","139"
"<insufficient privilege>","0.01587079856115108","2.2060410000000004","139"
"<insufficient privilege>","0.015725000000000003","2.185775","139"
"UPDATE user_directory_stream_pos SET stream_id = $1","1.090077","2.180154","2"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58])","2.158865","2.158865","1"
"SELECT algorithm, key_id, key_json FROM e2e_one_time_keys_json WHERE key_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66]) AND user_id = $67 AND device_id = $68","2.154232","2.154232","1"
"<insufficient privilege>","0.01541058992805756","2.1420719999999993","139"
"<insufficient privilege>","0.015371330935251792","2.136615","139"
"<insufficient privilege>","0.01528595683453238","2.1247480000000007","139"
"INSERT INTO device_lists_remote_resync (user_id, added_ts) VALUES ($1, $2) ON CONFLICT (user_id) DO NOTHING","2.115787","2.115787","1"
"INSERT INTO device_lists_stream (instance_name, stream_id, user_id, device_id) VALUES ($1,$2,$3,$4),($5,$6,$7,$8)","2.093237","2.093237","1"
"DELETE FROM scheduled_tasks WHERE id = $1","0.6900313333333334","2.070094","3"
"select current_timestamp","0.014999086956521737","2.0698740000000004","138"
"<insufficient privilege>","0.01487397841726619","2.0674829999999997","139"
"<insufficient privilege>","0.014774676258992805","2.053680000000001","139"
"<insufficient privilege>","0.014666625899280568","2.0386610000000007","139"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])
                        AND relation_type = $9
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.25328225","2.026258","8"
"<insufficient privilege>","0.01447169064748202","2.011565","139"
"<insufficient privilege>","0.014262971223021581","1.982552999999999","139"
"SELECT COUNT(*) AS ""size"", MAX(""ssl_certificates"".""updated_at"") AS timestamp FROM ""ssl_certificates""","0.014356673913043475","1.9812209999999992","138"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])
                    AND relation_type = $10
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.123701","1.979216","16"
"<insufficient privilege>","0.01415884892086331","1.968079999999999","139"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37])","1.9440849999999998","1.9440849999999998","1"
"SELECT stream_ordering FROM event_push_actions
            WHERE stream_ordering > $1
            ORDER BY stream_ordering ASC LIMIT $2 OFFSET $3","0.013796755395683459","1.9177489999999997","139"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1])
                    AND relation_type = $2
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.10602433333333332","1.908438","18"
"<insufficient privilege>","0.013367244604316543","1.8580470000000011","139"
"<insufficient privilege>","0.013366489208633103","1.857942","139"
"SELECT stream_ordering FROM events WHERE event_id = $1","0.026503647058823528","1.8022480000000005","68"
"<insufficient privilege>","0.012786352517985614","1.7773029999999999","139"
"SET SESSION timezone TO 'UTC'","0.12655307142857145","1.7717429999999998","14"
"SELECT t.oid, t.typname
FROM pg_type as t
WHERE t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)","0.25239542857142855","1.766768","7"
"SELECT stream_id, message_json FROM device_inbox
                WHERE user_id = $1 AND device_id = $2
                AND $3 < stream_id AND stream_id <= $4
                ORDER BY stream_id ASC
                LIMIT $5","0.11680766666666664","1.7521150000000003","15"
"SELECT state_key, membership, event_id
                FROM current_state_events
                WHERE type = $1 AND room_id = $2
                    AND membership IS NOT NULL
                ORDER BY
                    CASE membership WHEN $3 THEN $4 WHEN $5 THEN $6 WHEN $7 THEN $8 ELSE $9 END ASC,
                    event_stream_ordering ASC
                LIMIT $10","0.07961454545454547","1.75152","22"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2,$3])","0.1079354375","1.726967","16"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])","0.15543672727272728","1.7098039999999999","11"
"<insufficient privilege>","0.012217302158273383","1.6982050000000004","139"
"SELECT stream_id FROM federation_stream_position WHERE type = $1 AND instance_name = $2","0.4209395","1.683758","4"
"SELECT rel.oid, rel.relname AS name,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $1) AS triggercount,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $2 AND tgenabled = $3) AS has_enable_triggers,
    (CASE WHEN rel.relkind = $4 THEN $5 ELSE $6 END) AS is_partitioned,
    (SELECT count($7) FROM pg_catalog.pg_inherits WHERE inhrelid=rel.oid LIMIT $8) as is_inherits,
    (SELECT count($9) FROM pg_catalog.pg_inherits WHERE inhparent=rel.oid LIMIT $10) as is_inherited,
    des.description
FROM pg_catalog.pg_class rel
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=rel.oid AND des.objsubid=$11 AND des.classoid=$12::regclass)
    WHERE rel.relkind IN ($13,$14,$15,$16) AND rel.relnamespace = $17::oid
    AND NOT rel.relispartition
        ORDER BY rel.relname","1.652618","1.652618","1"
"SELECT
             gss_authenticated, encrypted
        FROM
            pg_catalog.pg_stat_gssapi
        WHERE pid = pg_backend_pid()","0.5505003333333334","1.651501","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14])","0.40556375","1.6222549999999998","4"
"INSERT INTO device_lists_remote_extremeties (user_id, stream_id) VALUES ($1, $2) ON CONFLICT (user_id) DO UPDATE SET stream_id=EXCLUDED.stream_id","1.598139","1.598139","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.5972899999999999","1.5972899999999999","1"
"SELECT deactivated FROM users WHERE name = $1","0.788539","1.577078","2"
"SELECT room_id, server_name FROM partial_state_rooms_servers","0.5218543333333333","1.565563","3"
"UPDATE device_lists_changes_converted_stream_position SET stream_id = $1, instance_name = $2, room_id = $3","0.09100905882352942","1.5471540000000004","17"
"<insufficient privilege>","0.011042453237410068","1.5349010000000005","139"
"SELECT data FROM matrixTokens WHERE id=$1","1.5063069999999998","1.5063069999999998","1"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57])","1.46759","1.46759","1"
"INSERT INTO e2e_fallback_keys_json (user_id, device_id, algorithm, key_id, key_json, used) VALUES ($1, $2, $3, $4, $5, $6) ON CONFLICT (user_id, device_id, algorithm) DO UPDATE SET key_id=EXCLUDED.key_id, key_json=EXCLUDED.key_json, used=EXCLUDED.used","1.461711","1.461711","1"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12])","0.2427945","1.456767","6"
"<insufficient privilege>","0.010422561151079137","1.4487359999999994","139"
"SELECT at.attname, at.attnum, ty.typname
FROM pg_catalog.pg_attribute at LEFT JOIN pg_catalog.pg_type ty ON (ty.oid = at.atttypid)
JOIN pg_catalog.pg_class as cl ON cl.oid=AT.attrelid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=cl.relnamespace
WHERE
    cl.relname = $1 AND nsp.nspname=$2 AND
attnum = ANY (
(SELECT con.conkey FROM pg_catalog.pg_class rel LEFT OUTER JOIN pg_catalog.pg_constraint con ON con.conrelid=rel.oid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=REL.relnamespace
AND con.contype=$3 WHERE rel.relkind IN ($4,$5,$6, $7) AND
    rel.relname = $8 AND nsp.nspname=$9
)::oid[])","0.723209","1.446418","2"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23])","1.44446","1.44446","1"
"UPDATE delayed_events_stream_pos SET stream_id = $1","0.7196695","1.439339","2"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9])
                ) AS b using (room_id)","0.4769146666666667","1.4307440000000002","3"
"SELECT type, state_key, event_id FROM current_state_events
                WHERE room_id = $1
             AND ((type = $2 AND state_key = $3))","1.3664770000000002","1.3664770000000002","1"
"SELECT stream_id, room_id FROM device_lists_changes_converted_stream_position","0.4486363333333333","1.3459089999999998","3"
"UPDATE access_tokens SET used = $1 WHERE id = $2","0.10226130769230769","1.3293970000000002","13"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.3180699999999999","1.3180699999999999","1"
"SELECT
    db.oid as did, db.datname as name, ta.spcname as spcname, db.datallowconn,
    db.datistemplate AS is_template,
    pg_catalog.has_database_privilege(db.oid, $1) as cancreate, datdba as owner,
    descr.description
FROM
    pg_catalog.pg_database db
    LEFT OUTER JOIN pg_catalog.pg_tablespace ta ON db.dattablespace = ta.oid
    LEFT OUTER JOIN pg_catalog.pg_shdescription descr ON (
        db.oid=descr.objoid AND descr.classoid=$2::regclass
    )
WHERE         db.oid > $3::OID OR db.datname IN ($4, $5)

ORDER BY datname","1.30912","1.30912","1"
"SELECT server_name FROM partial_state_rooms_servers WHERE room_id = $1","0.0590505","1.2991110000000001","22"
"SELECT words FROM recoveryWords WHERE userId=$1","1.28087","1.28087","1"
"UPDATE stats_incremental_position SET stream_id = $1","0.634505","1.26901","2"
"select pg_stat_statements_reset()","1.256988","1.256988","1"
"SELECT pg_postmaster_start_time as start_time_seconds from pg_postmaster_start_time()","0.009028359712230205","1.2549419999999998","139"
"SELECT CASE
    WHEN (SELECT count(extname) FROM pg_catalog.pg_extension WHERE extname=$1) > $2
    THEN $3
    WHEN (SELECT COUNT(*) FROM pg_replication_slots) > $4
    THEN $5
    ELSE $6
END as type","0.40958266666666676","1.2287480000000002","3"
"INSERT INTO event_push_actions (
                room_id, event_id, user_id, actions, stream_ordering,
                topological_ordering, notif, highlight, unread, thread_id
            )
            SELECT $1, event_id, user_id, actions, $3, $4, notif, highlight, unread, thread_id
            FROM event_push_actions_staging
            WHERE event_id = $5","0.6072515","1.214503","2"
"<insufficient privilege>","0.00873728057553957","1.2144820000000005","139"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16])","0.302758","1.2110319999999999","4"
"SELECT pg_catalog.pg_current_wal_lsn()","0.017550101449275362","1.210957","69"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12])","0.40168766666666667","1.205063","3"
"<insufficient privilege>","0.008597143884892086","1.1950029999999998","139"
"SELECT CASE
    WHEN (SELECT count(extname) FROM pg_catalog.pg_extension WHERE extname=$1) > $2
    THEN $3
    WHEN (SELECT COUNT(*) FROM pg_replication_slots) > $4
    THEN $5
    ELSE $6
END as type","0.39597166666666667","1.187915","3"
"<insufficient privilege>","0.008340064748201443","1.1592690000000008","139"
"INSERT INTO destination_rooms (destination, room_id, stream_ordering) VALUES ($1,$2,$3) ON CONFLICT (destination, room_id) DO UPDATE SET stream_ordering=EXCLUDED.stream_ordering","0.5742725","1.148545","2"
"SELECT user_id, device_id, room_id, stream_id, opentracing_context
            FROM device_lists_changes_in_room
            WHERE
                (stream_id, room_id) > ($1, $2) AND
                stream_id <= $3 AND
                NOT converted_to_destinations
            ORDER BY stream_id ASC, room_id ASC
            LIMIT $4","0.06642264705882352","1.1291850000000003","17"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.106793","1.106793","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.09753","1.09753","1"
"SELECT version()","0.007868705035971221","1.09375","139"
"SELECT set_config($1,$2,$3) FROM pg_settings WHERE name = $4","1.09341","1.09341","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.078183","1.078183","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40])","0.21130580000000002","1.056529","5"
"SET default_transaction_isolation = 'read committed'","0.015058782608695656","1.039056","69"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.009368","1.009368","1"
"<insufficient privilege>","0.007258388489208633","1.008916","139"
"<insufficient privilege>","0.007132064748201439","0.9913569999999998","139"
"SELECT COUNT(*) FROM pg_extension WHERE extname IN (
                $1, $2)","0.9763299999999999","0.9763299999999999","1"
"<insufficient privilege>","0.006879561151079137","0.9562590000000002","139"
"<insufficient privilege>","0.006865122302158276","0.9542520000000001","139"
"<insufficient privilege>","0.006748640287769785","0.9380610000000005","139"
"SELECT membership, event_id FROM local_current_membership WHERE room_id = $1 AND user_id = $2","0.0584414375","0.935063","16"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18)","0.13261114285714284","0.9282780000000002","7"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.927706","0.927706","1"
"<insufficient privilege>","0.006580978417266188","0.9147559999999997","139"
"SELECT rel.oid, rel.relname AS name,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $1) AS triggercount,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $2 AND tgenabled = $3) AS has_enable_triggers,
    (CASE WHEN rel.relkind = $4 THEN $5 ELSE $6 END) AS is_partitioned,
    (SELECT count($7) FROM pg_catalog.pg_inherits WHERE inhrelid=rel.oid LIMIT $8) as is_inherits,
    (SELECT count($9) FROM pg_catalog.pg_inherits WHERE inhparent=rel.oid LIMIT $10) as is_inherited,
    des.description
FROM pg_catalog.pg_class rel
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=rel.oid AND des.objsubid=$11 AND des.classoid=$12::regclass)
    WHERE rel.relkind IN ($13,$14,$15,$16) AND rel.relnamespace = $17::oid
    AND NOT rel.relispartition
        ORDER BY rel.relname","0.903795","0.903795","1"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23])
                ) AS b using (room_id)","0.8989510000000001","0.8989510000000001","1"
"SELECT user_id, device_id, d.display_name, k.key_json
                    FROM e2e_device_keys_json k
                    INNER JOIN devices d USING (user_id, device_id)
                    WHERE user_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6]) AND NOT d.hidden","0.886584","0.886584","1"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18)","0.14705466666666667","0.882328","6"
"SELECT
            roles.oid as id, roles.rolname as name,
            roles.rolsuper as is_superuser,
            CASE WHEN roles.rolsuper THEN $1 ELSE roles.rolcreaterole END as
            can_create_role,
            CASE WHEN roles.rolsuper THEN $2
            ELSE roles.rolcreatedb END as can_create_db,
            CASE WHEN $3=ANY(ARRAY(WITH RECURSIVE cte AS (
            SELECT pg_roles.oid,pg_roles.rolname FROM pg_roles
                WHERE pg_roles.oid = roles.oid
            UNION ALL
            SELECT m.roleid,pgr.rolname FROM cte cte_1
                JOIN pg_auth_members m ON m.member = cte_1.oid
                JOIN pg_roles pgr ON pgr.oid = m.roleid)
            SELECT rolname  FROM cte)) THEN $4
            ELSE $5 END as can_signal_backend
        FROM
            pg_catalog.pg_roles as roles
        WHERE
            rolname = current_user","0.1653918","0.826959","5"
"SELECT
    ts.oid AS oid, spcname AS name, spcowner as owner,
    pg_catalog.shobj_description(oid, $1) AS description
FROM
    pg_catalog.pg_tablespace ts
ORDER BY name","0.4115735","0.823147","2"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.8105760000000001","0.8105760000000001","1"
"SELECT
            roles.oid as id, roles.rolname as name,
            roles.rolsuper as is_superuser,
            CASE WHEN roles.rolsuper THEN $1 ELSE roles.rolcreaterole END as
            can_create_role,
            CASE WHEN roles.rolsuper THEN $2
            ELSE roles.rolcreatedb END as can_create_db,
            CASE WHEN $3=ANY(ARRAY(WITH RECURSIVE cte AS (
            SELECT pg_roles.oid,pg_roles.rolname FROM pg_roles
                WHERE pg_roles.oid = roles.oid
            UNION ALL
            SELECT m.roleid,pgr.rolname FROM cte cte_1
                JOIN pg_auth_members m ON m.member = cte_1.oid
                JOIN pg_roles pgr ON pgr.oid = m.roleid)
            SELECT rolname  FROM cte)) THEN $4
            ELSE $5 END as can_signal_backend
        FROM
            pg_catalog.pg_roles as roles
        WHERE
            rolname = current_user","0.269554","0.808662","3"
"SELECT avatar_url FROM profiles WHERE full_user_id = $1","0.1987205","0.794882","4"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39])","0.19732224999999998","0.7892889999999999","4"
"SELECT backward_extrem.event_id, event.depth FROM events AS event
                /**
                 * Get the edge connections from the event_edges table
                 * so we can see whether this event's prev_events points
                 * to a backward extremity in the next join.
                 */
                INNER JOIN event_edges AS edge
                ON edge.event_id = event.event_id
                /**
                 * We find the ""oldest"" events in the room by looking for
                 * events connected to backwards extremeties (oldest events
                 * in the room that we know of so far).
                 */
                INNER JOIN event_backward_extremities AS backward_extrem
                ON edge.prev_event_id = backward_extrem.event_id
                /**
                 * We use this info to make sure we don't retry to use a backfill point
                 * if we've already attempted to backfill from it recently.
                 */
                LEFT JOIN event_failed_pull_attempts AS failed_backfill_attempt_info
                ON
                    failed_backfill_attempt_info.room_id = backward_extrem.room_id
                    AND failed_backfill_attempt_info.event_id = backward_extrem.event_id
                WHERE
                    backward_extrem.room_id = $1
                    /* We only care about non-state edges because we used to use
                     * `event_edges` for two different sorts of ""edges"" (the current
                     * event DAG, but also a link to the previous state, for state
                     * events). These legacy state event edges can be distinguished by
                     * `is_state` and are removed from the codebase and schema but
                     * because the schema change is in a background update, it's not
                     * necessarily safe to assume that it will have been completed.
                     */
                    AND edge.is_state is FALSE
                    /**
                     * We only want backwards extremities that are older than or at
                     * the same position of the given `current_depth` (where older
                     * means less than the given depth) because we're looking backwards
                     * from the `current_depth` when backfilling.
                     *
                     *                         current_depth (ignore events that come after this, ignore 2-4)
                     *                         |
                     *                         ▼
                     * <oldest-in-time> [0]<--[1]<--[2]<--[3]<--[4] <newest-in-time>
                     */
                    AND event.depth <= $2 /* current_depth */
                    /**
                     * Exponential back-off (up to the upper bound) so we don't retry the
                     * same backfill point over and over. ex. 2hr, 4hr, 8hr, 16hr, etc.
                     *
                     * We use `1 << n` as a power of 2 equivalent for compatibility
                     * with older SQLites. The left shift equivalent only works with
                     * powers of 2 because left shift is a binary operation (base-2).
                     * Otherwise, we would use `power(2, n)` or the power operator, `2^n`.
                     */
                    AND (
                        failed_backfill_attempt_info.event_id IS NULL
                        OR $3 /* current_time */ >= failed_backfill_attempt_info.last_attempt_ts + (
                            ($4 << LEAST(failed_backfill_attempt_info.num_attempts, $5 /* max doubling steps */))
                            * $6 /* step */
                        )
                    )
                /**
                 * Sort from highest (closest to the `current_depth`) to the lowest depth
                 * because the closest are most relevant to backfill from first.
                 * Then tie-break on alphabetical order of the event_ids so we get a
                 * consistent ordering which is nice when asserting things in tests.
                 */
                ORDER BY event.depth DESC, backward_extrem.event_id DESC
                LIMIT $7","0.25965","0.77895","3"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.776453","0.776453","1"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28])","0.77519","0.77519","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.773034","0.773034","1"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])
                AND relation_type = $10
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.047232375","0.755718","16"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.735697","0.735697","1"
"SELECT user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active FROM presence_stream WHERE user_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","0.182483","0.729932","4"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.729524","0.729524","1"
"SELECT CASE WHEN NOT pg_is_in_recovery() THEN $1 ELSE GREATEST ($2, EXTRACT($3 FROM (now() - pg_last_xact_replay_timestamp()))) END AS lag","0.005221474820143885","0.7257849999999998","139"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19])","0.18067","0.7226799999999999","4"
"SELECT
    has_table_privilege(
      $1, $2
    ) has_priviledge
WHERE EXISTS(
    SELECT has_schema_privilege($3, $4)
    WHERE EXISTS(
        SELECT cl.oid FROM pg_catalog.pg_class cl
        LEFT JOIN pg_catalog.pg_namespace ns ON ns.oid=relnamespace
        WHERE relname=$5 AND nspname=$6
    )
)","0.722002","0.722002","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.7207399999999999","0.7207399999999999","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5])","0.024879535714285715","0.696627","28"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2])
                    AND relation_type = $3
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.03361635","0.672327","20"
"SELECT stream_id, user_id, hosts FROM (
                    SELECT stream_id, user_id, $1 AS hosts FROM device_lists_stream
                    UNION ALL
                    SELECT DISTINCT stream_id, user_id, $2 AS hosts FROM device_lists_outbound_pokes
                ) AS e
                WHERE $3 < stream_id AND stream_id <= $4
                ORDER BY stream_id ASC
                LIMIT $5","0.054883249999999995","0.6585990000000002","12"
"SELECT
    db.oid as did, db.datname as name, ta.spcname as spcname, db.datallowconn,
    db.datistemplate AS is_template,
    pg_catalog.has_database_privilege(db.oid, $1) as cancreate, datdba as owner,
    descr.description
FROM
    pg_catalog.pg_database db
    LEFT OUTER JOIN pg_catalog.pg_tablespace ta ON db.dattablespace = ta.oid
    LEFT OUTER JOIN pg_catalog.pg_shdescription descr ON (
        db.oid=descr.objoid AND descr.classoid=$2::regclass
    )
WHERE         db.oid > $3::OID OR db.datname IN ($4, $5)

ORDER BY datname","0.32742550000000004","0.6548510000000001","2"
"SELECT type, state_key, event_id FROM current_state_events
                WHERE room_id = $1
             AND ((type = $2))","0.16013875","0.640555","4"
"INSERT INTO user_ips (user_id, access_token, ip, user_agent, device_id, last_seen) VALUES ($1,$2,$3,$4,$5,$6),($7,$8,$9,$10,$11,$12),($13,$14,$15,$16,$17,$18) ON CONFLICT (user_id, access_token, ip) DO UPDATE SET user_agent=EXCLUDED.user_agent, device_id=EXCLUDED.device_id, last_seen=EXCLUDED.last_seen","0.636788","0.636788","1"
"SELECT DISTINCT user_id FROM device_lists_changes_in_room
            WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22]) AND stream_id > $23 AND stream_id <= $24","0.21024833333333331","0.630745","3"
"SELECT rel.oid, rel.relname AS name,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $1) AS triggercount,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $2 AND tgenabled = $3) AS has_enable_triggers,
    (CASE WHEN rel.relkind = $4 THEN $5 ELSE $6 END) AS is_partitioned,
    (SELECT count($7) FROM pg_catalog.pg_inherits WHERE inhrelid=rel.oid LIMIT $8) as is_inherits,
    (SELECT count($9) FROM pg_catalog.pg_inherits WHERE inhparent=rel.oid LIMIT $10) as is_inherited,
    des.description
FROM pg_catalog.pg_class rel
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=rel.oid AND des.objsubid=$11 AND des.classoid=$12::regclass)
    WHERE rel.relkind IN ($13,$14,$15,$16) AND rel.relnamespace = $17::oid
    AND NOT rel.relispartition
        ORDER BY rel.relname","0.583106","0.583106","1"
"delete from OFFLINE_USER_SESSION where REALM_ID=$1 and OFFLINE_FLAG=$2 and LAST_SESSION_REFRESH<$3","0.07281087500000001","0.582487","8"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26])","0.58057","0.58057","1"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2,$3,$4])","0.1157148","0.578574","5"
"SELECT
            roles.oid as id, roles.rolname as name,
            roles.rolsuper as is_superuser,
            CASE WHEN roles.rolsuper THEN $1 ELSE roles.rolcreaterole END as
            can_create_role,
            CASE WHEN roles.rolsuper THEN $2
            ELSE roles.rolcreatedb END as can_create_db,
            CASE WHEN $3=ANY(ARRAY(WITH RECURSIVE cte AS (
            SELECT pg_roles.oid,pg_roles.rolname FROM pg_roles
                WHERE pg_roles.oid = roles.oid
            UNION ALL
            SELECT m.roleid,pgr.rolname FROM cte cte_1
                JOIN pg_auth_members m ON m.member = cte_1.oid
                JOIN pg_roles pgr ON pgr.oid = m.roleid)
            SELECT rolname  FROM cte)) THEN $4
            ELSE $5 END as can_signal_backend
        FROM
            pg_catalog.pg_roles as roles
        WHERE
            rolname = current_user","0.19248366666666666","0.577451","3"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2])
                AND relation_type = $3
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.0287799","0.5755979999999999","20"
"SET ROLE 'avnadmin'","0.565151","0.565151","1"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27)","0.187428","0.562284","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","0.092959","0.5577540000000001","6"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21])","0.549069","0.549069","1"
"SELECT at.attname, ty.typname, at.attnum
    FROM pg_catalog.pg_attribute at
    LEFT JOIN pg_catalog.pg_type ty ON (ty.oid = at.atttypid)
    JOIN pg_catalog.pg_class as cl ON cl.oid=at.attrelid
    JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=cl.relnamespace
WHERE
    attrelid=$1::oid AND
at.attnum > $2
AND at.attisdropped = $3","0.174547","0.523641","3"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1])
                        AND relation_type = $2
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.02840116666666667","0.5112209999999999","18"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])","0.506892","0.506892","1"
"SELECT
             gss_authenticated, encrypted
        FROM
            pg_catalog.pg_stat_gssapi
        WHERE pid = pg_backend_pid()","0.501757","0.501757","1"
"SELECT rel.oid, rel.relname AS name,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $1) AS triggercount,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $2 AND tgenabled = $3) AS has_enable_triggers,
    (CASE WHEN rel.relkind = $4 THEN $5 ELSE $6 END) AS is_partitioned,
    (SELECT count($7) FROM pg_catalog.pg_inherits WHERE inhrelid=rel.oid LIMIT $8) as is_inherits,
    (SELECT count($9) FROM pg_catalog.pg_inherits WHERE inhparent=rel.oid LIMIT $10) as is_inherited,
    des.description
FROM pg_catalog.pg_class rel
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=rel.oid AND des.objsubid=$11 AND des.classoid=$12::regclass)
    WHERE rel.relkind IN ($13,$14,$15,$16) AND rel.relnamespace = $17::oid
    AND NOT rel.relispartition
        ORDER BY rel.relname","0.48937899999999995","0.48937899999999995","1"
"SELECT
            roles.oid as id, roles.rolname as name,
            roles.rolsuper as is_superuser,
            CASE WHEN roles.rolsuper THEN $1 ELSE roles.rolcreaterole END as
            can_create_role,
            CASE WHEN roles.rolsuper THEN $2
            ELSE roles.rolcreatedb END as can_create_db,
            CASE WHEN $3=ANY(ARRAY(WITH RECURSIVE cte AS (
            SELECT pg_roles.oid,pg_roles.rolname FROM pg_roles
                WHERE pg_roles.oid = roles.oid
            UNION ALL
            SELECT m.roleid,pgr.rolname FROM cte cte_1
                JOIN pg_auth_members m ON m.member = cte_1.oid
                JOIN pg_roles pgr ON pgr.oid = m.roleid)
            SELECT rolname  FROM cte)) THEN $4
            ELSE $5 END as can_signal_backend
        FROM
            pg_catalog.pg_roles as roles
        WHERE
            rolname = current_user","0.15981966666666667","0.47945899999999997","3"
"SELECT DISTINCT att.attname as name, att.attnum as OID, pg_catalog.format_type(ty.oid,$1) AS datatype,
att.attnotnull as not_null, att.atthasdef as has_default_val, des.description, seq.seqtypid
FROM pg_catalog.pg_attribute att
    JOIN pg_catalog.pg_type ty ON ty.oid=atttypid
    JOIN pg_catalog.pg_namespace tn ON tn.oid=ty.typnamespace
    JOIN pg_catalog.pg_class cl ON cl.oid=att.attrelid
    JOIN pg_catalog.pg_namespace na ON na.oid=cl.relnamespace
    LEFT OUTER JOIN pg_catalog.pg_type et ON et.oid=ty.typelem
    LEFT OUTER JOIN pg_catalog.pg_attrdef def ON adrelid=att.attrelid AND adnum=att.attnum
    LEFT OUTER JOIN (pg_catalog.pg_depend JOIN pg_catalog.pg_class cs ON classid=$2::regclass AND objid=cs.oid AND cs.relkind=$3) ON refobjid=att.attrelid AND refobjsubid=att.attnum
    LEFT OUTER JOIN pg_catalog.pg_namespace ns ON ns.oid=cs.relnamespace
    LEFT OUTER JOIN pg_catalog.pg_index pi ON pi.indrelid=att.attrelid AND indisprimary
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=att.attrelid AND des.objsubid=att.attnum AND des.classoid=$4::regclass)
    LEFT OUTER JOIN pg_catalog.pg_sequence seq ON cs.oid=seq.seqrelid
WHERE

    att.attrelid = $5::oid
    AND att.attnum > $6
    AND att.attisdropped IS FALSE
ORDER BY att.attnum","0.475169","0.475169","1"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2])","0.05815675","0.465254","8"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1])","0.09021280000000001","0.451064","5"
"SELECT displayname FROM profiles WHERE full_user_id = $1","0.10888325","0.43553299999999995","4"
"SELECT ""data_privacy_tasks"".* FROM ""data_privacy_tasks"" WHERE ""data_privacy_tasks"".""state"" = $1 ORDER BY ""data_privacy_tasks"".""id"" ASC LIMIT $2","0.061781857142857145","0.432473","7"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4])","0.021002100000000003","0.42004199999999997","20"
"<insufficient privilege>","0.002939942446043165","0.4086519999999999","139"
"<insufficient privilege>","0.0009633980815347725","0.40173700000000007","417"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $2 AND state_key = $3)
                            ORDER BY type, state_key, state_group DESC
                        )","0.395121","0.395121","1"
"SELECT COUNT(*) FROM current_state_events WHERE room_id = $1 AND membership = $2","0.12792633333333334","0.38377900000000004","3"
"SELECT ""active_job_locks"".* FROM ""active_job_locks"" WHERE ""active_job_locks"".""lock_key"" = $1 LIMIT $2 FOR UPDATE","0.054609428571428566","0.382266","7"
"select this_.id as id1_0_1_, this_.ls_uuid as ls_uuid3_0_1_, this_.creation_date as creation4_0_1_, this_.mail as mail5_0_1_, this_.modification_date as modifica6_0_1_, this_.role_id as role_id7_0_1_, this_.mail_locale as mail_loc8_0_1_, this_.external_mail_locale as external9_0_1_, this_.cmis_locale as cmis_lo10_0_1_, this_.enable as enable11_0_1_, this_.password as passwor12_0_1_, this_.destroyed as destroy13_0_1_, this_.purge_step as purge_s14_0_1_, this_.second_fa_secret as second_15_0_1_, this_.second_fa_creation_date as second_16_0_1_, this_.authentication_failure_last_date as authent17_0_1_, this_.authentication_success_last_date as authent18_0_1_, this_.authentication_failure_count as authent19_0_1_, this_.domain_id as domain_20_0_1_, this_.technical_account_permission_id as technic21_0_1_, abstractdo2_.id as id1_14_0_, abstractdo2_.uuid as uuid3_14_0_, abstractdo2_.label as label4_14_0_, abstractdo2_.enable as enable5_14_0_, abstractdo2_.template as template6_14_0_, abstractdo2_.description as descript7_14_0_, abstractdo2_.default_role as default_8_14_0_, abstractdo2_.default_locale as default_9_14_0_, abstractdo2_.default_mail_locale as default10_14_0_, abstractdo2_.auth_show_order as auth_sh11_14_0_, abstractdo2_.purge_step as purge_s12_14_0_, abstractdo2_.creation_date as creatio13_14_0_, abstractdo2_.modification_date as modific14_14_0_, abstractdo2_.domain_policy_id as domain_15_14_0_, abstractdo2_.parent_id as parent_16_14_0_, abstractdo2_.mailconfig_id as mailcon17_14_0_, abstractdo2_.mime_policy_id as mime_po18_14_0_, abstractdo2_.user_provider_id as user_pr19_14_0_, abstractdo2_.group_provider_id as group_p20_14_0_, abstractdo2_.work_space_provider_id as work_sp21_14_0_, abstractdo2_.welcome_messages_id as welcome22_14_0_, abstractdo2_.type as type2_14_0_ from account this_ inner join domain_abstract abstractdo2_ on this_.domain_id=abstractdo2_.id where this_.account_type=$2 and this_.ls_uuid=$1","0.09414349999999999","0.37657399999999996","4"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18)","0.1849295","0.369859","2"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])","0.07201699999999998","0.36008499999999993","5"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1])
                AND relation_type = $2
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.019882","0.35787599999999997","18"
"SELECT user_type FROM users WHERE name = $1","0.0699442","0.349721","5"
"UPDATE remote_media_cache SET last_access_ts = $1 WHERE media_origin = $2 AND media_id = $3","0.0346473","0.346473","10"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27])","0.33876300000000004","0.33876300000000004","1"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])
                AND relation_type = $11
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.08461925000000001","0.33847700000000003","4"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])
                AND relation_type = $9
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.040724500000000004","0.325796","8"
"SELECT
    db.oid as did, db.datname as name, ta.spcname as spcname, db.datallowconn,
    db.datistemplate AS is_template,
    pg_catalog.has_database_privilege(db.oid, $1) as cancreate, datdba as owner,
    descr.description
FROM
    pg_catalog.pg_database db
    LEFT OUTER JOIN pg_catalog.pg_tablespace ta ON db.dattablespace = ta.oid
    LEFT OUTER JOIN pg_catalog.pg_shdescription descr ON (
        db.oid=descr.objoid AND descr.classoid=$2::regclass
    )
WHERE         db.oid > $3::OID OR db.datname IN ($4, $5)

ORDER BY datname","0.319509","0.319509","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100])","0.314337","0.314337","1"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])
                    AND relation_type = $9
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.037657500000000003","0.30126","8"
"SELECT user_id, coalesce(max(o.stream_id), $1)
            FROM device_lists_outbound_pokes as o
            WHERE destination = $2 AND o.stream_id <= $3
            GROUP BY user_id","0.03717775","0.297422","8"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])","0.0592454","0.296227","5"
"<insufficient privilege>","0.0021028201438848897","0.29229200000000005","139"
"SELECT ""tickets"".* FROM ""tickets"" WHERE ""tickets"".""state_id"" = $1 AND (pending_time <= $3) ORDER BY ""tickets"".""id"" ASC LIMIT $2","0.036213749999999996","0.28970999999999997","8"
"SELECT 1 FROM ONLY ""public"".""worker_read_write_locks"" x WHERE ""lock_name"" OPERATOR(pg_catalog.=) $1 AND ""lock_key"" OPERATOR(pg_catalog.=) $2 AND ""token"" OPERATOR(pg_catalog.=) $3 FOR KEY SHARE OF x","0.023851166666666666","0.28621399999999997","12"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2])","0.27064299999999997","0.27064299999999997","1"
"SELECT locked FROM users WHERE name = $1","0.051626000000000005","0.25812999999999997","5"
"DELETE FROM device_lists_outbound_pokes
            WHERE destination = $1 AND stream_id <= $2","0.03197425","0.25579399999999997","8"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27)","0.24970599999999998","0.24970599999999998","1"
"DELETE FROM device_lists_remote_cache WHERE user_id = $1","0.248464","0.248464","1"
"SELECT at.attname, at.attnum, ty.typname
FROM pg_catalog.pg_attribute at LEFT JOIN pg_catalog.pg_type ty ON (ty.oid = at.atttypid)
JOIN pg_catalog.pg_class as cl ON cl.oid=AT.attrelid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=cl.relnamespace
WHERE
    attrelid=$1::oid AND
attnum = ANY (
(SELECT con.conkey FROM pg_catalog.pg_class rel LEFT OUTER JOIN pg_catalog.pg_constraint con ON con.conrelid=rel.oid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=REL.relnamespace
AND con.contype=$2 WHERE rel.relkind IN ($3,$4,$5, $6) AND
    rel.oid = ($7)::oid
)::oid[])","0.08228966666666666","0.246869","3"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])
                    AND relation_type = $11
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.0593105","0.237242","4"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27),($28,$29,$30,$31,$32,$33,$34,$35,$36)","0.236538","0.236538","1"
"SELECT stream_id, cache_func, keys, invalidation_ts
                FROM cache_invalidation_stream_by_instance
                WHERE stream_id > $1 AND instance_name = $2
                ORDER BY stream_id ASC
                LIMIT $3","0.057707749999999995","0.230831","4"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80])","0.074089","0.222267","3"
"SET TimeZone='Etc/UTC'","0.220039","0.220039","1"
"SELECT DISTINCT user_id FROM device_lists_stream
                WHERE  $1 < stream_id AND stream_id <= $2 AND user_id = ANY(ARRAY[$3])","0.07082866666666666","0.212486","3"
"SELECT
    nsp.oid,
    nsp.nspname as name,
    pg_catalog.has_schema_privilege(nsp.oid, $1) as can_create,
    pg_catalog.has_schema_privilege(nsp.oid, $2) as has_usage,
    des.description
FROM
    pg_catalog.pg_namespace nsp
    LEFT OUTER JOIN pg_catalog.pg_description des ON
        (des.objoid=nsp.oid AND des.classoid=$3::regclass)
WHERE
             nspname NOT LIKE $4 AND
            NOT (
(nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) OR
    (nsp.nspname = $13 AND EXISTS
        (SELECT $14 FROM pg_catalog.pg_class WHERE relname = $15 AND
            relnamespace = nsp.oid LIMIT $16))
    )

    
ORDER BY nspname","0.211709","0.211709","1"
"INSERT INTO cache_invalidation_stream_by_instance (stream_id, instance_name, cache_func, keys, invalidation_ts) VALUES($1, $2, $3, ARRAY[$4,$5], $6)","0.10581499999999999","0.21162999999999998","2"
"SELECT e.event_id FROM event_forward_extremities AS f
            INNER JOIN events AS e USING (event_id)
            WHERE f.room_id = $1
            ORDER BY e.depth DESC
            LIMIT $2","0.1023115","0.204623","2"
"SELECT
    db.oid as did, db.datname, db.datallowconn,
    pg_encoding_to_char(db.encoding) AS serverencoding,
    has_database_privilege(db.oid, $1) as cancreate,
    datistemplate
FROM
    pg_catalog.pg_database db
WHERE db.datname = current_database()","0.06699233333333333","0.20097700000000002","3"
"SELECT
                dlop1.destination,
                dlop1.user_id,
                MAX(dlop1.stream_id) AS stream_id,
                (SELECT MIN(dlop2.device_id) AS device_id FROM
                    device_lists_outbound_pokes dlop2
                    WHERE dlop2.destination = dlop1.destination AND
                      dlop2.user_id=dlop1.user_id AND
                      dlop2.stream_id=MAX(dlop1.stream_id)
                )
            FROM device_lists_outbound_pokes dlop1
                GROUP BY destination, user_id
                HAVING min(ts) < $1 AND count(*) > $2","0.200757","0.200757","1"
"SHOW TRANSACTION ISOLATION LEVEL","0.019577","0.19576999999999997","10"
"INSERT INTO e2e_cross_signing_signatures (user_id, key_id, target_user_id, target_device_id, signature) VALUES ($1,$2,$3,$4,$5),($6,$7,$8,$9,$10)","0.18978699999999998","0.18978699999999998","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])","0.06274766666666666","0.188243","3"
"SELECT $1","0.005626393939393939","0.18567099999999997","33"
"SET DateStyle=ISO","0.060300000000000006","0.1809","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12])","0.057814666666666674","0.17344400000000001","3"
"SET client_min_messages TO 'warning'","0.012259071428571426","0.17162699999999995","14"
"SELECT rel.oid, rel.relname AS name,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $1) AS triggercount,
    (SELECT count(*) FROM pg_catalog.pg_trigger WHERE tgrelid=rel.oid AND tgisinternal = $2 AND tgenabled = $3) AS has_enable_triggers,
    (CASE WHEN rel.relkind = $4 THEN $5 ELSE $6 END) AS is_partitioned,
    (SELECT count($7) FROM pg_catalog.pg_inherits WHERE inhrelid=rel.oid LIMIT $8) as is_inherits,
    (SELECT count($9) FROM pg_catalog.pg_inherits WHERE inhparent=rel.oid LIMIT $10) as is_inherited,
    des.description
FROM pg_catalog.pg_class rel
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=rel.oid AND des.objsubid=$11 AND des.classoid=$12::regclass)
    WHERE rel.relkind IN ($13,$14,$15,$16) AND rel.relnamespace = $17::oid
    AND NOT rel.relispartition
        ORDER BY rel.relname","0.0841185","0.168237","2"
"UPDATE local_media_repository SET last_access_ts = $1 WHERE media_id = $2","0.0839935","0.167987","2"
"SELECT ""jobs"".* FROM ""jobs"" WHERE ""jobs"".""active"" = $1","0.011818714285714287","0.165462","14"
"INSERT INTO device_lists_remote_extremeties (user_id, stream_id) VALUES ($1, $2) ON CONFLICT (user_id) DO UPDATE SET stream_id=EXCLUDED.stream_id","0.08193","0.16386","2"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2,$3,$4,$5])","0.08151249999999999","0.16302499999999998","2"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])
                    AND relation_type = $7
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.05378133333333333","0.161344","3"
"<insufficient privilege>","0.0011495251798561152","0.15978399999999987","139"
"<insufficient privilege>","0.001148712230215827","0.15967100000000004","139"
"SELECT event_id, membership FROM current_state_events WHERE room_id = $1","0.159332","0.159332","1"
"SELECT
    db.oid as did, db.datname, db.datallowconn,
    pg_encoding_to_char(db.encoding) AS serverencoding,
    has_database_privilege(db.oid, $1) as cancreate,
    datistemplate
FROM
    pg_catalog.pg_database db
WHERE db.datname = current_database()","0.031466600000000004","0.157333","5"
"BEGIN","0.005496464285714286","0.153901","28"
"INSERT INTO destinations (destination, last_successful_stream_ordering) VALUES ($1, $2) ON CONFLICT (destination) DO UPDATE SET last_successful_stream_ordering=EXCLUDED.last_successful_stream_ordering","0.07693350000000002","0.15386700000000003","2"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])
                AND relation_type = $7
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.05012233333333333","0.15036699999999997","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120,$121,$122,$123,$124,$125,$126,$127,$128,$129,$130,$131,$132,$133,$134,$135,$136,$137,$138,$139,$140,$141,$142,$143,$144,$145,$146,$147,$148,$149,$150,$151,$152,$153,$154,$155,$156,$157,$158,$159,$160])","0.15008","0.15008","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60])","0.074618","0.149236","2"
"SELECT
    db.oid as did, db.datname, db.datallowconn,
    pg_encoding_to_char(db.encoding) AS serverencoding,
    has_database_privilege(db.oid, $1) as cancreate,
    datistemplate
FROM
    pg_catalog.pg_database db
WHERE db.datname = current_database()","0.049070666666666665","0.147212","3"
"SELECT ignored_user_id FROM ignored_users WHERE ignorer_user_id = $1","0.015989000000000003","0.14390100000000003","9"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27),($28,$29,$30,$31,$32,$33,$34,$35,$36)","0.14280299999999999","0.14280299999999999","1"
"<insufficient privilege>","0.0010272014388489205","0.14278100000000007","139"
"SET TRANSACTION ISOLATION LEVEL SERIALIZABLE","0.020254571428571427","0.14178200000000002","7"
"SELECT user_id FROM erased_users WHERE user_id = ANY(ARRAY[$1])","0.005878375000000001","0.14108099999999998","24"
"INSERT INTO e2e_cross_signing_signatures (user_id, key_id, target_user_id, target_device_id, signature) VALUES ($1,$2,$3,$4,$5)","0.140108","0.140108","1"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5])
                        AND relation_type = $6
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.03443375","0.137735","4"
"SELECT oid, pg_catalog.format_type(oid, $2) AS typname FROM pg_catalog.pg_type WHERE oid = ANY($1) ORDER BY oid","0.033897250000000004","0.135589","4"
"<insufficient privilege>","0.0009504820143884892","0.13211700000000004","139"
"SELECT
    db.oid as did, db.datname, db.datallowconn,
    pg_encoding_to_char(db.encoding) AS serverencoding,
    has_database_privilege(db.oid, $1) as cancreate,
    datistemplate
FROM
    pg_catalog.pg_database db
WHERE db.datname = current_database()","0.043858","0.131574","3"
"SET DateStyle=ISO","0.025981","0.129905","5"
"INSERT INTO event_json (event_id, room_id, internal_metadata, json, format_version) VALUES ($1,$2,$3,$4,$5)","0.0648145","0.129629","2"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24])","0.06472649999999999","0.12945299999999998","2"
"SELECT room_id FROM partial_state_rooms WHERE room_id = $1","0.004914538461538462","0.12777799999999997","26"
"SELECT n.nspname, r.relname
FROM pg_catalog.pg_class r
    LEFT JOIN pg_catalog.pg_namespace n ON (r.relnamespace = n.oid)
WHERE r.oid = $1","0.042059000000000006","0.126177","3"
"<insufficient privilege>","0.000904726618705036","0.12575699999999998","139"
"<insufficient privilege>","0.0009040143884892091","0.125658","139"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13])","0.12563400000000002","0.12563400000000002","1"
"<insufficient privilege>","0.000903381294964029","0.12557","139"
"<insufficient privilege>","0.0009032374100719428","0.12555000000000002","139"
"<insufficient privilege>","0.0008845827338129496","0.12295699999999998","139"
"SELECT
    db.oid as did, db.datname, db.datallowconn,
    pg_catalog.pg_encoding_to_char(db.encoding) AS serverencoding,
    pg_catalog.has_database_privilege(db.oid, $1) as cancreate,
    datistemplate
FROM
    pg_catalog.pg_database db
WHERE db.oid = $2","0.061142","0.122284","2"
"<insufficient privilege>","0.0008759424460431654","0.12175599999999999","139"
"SELECT backward_extrem.event_id, event.depth FROM events AS event
                /**
                 * Get the edge connections from the event_edges table
                 * so we can see whether this event's prev_events points
                 * to a backward extremity in the next join.
                 */
                INNER JOIN event_edges AS edge
                ON edge.event_id = event.event_id
                /**
                 * We find the ""oldest"" events in the room by looking for
                 * events connected to backwards extremeties (oldest events
                 * in the room that we know of so far).
                 */
                INNER JOIN event_backward_extremities AS backward_extrem
                ON edge.prev_event_id = backward_extrem.event_id
                /**
                 * We use this info to make sure we don't retry to use a backfill point
                 * if we've already attempted to backfill from it recently.
                 */
                LEFT JOIN event_failed_pull_attempts AS failed_backfill_attempt_info
                ON
                    failed_backfill_attempt_info.room_id = backward_extrem.room_id
                    AND failed_backfill_attempt_info.event_id = backward_extrem.event_id
                WHERE
                    backward_extrem.room_id = $1
                    /* We only care about non-state edges because we used to use
                     * `event_edges` for two different sorts of ""edges"" (the current
                     * event DAG, but also a link to the previous state, for state
                     * events). These legacy state event edges can be distinguished by
                     * `is_state` and are removed from the codebase and schema but
                     * because the schema change is in a background update, it's not
                     * necessarily safe to assume that it will have been completed.
                     */
                    AND edge.is_state is FALSE
                    /**
                     * We only want backwards extremities that are older than or at
                     * the same position of the given `current_depth` (where older
                     * means less than the given depth) because we're looking backwards
                     * from the `current_depth` when backfilling.
                     *
                     *                         current_depth (ignore events that come after this, ignore 2-4)
                     *                         |
                     *                         ▼
                     * <oldest-in-time> [0]<--[1]<--[2]<--[3]<--[4] <newest-in-time>
                     */
                    AND event.depth <= $2 /* current_depth */
                    /**
                     * Exponential back-off (up to the upper bound) so we don't retry the
                     * same backfill point over and over. ex. 2hr, 4hr, 8hr, 16hr, etc.
                     *
                     * We use `1 << n` as a power of 2 equivalent for compatibility
                     * with older SQLites. The left shift equivalent only works with
                     * powers of 2 because left shift is a binary operation (base-2).
                     * Otherwise, we would use `power(2, n)` or the power operator, `2^n`.
                     */
                    AND (
                        failed_backfill_attempt_info.event_id IS NULL
                        OR $3 /* current_time */ >= failed_backfill_attempt_info.last_attempt_ts + (
                            ($4 << LEAST(failed_backfill_attempt_info.num_attempts, $5 /* max doubling steps */))
                            * $6 /* step */
                        )
                    )
                /**
                 * Sort from highest (closest to the `current_depth`) to the lowest depth
                 * because the closest are most relevant to backfill from first.
                 * Then tie-break on alphabetical order of the event_ids so we get a
                 * consistent ordering which is nice when asserting things in tests.
                 */
                ORDER BY event.depth DESC, backward_extrem.event_id DESC
                LIMIT $7","0.040141666666666666","0.120425","3"
"<insufficient privilege>","0.0008600287769784174","0.11954400000000001","139"
"SELECT room_version FROM rooms WHERE room_id = $1 FOR SHARE","0.059753","0.119506","2"
"<insufficient privilege>","0.0008546834532374105","0.11880100000000005","139"
"<insufficient privilege>","0.0008482014388489209","0.11790000000000002","139"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4])
                        AND relation_type = $5
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.02933525","0.117341","4"
"SELECT
            roles.oid as id, roles.rolname as name,
            roles.rolsuper as is_superuser,
            CASE WHEN roles.rolsuper THEN $1 ELSE roles.rolcreaterole END as
            can_create_role,
            CASE WHEN roles.rolsuper THEN $2
            ELSE roles.rolcreatedb END as can_create_db,
            CASE WHEN $3=ANY(ARRAY(WITH RECURSIVE cte AS (
            SELECT pg_roles.oid,pg_roles.rolname FROM pg_roles
                WHERE pg_roles.oid = roles.oid
            UNION ALL
            SELECT m.roleid,pgr.rolname FROM cte cte_1
                JOIN pg_auth_members m ON m.member = cte_1.oid
                JOIN pg_roles pgr ON pgr.oid = m.roleid)
            SELECT rolname  FROM cte)) THEN $4
            ELSE $5 END as can_signal_backend
        FROM
            pg_catalog.pg_roles as roles
        WHERE
            rolname = current_user","0.114479","0.114479","1"
"SELECT
               COUNT(CASE WHEN notif = $1 THEN $2 END),
               COUNT(CASE WHEN unread = $3 THEN $4 END),
               thread_id
            FROM event_push_actions ea
            WHERE user_id = $5
               AND room_id = $6
               AND ea.stream_ordering > $7
               
               
            GROUP BY thread_id","0.0283835","0.113534","4"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23])","0.112986","0.112986","1"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18)","0.112828","0.112828","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3])","0.0218058","0.109029","5"
"SELECT  e.event_id as event_id,  r.redacts as redacts, rej.event_id as rejects  FROM events as e LEFT JOIN rejections as rej USING (event_id) LEFT JOIN redactions as r ON e.event_id = r.redacts WHERE e.event_id = ANY(ARRAY[$1])","0.053502","0.107004","2"
"SELECT event_id, outlier FROM events WHERE event_id = ANY(ARRAY[$1])","0.053148","0.106296","2"
"select puse1_0.OFFLINE_FLAG,puse1_0.USER_SESSION_ID,puse1_0.CREATED_ON,puse1_0.DATA,puse1_0.LAST_SESSION_REFRESH,puse1_0.REALM_ID,puse1_0.USER_ID from OFFLINE_USER_SESSION puse1_0 where puse1_0.OFFLINE_FLAG=$1 and puse1_0.USER_SESSION_ID=$2 and puse1_0.REALM_ID=$3 fetch first $4 rows only","0.03524533333333334","0.105736","3"
"UPDATE federation_stream_position SET stream_id = $1 WHERE type = $2 AND instance_name = $3","0.0522695","0.104539","2"
"DISCARD ALL","0.104298","0.104298","1"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5])
                AND relation_type = $6
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.02575775","0.103031","4"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5])
                    AND relation_type = $6
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.025735749999999998","0.10294299999999999","4"
"SELECT stream_id, from_user_id AS user_id
                FROM user_signature_stream
                WHERE $1 < stream_id AND stream_id <= $2
                ORDER BY stream_id ASC
                LIMIT $3","0.008572583333333331","0.102871","12"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27)","0.10283","0.10283","1"
"DELETE FROM cache_invalidation_stream_by_instance
                WHERE $1 <= stream_id AND stream_id <= $2","0.102076","0.102076","1"
"SELECT ""permissions"".""name"" FROM ""permissions"" WHERE (permissions.active = $1 AND (permissions.name = $2 OR permissions.name LIKE $3 OR permissions.name = $4 OR permissions.name LIKE $5 OR permissions.name = $6 OR permissions.name LIKE $7 OR permissions.name = $8 OR permissions.name LIKE $9 OR permissions.name = $10 OR permissions.name LIKE $11 OR permissions.name = $12 OR permissions.name LIKE $13 OR permissions.name = $14 OR permissions.name LIKE $15 OR permissions.name = $16 OR permissions.name LIKE $17 OR permissions.name = $18 OR permissions.name LIKE $19))","0.101798","0.101798","1"
"SELECT room_version FROM rooms WHERE room_id = $1","0.10103","0.10103","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77])","0.100224","0.100224","1"
"<insufficient privilege>","0.099696","0.099696","1"
"UPDATE ""sessions"" SET ""data"" = $1, ""updated_at"" = $2 WHERE ""sessions"".""id"" = $3","0.09846","0.09846","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30])","0.095706","0.095706","1"
"SELECT CASE WHEN usesuper
       THEN pg_catalog.pg_is_in_recovery()
       ELSE $1
       END as inrecovery,
       CASE WHEN usesuper AND pg_catalog.pg_is_in_recovery()
       THEN pg_is_wal_replay_paused()
       ELSE $2
       END as isreplaypaused
FROM pg_catalog.pg_user WHERE usename=current_user","0.031810000000000005","0.09543000000000001","3"
"INSERT INTO destinations (destination) VALUES ($1) ON CONFLICT (destination) DO NOTHING","0.046911499999999995","0.09382299999999999","2"
"SELECT value,active FROM hashes","0.013331857142857144","0.093323","7"
"DELETE FROM worker_locks WHERE lock_name = $1 AND lock_key = $2 AND token = $3","0.092808","0.092808","1"
"UPDATE login_tokens SET used_ts = $1 WHERE token = $2","0.091239","0.091239","1"
"SELECT ""ticket_states"".* FROM ""ticket_states"" WHERE ""ticket_states"".""state_type_id"" = $1","0.0216905","0.086762","4"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120])","0.085295","0.085295","1"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4])
                    AND relation_type = $5
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.02125875","0.085035","4"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4])
                AND relation_type = $5
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.02056475","0.082259","4"
"SELECT event_id, depth FROM events WHERE event_id = ANY(ARRAY[$1])","0.0410035","0.082007","2"
"SET DateStyle=ISO","0.025909666666666668","0.07772899999999999","3"
"SELECT event_id FROM events WHERE event_id = ANY(ARRAY[$1]) AND outlier = $2","0.0386625","0.077325","2"
"DELETE FROM event_forward_extremities WHERE room_id = $1","0.038132","0.076264","2"
"SELECT event_id, instance_name, stream_ordering
                FROM events
                WHERE
                    room_id = $1
                    AND not outlier
                    AND ($2 >= stream_ordering) AND ($3 < stream_ordering)
                ORDER BY stream_ordering DESC LIMIT $4","0.02519566666666667","0.07558700000000002","3"
"<insufficient privilege>","0.02517266666666667","0.075518","3"
"SELECT COUNT(*) FROM pg_extension WHERE extname IN (
                $1, $2)","0.07296699999999999","0.07296699999999999","1"
"<insufficient privilege>","0.024027","0.072081","3"
"select re1_0.ID from REALM re1_0","0.0179675","0.07187","4"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34])","0.069501","0.069501","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","0.067797","0.067797","1"
"<insufficient privilege>","0.022545","0.067635","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63])","0.066322","0.066322","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38])","0.066147","0.066147","1"
"SET ROLE 'avnadmin'","0.065637","0.065637","1"
"SELECT user_id, device_id, display_name FROM devices WHERE user_id = $1 AND device_id = $2 AND hidden = $3","0.065355","0.065355","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58])","0.064909","0.064909","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28])","0.062664","0.062664","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57])","0.06206300000000001","0.06206300000000001","1"
"SELECT e.stream_ordering, e.event_id, e.received_ts FROM events AS e WHERE $1 < e.stream_ordering AND e.stream_ordering <= $2 ORDER BY e.stream_ordering ASC LIMIT $3","0.01535925","0.06143699999999999","4"
"<insufficient privilege>","0.020413","0.061239","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37])","0.060849","0.060849","1"
"SELECT
    CASE WHEN c.relkind = $1 THEN $2 ELSE $3 END As ptable
FROM
    pg_catalog.pg_class c
WHERE
    c.oid = $4::oid","0.030411","0.060822","2"
"<insufficient privilege>","0.020238333333333334","0.060715000000000005","3"
"<insufficient privilege>","0.02022466666666667","0.060674000000000006","3"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])
                AND relation_type = $8
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.058551000000000006","0.058551000000000006","1"
"<insufficient privilege>","0.019381666666666665","0.058145","3"
"SET standard_conforming_strings = on","0.004118428571428571","0.05765799999999999","14"
"<insufficient privilege>","0.057277","0.057277","1"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])
                        AND relation_type = $8
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.057102","0.057102","1"
"<insufficient privilege>","0.018805333333333334","0.056415999999999994","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43])","0.054323","0.054323","1"
"<insufficient privilege>","0.018092333333333335","0.054277000000000006","3"
"SET DateStyle=ISO","0.017900333333333334","0.053701","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21])","0.05356","0.05356","1"
"<insufficient privilege>","0.017753666666666668","0.053261","3"
"SELECT 1 FROM ONLY ""public"".""events"" x WHERE ""event_id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x","0.026430000000000002","0.052860000000000004","2"
"SELECT DISTINCT(user_id) FROM event_push_actions WHERE stream_ordering >= $1 AND stream_ordering <= $2 AND notif = $3","0.0264015","0.052803","2"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])
                    AND relation_type = $8
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.052642","0.052642","1"
"SELECT
    nsp.nspname as schema_name,
    (nsp.nspname = $1 AND EXISTS
        (SELECT $2 FROM pg_catalog.pg_class WHERE relname = $3 AND
            relnamespace = nsp.oid LIMIT $4)) OR
    (nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) AS is_catalog,
    CASE
    WHEN nsp.nspname = ANY($13)
        THEN $14
    ELSE $15 END AS db_support
FROM
    pg_catalog.pg_namespace nsp
WHERE
    nsp.oid = $16::OID","0.0260955","0.052191","2"
"SELECT prev_state_group FROM state_group_edges WHERE state_group = $1","0.051573","0.051573","1"
"<insufficient privilege>","0.050858","0.050858","1"
"SELECT failure_ts, retry_last_ts, retry_interval FROM destinations WHERE destination = $1","0.025328000000000003","0.05065600000000001","2"
"<insufficient privilege>","0.016767999999999998","0.050304","3"
"SELECT suspended FROM users WHERE name = $1","0.050196","0.050196","1"
"DELETE FROM device_lists_remote_resync WHERE user_id = $1","0.048674","0.048674","1"
"SELECT pg_cancel_backend($1)","0.024243","0.048486","2"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120,$121,$122,$123,$124,$125,$126])","0.047812","0.047812","1"
"<insufficient privilege>","0.015732666666666666","0.047198000000000004","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26])","0.046846","0.046846","1"
"SELECT event_id FROM event_forward_extremities WHERE room_id = $1","0.046568","0.046568","1"
"SET intervalstyle = iso_8601","0.0033209285714285715","0.04649300000000001","14"
"SELECT
    db.oid as did, db.datname, db.datallowconn,
    pg_catalog.pg_encoding_to_char(db.encoding) AS serverencoding,
    pg_catalog.has_database_privilege(db.oid, $1) as cancreate,
    datistemplate
FROM
    pg_catalog.pg_database db
WHERE db.oid = $2","0.046273","0.046273","1"
"SET ROLE 'avnadmin'","0.045426","0.045426","1"
"SELECT address FROM userHistory","0.006273428571428571","0.043914","7"
"SELECT ""active_job_locks"".* FROM ""active_job_locks"" WHERE ""active_job_locks"".""lock_key"" = $1 AND ""active_job_locks"".""active_job_id"" = $2 LIMIT $3 FOR UPDATE","0.0062522857142857146","0.043766","7"
"SELECT key_json FROM e2e_device_keys_json WHERE user_id = $1 AND device_id = $2","0.043544","0.043544","1"
"SELECT 1 FROM ONLY ""public"".""worker_read_write_locks_mode"" x WHERE $1 OPERATOR(pg_catalog.=) ""lock_name"" AND $2 OPERATOR(pg_catalog.=) ""lock_key"" AND $3 OPERATOR(pg_catalog.=) ""token"" FOR KEY SHARE OF x","0.006155857142857143","0.043091000000000004","7"
"SELECT invalidation_ts FROM cache_invalidation_stream_by_instance
                WHERE stream_id > $1
                ORDER BY stream_id ASC
                LIMIT $2","0.04239","0.04239","1"
"<insufficient privilege>","0.013896","0.041688","3"
"SELECT
    has_table_privilege(
      $1, $2
    ) has_priviledge
WHERE EXISTS(
    SELECT has_schema_privilege($3, $4)
    WHERE EXISTS(
        SELECT cl.oid FROM pg_catalog.pg_class cl
        LEFT JOIN pg_catalog.pg_namespace ns ON ns.oid=relnamespace
        WHERE relname=$5 AND nspname=$6
    )
)","0.0206165","0.041233","2"
"<insufficient privilege>","0.013466666666666668","0.040400000000000005","3"
"SET extra_float_digits = 3","0.02009","0.04018","2"
"SELECT COUNT(*) FROM pg_extension WHERE extname IN (
                $1, $2)","0.0198435","0.039687","2"
"delete from CLIENT_INITIAL_ACCESS where (EXPIRATION>$2 and (TIMESTAMP+EXPIRATION)<$1) or REMAINING_COUNT=$3","0.0098255","0.039302","4"
"SELECT out.event_stream_ordering, e.event_id, e.room_id, e.type, se.state_key, redacts, relates_to_id, membership, rejections.reason IS NOT NULL, e.outlier FROM events AS e INNER JOIN ex_outlier_stream AS out USING (event_id) LEFT JOIN redactions USING (event_id) LEFT JOIN state_events AS se USING (event_id) LEFT JOIN event_relations USING (event_id) LEFT JOIN room_memberships USING (event_id) LEFT JOIN rejections USING (event_id) WHERE $1 < out.event_stream_ordering AND out.event_stream_ordering <= $2 AND out.instance_name = $3 ORDER BY out.event_stream_ordering ASC","0.019645999999999997","0.039291999999999994","2"
"SET ROLE 'avnadmin'","0.038561","0.038561","1"
"<insufficient privilege>","0.038300999999999995","0.038300999999999995","1"
"SELECT
    db.oid as did, db.datname, db.datallowconn,
    pg_encoding_to_char(db.encoding) AS serverencoding,
    has_database_privilege(db.oid, $1) as cancreate,
    datistemplate
FROM
    pg_catalog.pg_database db
WHERE db.datname = current_database()","0.03737","0.03737","1"
"SELECT presence_stream_id FROM users_to_send_full_presence_to WHERE user_id = $1","0.012447999999999997","0.037343999999999995","3"
"SHOW TIME ZONE","0.005305571428571429","0.037139","7"
"UPDATE redactions SET have_censored = $1 WHERE redacts = ANY(ARRAY[$2])","0.0183285","0.036657","2"
"SHOW search_path","0.005223428571428572","0.036564","7"
"SELECT ""chat_sessions"".* FROM ""chat_sessions"" WHERE ""chat_sessions"".""state"" != $1 AND (updated_at < $2)","0.009034750000000001","0.036139","4"
"SELECT ""sessions"".* FROM ""sessions"" WHERE ""sessions"".""session_id"" = $1 ORDER BY ""sessions"".""id"" ASC LIMIT $2","0.035116","0.035116","1"
"SELECT user_id FROM erased_users WHERE user_id = ANY(ARRAY[$1,$2])","0.008741249999999999","0.034964999999999996","4"
"SELECT nsp.nspname AS schema ,rel.relname AS table
FROM pg_catalog.pg_class rel
    JOIN pg_catalog.pg_namespace nsp
    ON rel.relnamespace = nsp.oid::oid
    WHERE rel.oid = $1::oid","0.034564000000000004","0.034564000000000004","1"
"SET client_encoding='utf-8'","0.0067138","0.033569","5"
"SELECT type, state_key, event_id FROM state_groups_state WHERE state_group = $1","0.033222999999999996","0.033222999999999996","1"
"SELECT room_id, joined_via FROM partial_state_rooms","0.011064333333333332","0.033193","3"
"SELECT user_id FROM local_current_membership WHERE room_id = $1 AND membership = $2","0.032938","0.032938","1"
"SELECT
    nsp.nspname as schema_name,
    (nsp.nspname = $1 AND EXISTS
        (SELECT $2 FROM pg_catalog.pg_class WHERE relname = $3 AND
            relnamespace = nsp.oid LIMIT $4)) OR
    (nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) AS is_catalog,
    CASE
    WHEN nsp.nspname = ANY($13)
        THEN $14
    ELSE $15 END AS db_support
FROM
    pg_catalog.pg_namespace nsp
WHERE
    nsp.oid = $16::OID","0.032664","0.032664","1"
"SELECT
    CASE WHEN c.relkind = $1 THEN $2 ELSE $3 END As ptable
FROM
    pg_catalog.pg_class c
WHERE
    c.oid = $4::oid","0.032350000000000004","0.032350000000000004","1"
"SELECT enabled FROM per_user_experimental_features WHERE user_id = $1 AND feature = $2","0.0077852500000000005","0.031141000000000002","4"
"SELECT
    nsp.nspname as schema_name,
    (nsp.nspname = $1 AND EXISTS
        (SELECT $2 FROM pg_catalog.pg_class WHERE relname = $3 AND
            relnamespace = nsp.oid LIMIT $4)) OR
    (nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) AS is_catalog,
    CASE
    WHEN nsp.nspname = ANY($13)
        THEN $14
    ELSE $15 END AS db_support
FROM
    pg_catalog.pg_namespace nsp
WHERE
    nsp.oid = $16::OID","0.030383","0.030383","1"
"SELECT user_id, expiry_ts, used_ts, auth_provider_id, auth_provider_session_id FROM login_tokens WHERE token = $1","0.030235","0.030235","1"
"<insufficient privilege>","0.029095","0.029095","1"
"<insufficient privilege>","0.029049","0.029049","1"
"<insufficient privilege>","0.028518","0.028518","1"
"SET ROLE 'avnadmin'","0.028122","0.028122","1"
"SELECT
    CASE WHEN c.relkind = $1 THEN $2 ELSE $3 END As ptable
FROM
    pg_catalog.pg_class c
WHERE
    c.oid = $4::oid","0.027725999999999997","0.027725999999999997","1"
"SELECT room_id FROM partial_state_rooms WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","0.006928500000000001","0.027714000000000003","4"
"SET ROLE 'avnadmin'","0.027473","0.027473","1"
"<insufficient privilege>","0.027432","0.027432","1"
"SELECT
    nsp.nspname as schema_name,
    (nsp.nspname = $1 AND EXISTS
        (SELECT $2 FROM pg_catalog.pg_class WHERE relname = $3 AND
            relnamespace = nsp.oid LIMIT $4)) OR
    (nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) AS is_catalog,
    CASE
    WHEN nsp.nspname = ANY($13)
        THEN $14
    ELSE $15 END AS db_support
FROM
    pg_catalog.pg_namespace nsp
WHERE
    nsp.oid = $16::OID","0.027034","0.027034","1"
"<insufficient privilege>","0.026982","0.026982","1"
"SELECT
    nsp.nspname as schema_name,
    (nsp.nspname = $1 AND EXISTS
        (SELECT $2 FROM pg_catalog.pg_class WHERE relname = $3 AND
            relnamespace = nsp.oid LIMIT $4)) OR
    (nsp.nspname = $5 AND EXISTS
        (SELECT $6 FROM pg_catalog.pg_class WHERE relname = $7 AND
            relnamespace = nsp.oid LIMIT $8)) OR
    (nsp.nspname = $9 AND EXISTS
        (SELECT $10 FROM pg_catalog.pg_class WHERE relname = $11 AND
            relnamespace = nsp.oid LIMIT $12)) AS is_catalog,
    CASE
    WHEN nsp.nspname = ANY($13)
        THEN $14
    ELSE $15 END AS db_support
FROM
    pg_catalog.pg_namespace nsp
WHERE
    nsp.oid = $16::OID","0.026449","0.026449","1"
"SELECT user_id FROM device_lists_remote_resync WHERE user_id = ANY(ARRAY[$1,$2])","0.026432999999999998","0.026432999999999998","1"
"SELECT stream_id, room_id, type, state_key, event_id
                FROM current_state_delta_stream
                WHERE $1 < stream_id AND stream_id <= $2
                    AND instance_name = $3
                ORDER BY stream_id ASC LIMIT $4","0.012964","0.025928","2"
"SELECT
    CASE WHEN c.relkind = $1 THEN $2 ELSE $3 END As ptable
FROM
    pg_catalog.pg_class c
WHERE
    c.oid = $4::oid","0.025361","0.025361","1"
"SET ROLE 'avnadmin'","0.025322","0.025322","1"
"BEGIN","0.025211","0.025211","1"
"SET client_encoding='utf-8'","0.008250333333333333","0.024751000000000002","3"
"SELECT pg_cancel_backend($1)","0.024384","0.024384","1"
"SET ROLE 'avnadmin'","0.024103","0.024103","1"
"<insufficient privilege>","0.023618","0.023618","1"
"<insufficient privilege>","0.023552","0.023552","1"
"SET ROLE 'avnadmin'","0.023387","0.023387","1"
"<insufficient privilege>","0.023329","0.023329","1"
"<insufficient privilege>","0.023323","0.023323","1"
"SET ROLE 'avnadmin'","0.02332","0.02332","1"
"<insufficient privilege>","0.02305","0.02305","1"
"SET ROLE 'avnadmin'","0.02294","0.02294","1"
"SELECT ""import_jobs"".* FROM ""import_jobs"" WHERE ""import_jobs"".""started_at"" IS NULL AND ""import_jobs"".""dry_run"" = $1 ORDER BY ""import_jobs"".""started_at"" DESC, ""import_jobs"".""id"" DESC","0.022743","0.022743","1"
"SET ROLE 'avnadmin'","0.022641","0.022641","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.022354","0.022354","1"
"SELECT messages_per_second, burst_count FROM ratelimit_override WHERE user_id = $1","0.0110575","0.022115","2"
"SELECT room_id FROM partial_state_rooms WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","0.007258","0.021773999999999998","3"
"SELECT
    has_table_privilege(
      $1, $2
    ) has_priviledge
WHERE EXISTS(
    SELECT has_schema_privilege($3, $4)
    WHERE EXISTS(
        SELECT cl.oid FROM pg_catalog.pg_class cl
        LEFT JOIN pg_catalog.pg_namespace ns ON ns.oid=relnamespace
        WHERE relname=$5 AND nspname=$6
    )
)","0.021611000000000002","0.021611000000000002","1"
"<insufficient privilege>","0.021512","0.021512","1"
"SET ROLE 'avnadmin'","0.021198","0.021198","1"
"SET client_encoding='utf-8'","0.007065333333333333","0.021196","3"
"SELECT COUNT(*) FROM pg_extension WHERE extname IN (
                $1, $2)","0.021133","0.021133","1"
"SELECT COUNT(*) FROM pg_extension WHERE extname IN (
                $1, $2)","0.020979","0.020979","1"
"DELETE FROM event_backward_extremities WHERE event_id = $1 AND room_id = $2","0.01045","0.0209","2"
"<insufficient privilege>","0.02045","0.02045","1"
"<insufficient privilege>","0.020047","0.020047","1"
"<insufficient privilege>","0.019926","0.019926","1"
"BEGIN","0.009961999999999999","0.019923999999999997","2"
"DELETE FROM sessions WHERE expiry_time_ms <= $1","0.0099225","0.019845","2"
"<insufficient privilege>","0.019582","0.019582","1"
"<insufficient privilege>","0.019505","0.019505","1"
"DELETE FROM event_push_actions_staging WHERE event_id = $1","0.009724","0.019448","2"
"<insufficient privilege>","0.0194","0.0194","1"
"SET client_encoding='utf-8'","0.006356666666666667","0.01907","3"
"<insufficient privilege>","0.018789","0.018789","1"
"<insufficient privilege>","0.018635","0.018635","1"
"<insufficient privilege>","0.018611","0.018611","1"
"SELECT n.nspname, r.relname
FROM pg_catalog.pg_class r
    LEFT JOIN pg_catalog.pg_namespace n ON (r.relnamespace = n.oid)
WHERE r.oid = $1","0.018569000000000002","0.018569000000000002","1"
"<insufficient privilege>","0.018400999999999997","0.018400999999999997","1"
"<insufficient privilege>","0.018040999999999998","0.018040999999999998","1"
"SELECT version()","0.0036057999999999997","0.018029","5"
"DELETE FROM threepid_validation_token WHERE
            expires < $1","0.0090125","0.018025","2"
"SET ROLE 'avnadmin'","0.017998","0.017998","1"
"SET client_min_messages=notice","0.003565","0.017825","5"
"<insufficient privilege>","0.017373","0.017373","1"
"SELECT version()","0.005646","0.016938","3"
"SET ROLE 'avnadmin'","0.01684","0.01684","1"
"SET DateStyle=ISO","0.016103","0.016103","1"
"<insufficient privilege>","0.016021","0.016021","1"
"<insufficient privilege>","0.015849","0.015849","1"
"SELECT CASE WHEN usesuper
       THEN pg_catalog.pg_is_in_recovery()
       ELSE $1
       END as inrecovery,
       CASE WHEN usesuper AND pg_catalog.pg_is_in_recovery()
       THEN pg_is_wal_replay_paused()
       ELSE $2
       END as isreplaypaused
FROM pg_catalog.pg_user WHERE usename=current_user","0.015156000000000001","0.015156000000000001","1"
"<insufficient privilege>","0.014735","0.014735","1"
"<insufficient privilege>","0.014052","0.014052","1"
"SET DateStyle='ISO'","0.013881","0.013881","1"
"SET client_min_messages=notice","0.004617","0.013850999999999999","3"
"<insufficient privilege>","0.013691","0.013691","1"
"DELETE FROM login_tokens WHERE expiry_ts <= $1","0.0067835","0.013567","2"
"SET application_name = 'PostgreSQL JDBC Driver'","0.0065555000000000006","0.013111000000000001","2"
"SELECT version()","0.0043233333333333335","0.01297","3"
"SET client_min_messages=notice","0.004152333333333333","0.012457","3"
"<insufficient privilege>","0.012262","0.012262","1"
"DELETE FROM event_failed_pull_attempts
            WHERE event_id = $1 and room_id = $2","0.005848","0.011696","2"
"DELETE FROM monthly_active_users WHERE timestamp < $1 AND NOT user_id = ANY($2)","0.011059000000000001","0.011059000000000001","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.010853","0.010853","1"
"SELECT version()","0.0034699999999999996","0.010409999999999999","3"
"<insufficient privilege>","0.010329999999999999","0.010329999999999999","1"
"<insufficient privilege>","0.010152","0.010152","1"
"<insufficient privilege>","0.010131","0.010131","1"
"BEGIN","0.00234","0.00936","4"
"SET extra_float_digits = 3","0.009148","0.009148","1"
"DELETE FROM syncv3_txns WHERE ts <= $1","0.008831","0.008831","1"
"SET client_min_messages=notice","0.002920666666666667","0.008762","3"
"<insufficient privilege>","0.008275","0.008275","1"
"select this_.uuid as y0_ from upload_request_group this_ where this_.expiry_date<$1 and this_.status=$2","0.007926","0.007926","1"
"<insufficient privilege>","0.007522","0.007522","1"
"<insufficient privilege>","0.007379","0.007379","1"
"SELECT user_id FROM erased_users WHERE user_id = ANY(ARRAY[$1,$2,$3])","0.007357","0.007357","1"
"<insufficient privilege>","0.007043","0.007043","1"
"<insufficient privilege>","0.0070350000000000005","0.0070350000000000005","1"
"<insufficient privilege>","0.007007","0.007007","1"
"select this_.uuid as y0_ from upload_request this_ where this_.activation_date<$1 and this_.status=$2","0.006899000000000001","0.006899000000000001","1"
"COMMIT","0.0034315","0.006863","2"
"<insufficient privilege>","0.006689","0.006689","1"
"select this_.uuid as y0_ from upload_request this_ where this_.notification_date<$1 and this_.notification_date>$2 and this_.notification_date<this_.expiry_date and this_.status=$3 and this_.notified=$4","0.006548","0.006548","1"
"<insufficient privilege>","0.006477","0.006477","1"
"SET client_encoding='utf-8'","0.006437","0.006437","1"
"<insufficient privilege>","0.006423","0.006423","1"
"<insufficient privilege>","0.006392999999999999","0.006392999999999999","1"
"select this_.uuid as y0_ from upload_request this_ where this_.expiry_date<$1 and this_.status=$2","0.005116","0.005116","1"
"SET application_name = 'PostgreSQL JDBC Driver'","0.004727","0.004727","1"
"SET client_min_messages=notice","0.004496","0.004496","1"
"SELECT version()","0.0036880000000000003","0.0036880000000000003","1"
"COMMIT","0.002872","0.002872","1"

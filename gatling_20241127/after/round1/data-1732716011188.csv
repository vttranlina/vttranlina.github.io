"query","mean_exec_time","total_exec_time","calls"
"select
  count(*) as ""total_count"",
  count(*) filter (where is_seen = $1) as ""unseen_count""
from message_mailbox
where mailbox_id = cast($2 as uuid)","0.6387431392345634","254887.89473899585","399046"
"insert into thread (
  username,
  hash_mime_message_id,
  message_id,
  thread_id,
  hash_base_subject
)
values (
  $1, 
  $2, 
  cast($3 as uuid), 
  cast($4 as uuid), 
  $5
)","0.7908371819256497","148520.80443999977","187802"
"select
  thread_id,
  hash_base_subject
from thread
where (
  username = $1
  and hash_mime_message_id in (
    $2, $3
  )
)","1.44327144544784","135524.63199899942","93901"
"insert into email_query_view (
  mailbox_id,
  message_id,
  sent_at,
  received_at
)
values (
  cast($1 as uuid), 
  cast($2 as uuid), 
  cast($3 as timestamp with time zone), 
  cast($4 as timestamp with time zone)
)
on conflict on constraint ""email_query_view_pkey""
do nothing","0.7406963028304502","69635.08151800021","94013"
"select distinct unnest(user_flags)
from message_mailbox
where mailbox_id = cast($1 as uuid)","2.574289481077846","55983.07334500034","21747"
"insert into message_mailbox (
  mailbox_id,
  message_uid,
  mod_seq,
  message_id,
  thread_id,
  internal_date,
  size,
  is_deleted,
  is_answered,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags,
  save_date
)
values (
  cast($1 as uuid), 
  $2, 
  $3, 
  cast($4 as uuid), 
  cast($5 as uuid), 
  cast($6 as timestamp(6)), 
  $7, 
  $8, 
  $9, 
  $10, 
  $11, 
  $12, 
  $13, 
  cast($14 as varchar[]), 
  cast($15 as timestamp(6))
)","0.564844546309406","53039.46774299938","93901"
"select
  message.message_id as message_id,
  message.internal_date as internal_date,
  message.size as size,
  body_blob_id,
  mime_type,
  mime_subtype,
  body_start_octet,
  textual_line_count,
  attachment_metadata,
  mailbox_id,
  message_uid,
  mod_seq,
  thread_id,
  is_deleted,
  is_answered,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags,
  save_date,
  header_content,
  textual_line_count,
  content_description,
  content_location,
  content_transfer_encoding,
  content_disposition_type,
  content_id,
  content_md5,
  content_language,
  content_type_parameters,
  content_disposition_parameters
from message_mailbox
  join message
    on message_mailbox.message_id = message.message_id
where (
  mailbox_id = cast($1 as uuid)
  and message_uid = $2
)","0.16215373753141443","49610.77384399908","305949"
"select *
from mailbox
where (
  mailbox_name = $1
  and user_name = $2
  and mailbox_namespace = $3
)","0.05667479424602917","35082.60443499993","619016"
"select *
from mailbox
where mailbox_id = cast($1 as uuid)","0.036249353493570106","32448.427532999012","895145"
"<insufficient privilege>","76.5583705121951","31388.931910000018","410"
"select message_uid
from message_mailbox
where mailbox_id = cast($1 as uuid)
order by message_uid asc","1.2873651711500362","27996.330376999907","21747"
"select
  message_uid,
  is_deleted
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and message_uid >= $2
  and message_uid <= $3
  and is_deleted = $4
)
order by message_uid asc","1.1352144527523989","26705.92000099975","23525"
"select
  type,
  ""quota_current_value"".""current_value""
from quota_current_value
where (
  identifier = $1
  and component = $2
)","0.07930949225614381","23315.00798600005","293975"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_recent = $2
)
order by message_uid asc","0.05146734073768091","18192.98440800057","353486"
"insert into quota_current_value (
  identifier,
  component,
  type,
  ""current_value""
)
values (
  $1, 
  $2, 
  $3, 
  $4
)
on conflict on constraint ""quota_current_value_primary_key""
do update
set
  ""current_value"" = (""quota_current_value"".""current_value"" + $5)","0.09313825216184327","17513.158106999872","188034"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_seen = $2
  and message_uid >= $3
  and message_uid <= $4
)
order by message_uid asc","0.5071489889855819","12063.55300100003","23787"
"select *
from quota_limit
where (
  quota_component = $1
  and quota_scope = $2
  and identifier = $3
)","0.012036374799444607","10615.17984499959","881925"
"select *
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_recent = $2
)
order by message_uid asc
fetch next $3 rows only","0.2295844979367874","10459.86972599998","45560"
"select
  message.message_id as message_id,
  message.internal_date as internal_date,
  message.size as size,
  body_blob_id,
  mime_type,
  mime_subtype,
  body_start_octet,
  textual_line_count,
  attachment_metadata,
  mailbox_id,
  message_uid,
  mod_seq,
  thread_id,
  is_deleted,
  is_answered,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags,
  save_date,
  header_content,
  textual_line_count,
  content_description,
  content_location,
  content_transfer_encoding,
  content_disposition_type,
  content_id,
  content_md5,
  content_language,
  content_type_parameters,
  content_disposition_parameters
from message_mailbox
  join message
    on message_mailbox.message_id = message.message_id
where message_mailbox.message_id in (cast($1 as uuid))","0.09403620568839333","8840.907914000012","94016"
"insert into message (
  message_id,
  body_blob_id,
  mime_type,
  mime_subtype,
  internal_date,
  size,
  body_start_octet,
  textual_line_count,
  content_description,
  content_disposition_type,
  content_id,
  content_md5,
  content_language,
  content_location,
  content_transfer_encoding,
  content_type_parameters,
  content_disposition_parameters,
  attachment_metadata,
  header_content
)
values (
  cast($1 as uuid), 
  $2, 
  $3, 
  $4, 
  cast($5 as timestamp(6)), 
  $6, 
  $7, 
  $8, 
  $9, 
  $10, 
  $11, 
  $12, 
  cast($13 as varchar[]), 
  $14, 
  $15, 
  cast($16 as hstore), 
  cast($17 as hstore), 
  $18, 
  $19
)","0.09316641546948433","8748.419579000043","93901"
"update mailbox
set
  mailbox_last_uid = (coalesce(
    mailbox_last_uid,
    $1
  ) + $2),
  mailbox_highest_modseq = (coalesce(
    mailbox_highest_modseq,
    $3
  ) + $4)
where mailbox_id = cast($5 as uuid)
returning 
  mailbox_last_uid,
  mailbox_highest_modseq","0.0702209318218122","6593.815718999947","93901"
"<insufficient privilege>","6344.559407000001","6344.559407000001","1"
"update message_mailbox
set
  is_deleted = $1,
  is_seen = $2,
  is_recent = $3,
  is_answered = $4,
  is_flagged = $5,
  is_draft = $6,
  user_flags = cast($7 as varchar[]),
  mod_seq = $8
where (
  mailbox_id = cast($9 as uuid)
  and message_uid = $10
)
returning 
  message_uid,
  mod_seq,
  size,
  internal_date,
  save_date,
  message_id,
  thread_id,
  is_answered,
  is_deleted,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags","0.5923231158026768","5667.347571999977","9568"
"select *
from mailbox
where (
  user_name = $1
  and mailbox_namespace = $2
)","0.25964866466241293","5656.965457000018","21787"
"update message_mailbox
set
  is_deleted = $1,
  is_draft = $2,
  is_flagged = $3,
  is_answered = $4,
  is_recent = $5,
  is_seen = $6,
  user_flags = cast($7 as varchar[]),
  mod_seq = $8
where (
  mailbox_id = cast($9 as uuid)
  and message_uid = $10
)
returning 
  message_uid,
  mod_seq,
  size,
  internal_date,
  save_date,
  message_id,
  thread_id,
  is_answered,
  is_deleted,
  is_draft,
  is_flagged,
  is_recent,
  is_seen,
  user_flags","0.6214575073886213","5635.376677000001","9068"
"<insufficient privilege>","33.064375025806434","5124.978129000001","155"
"update mailbox
set
  mailbox_highest_modseq = (coalesce(
    mailbox_highest_modseq,
    $1
  ) + $2)
where mailbox_id = cast($3 as uuid)
returning mailbox_highest_modseq","0.06921357252396101","4766.046603999989","68860"
"select exists (
  select $2 as ""one""
  from blob_id_list
  where blob_id = $1
)","0.0378053028402248","3549.9557420000115","93901"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $2 AND state_key = $3)
                            ORDER BY type, state_key, state_group DESC
                        )
                         UNION 
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $4 AND state_key = $5)
                            ORDER BY type, state_key, state_group DESC
                        )","0.9568037082733818","2659.9143090000016","2780"
"select *
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and message_uid >= $2
  and message_uid <= $3
)
order by message_uid asc
fetch next $4 rows only","0.07594404527897004","1769.4962549999977","23300"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_seen = $2
)
order by message_uid asc
fetch next $3 rows only","0.037611613805969946","1713.5851250000032","45560"
"<insufficient privilege>","10.47646936774194","1623.8527519999989","155"
"SELECT
			 checkpoints_timed
			 ,checkpoints_req
			 ,checkpoint_write_time
			 ,checkpoint_sync_time
			 ,buffers_checkpoint
			 ,buffers_clean
			 ,maxwritten_clean
			 ,buffers_backend
			 ,buffers_backend_fsync
			 ,buffers_alloc
			 ,stats_reset
		 FROM pg_stat_bgwriter","9.369675787096767","1452.2997470000012","155"
"INSERT INTO received_transactions (transaction_id, origin, response_code, response_json, ts) VALUES ($1, $2, $3, $4::bytea, $5) ON CONFLICT (transaction_id, origin) DO NOTHING","3.7874670231213887","1310.4635899999996","346"
"select *
from subscription
where user_name = $1","0.1289681068000002","1289.681068000006","10000"
"select message_uid
from message_mailbox
where (
  mailbox_id = cast($1 as uuid)
  and is_deleted = $2
)
order by message_uid asc","0.07935506551990759","1231.749327000002","15522"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","12.414613904255324","1166.973707","94"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                    SELECT DISTINCT ON (type, state_key)
                        type, state_key, event_id
                    FROM state_groups_state
                    WHERE state_group IN (
                        SELECT state_group FROM sgs
                    ) 
                    ORDER BY type, state_key, state_group DESC","2.2072072349272336","1061.6666800000012","481"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","26.19885184848485","864.5621110000003","33"
"WITH RECURSIVE links(chain_id) AS (
                SELECT
                    DISTINCT origin_chain_id
                FROM event_auth_chain_links WHERE origin_chain_id = ANY(ARRAY[$1,$2,$3,$4])
                UNION
                SELECT
                    target_chain_id
                FROM event_auth_chain_links
                INNER JOIN links ON (chain_id = origin_chain_id)
            )
            SELECT
                origin_chain_id, origin_sequence_number,
                target_chain_id, target_sequence_number
            FROM links
            INNER JOIN event_auth_chain_links ON (chain_id = origin_chain_id)","8.276416270588232","703.4953830000004","85"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1])","0.7532602724252492","680.1940259999999","903"
"SELECT
                event.event_id, event.instance_name,
                event.topological_ordering, event.stream_ordering
            FROM events AS event
            
            WHERE event.outlier = $1 AND event.room_id = $2 AND ($3 >= event.stream_ordering)
            ORDER BY event.topological_ordering DESC,
            event.stream_ordering DESC LIMIT $4","1.1994577732342009","645.3082820000003","538"
"SELECT event_id, events.type, se.state_key, chain_id, sequence_number
                FROM events
                INNER JOIN state_events AS se USING (event_id)
                LEFT JOIN event_auth_chains USING (event_id)
                WHERE
            event_id = ANY(ARRAY[$1,$2,$3,$4])","6.08209760240964","504.814101","83"
"SELECT name, setting, COALESCE(unit, $1), short_desc, vartype FROM pg_settings WHERE vartype IN ($2, $3, $4) AND name != $5","3.1714214645161296","491.5703270000001","155"
"WITH
  metrics AS (
    SELECT
      application_name,
      SUM(EXTRACT($1 FROM (CURRENT_TIMESTAMP - state_change))::bigint)::float AS process_seconds_sum,
      COUNT(*) AS process_seconds_count
    FROM pg_stat_activity
    WHERE state = $2
    GROUP BY application_name
  ),
  buckets AS (
    SELECT
      application_name,
      le,
      SUM(
        CASE WHEN EXTRACT($3 FROM (CURRENT_TIMESTAMP - state_change)) <= le
          THEN $4
          ELSE $5
        END
      )::bigint AS bucket
    FROM
      pg_stat_activity,
      UNNEST(ARRAY[$6, $7, $8, $9, $10, $11, $12, $13, $14]) AS le
    GROUP BY application_name, le
    ORDER BY application_name, le
  )
SELECT
  application_name,
  process_seconds_sum,
  process_seconds_count,
  ARRAY_AGG(le) AS process_seconds,
  ARRAY_AGG(bucket) AS process_seconds_bucket
FROM metrics JOIN buckets USING (application_name)
GROUP BY 1, 2, 3","2.1372548129032247","331.2744960000001","155"
"BEGIN ISOLATION LEVEL REPEATABLE READ","0.015593837967070883","316.33659700000027","20286"
"SELECT * FROM (
                    SELECT instance_name, stream_ordering, topological_ordering, event_id
                    FROM events
                    LEFT JOIN rejections USING (event_id)
                    WHERE room_id = $1
                        
                        AND $2 < stream_ordering AND stream_ordering <= $3
                        AND NOT outlier
                        AND rejections.event_id IS NULL
                    ORDER BY stream_ordering DESC
                ) AS a
                UNION ALL
                SELECT * FROM (
                    SELECT instance_name, stream_ordering, topological_ordering, event_id
                    FROM events
                    LEFT JOIN rejections USING (event_id)
                    WHERE room_id = $4
                        
                        AND stream_ordering <= $5
                        AND NOT outlier
                        AND rejections.event_id IS NULL
                    ORDER BY stream_ordering DESC
                    LIMIT $6
                ) AS b
                ORDER BY stream_ordering DESC","0.418406071724138","303.3444020000002","725"
"select
  mailbox_id,
  mailbox_name,
  mailbox_uid_validity,
  user_name,
  mailbox_namespace,
  mailbox_last_uid,
  mailbox_highest_modseq,
  slice(
    mailbox_acl,
    array[$1]
  ) as mailbox_acl
from mailbox
where (mailbox_acl ? $2)","0.013744756093082995","299.45700100000147","21787"
"SELECT current_database() datname, schemaname, relname, heap_blks_read, heap_blks_hit, idx_blks_read, idx_blks_hit, toast_blks_read, toast_blks_hit, tidx_blks_read, tidx_blks_hit FROM pg_statio_user_tables","1.8868702000000008","292.46488100000005","155"
"SELECT
  current_database() datname,
  schemaname,
  relname,
  seq_scan,
  seq_tup_read,
  idx_scan,
  idx_tup_fetch,
  n_tup_ins,
  n_tup_upd,
  n_tup_del,
  n_tup_hot_upd,
  n_live_tup,
  n_dead_tup,
  n_mod_since_analyze,
  COALESCE(last_vacuum, $1) as last_vacuum,
  COALESCE(last_autovacuum, $2) as last_autovacuum,
  COALESCE(last_analyze, $3) as last_analyze,
  COALESCE(last_autoanalyze, $4) as last_autoanalyze,
  vacuum_count,
  autovacuum_count,
  analyze_count,
  autoanalyze_count
FROM
  pg_stat_user_tables","1.7547235225806443","271.982146","155"
"SELECT room_id, e.sender, c.membership, event_id, e.instance_name, e.stream_ordering, r.room_version
            FROM local_current_membership AS c
            INNER JOIN events AS e USING (room_id, event_id)
            INNER JOIN rooms AS r USING (room_id)
            WHERE
                user_id = $1
                AND c.membership = ANY(ARRAY[$2,$3,$4,$5,$6])","40.427620833333336","242.565725","6"
"<insufficient privilege>","1.561486393548387","242.03039099999992","155"
"SELECT e.event_id, e.room_id, e.type, se.state_key, r.reason
                FROM events AS e
                LEFT JOIN state_events se USING (event_id)
                LEFT JOIN rejections r USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1])","0.4918175228215766","237.05604599999998","482"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78])","69.43345799999999","208.30037399999998","3"
"INSERT INTO event_edges (event_id, prev_event_id) VALUES ($1,$2)","2.409098917647059","204.7734079999999","85"
"INSERT INTO ""sessions"" (""session_id"", ""persistent"", ""data"", ""created_at"", ""updated_at"") VALUES ($1, $2, $3, $4, $5) RETURNING ""id""","0.2204018045356374","204.09207099999978","926"
"SELECT received_ts FROM events
            WHERE stream_ordering <= $1
            ORDER BY stream_ordering DESC
            LIMIT $2","0.16180058921161844","194.9697100000002","1205"
"<insufficient privilege>","0.014284375019040377","187.55384400000017","13130"
"SELECT room_id FROM current_state_events WHERE type = $1 AND membership = $2 AND state_key = $3","1.1988807337662344","184.62763299999995","154"
"INSERT INTO events (instance_name, stream_ordering, topological_ordering, depth, event_id, room_id, type, processed, outlier, origin_server_ts, received_ts, sender, contains_url, state_key, rejection_reason) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15)","2.133563835294118","181.35292600000005","85"
"SELECT t1.c, t2.c
                FROM (
                    SELECT room_id, COUNT(*) c FROM event_forward_extremities
                    GROUP BY room_id
                ) t1 LEFT JOIN (
                    SELECT room_id, COUNT(*) c FROM current_state_events
                    GROUP BY room_id
                ) t2 ON t1.room_id = t2.room_id","89.045792","178.09158399999998","2"
"<insufficient privilege>","0.012896551789794335","169.33172500000018","13130"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","13.861758083333331","166.34109699999996","12"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2])","0.8966123333333331","164.08005699999998","183"
"<insufficient privilege>","0.012315665575019015","161.7046890000004","13130"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","4.7431625588235296","161.26752700000006","34"
"INSERT INTO room_memberships (event_id, event_stream_ordering, user_id, sender, room_id, membership, display_name, avatar_url) VALUES ($1,$2,$3,$4,$5,$6,$7,$8)","1.891855144578313","157.02397699999995","83"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40])","29.241877600000002","146.20938800000002","5"
"DELETE FROM received_transactions WHERE ts < $1","48.662504000000006","145.987512","3"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","43.96921466666667","131.907644","3"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","1.8311635972222224","131.843779","72"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6])
                ) AS b using (room_id)","1.6963653506493503","130.620132","77"
"INSERT INTO event_auth (event_id, room_id, auth_id) VALUES ($1,$2,$3),($4,$5,$6),($7,$8,$9),($10,$11,$12)","1.517415","125.94544499999998","83"
"SELECT
                    event_id, prev_event_id, internal_metadata,
                    rejections.event_id IS NOT NULL
                FROM event_edges
                    INNER JOIN events USING (event_id)
                    LEFT JOIN rejections USING (event_id)
                    LEFT JOIN event_json USING (event_id)
                WHERE
                    NOT events.outlier
                    AND
                event_id = ANY(ARRAY[$1])","1.480850694117647","125.87230900000002","85"
"SELECT prev_event_id, internal_metadata
            FROM event_edges
                INNER JOIN events USING (event_id)
                LEFT JOIN rejections USING (event_id)
                LEFT JOIN event_json USING (event_id)
            WHERE
                NOT events.outlier
                AND rejections.event_id IS NULL
                AND
            prev_event_id = ANY(ARRAY[$1])","1.3882938588235292","118.00497799999998","85"
"SELECT ""settings"".""updated_at"" FROM ""settings"" ORDER BY ""settings"".""updated_at"" DESC LIMIT $1","0.2518904740259737","116.37339899999996","462"
"SELECT ""permissions"".""name"" FROM ""permissions"" INNER JOIN ""permissions_roles"" ON ""permissions"".""id"" = ""permissions_roles"".""permission_id"" INNER JOIN ""roles"" ON ""permissions_roles"".""role_id"" = ""roles"".""id"" INNER JOIN ""roles_users"" ON ""roles"".""id"" = ""roles_users"".""role_id"" WHERE ""roles_users"".""user_id"" = $1 AND ""roles"".""active"" = $2 AND ""permissions"".""active"" = $3","0.12154269687162897","112.67008000000004","927"
"INSERT INTO user_ips (user_id, access_token, ip, user_agent, device_id, last_seen) VALUES ($1,$2,$3,$4,$5,$6) ON CONFLICT (user_id, access_token, ip) DO UPDATE SET user_agent=EXCLUDED.user_agent, device_id=EXCLUDED.device_id, last_seen=EXCLUDED.last_seen","0.8985233750000001","107.82280499999999","120"
"INSERT INTO worker_read_write_locks (lock_name, lock_key, write_lock, instance_name, token, last_renewed_ts) VALUES($1, $2, $3, $4, $5, $6)","0.597084505555556","107.47521099999999","180"
"DELETE FROM worker_read_write_locks WHERE lock_name = $1 AND lock_key = $2 AND token = $3","0.5930884000000006","106.75591200000004","180"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101])","106.443998","106.443998","1"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $2 AND state_key = $3)
                            ORDER BY type, state_key, state_group DESC
                        )","0.6627897421383648","105.38356900000004","159"
"SELECT * FROM pg_stat_database","0.6780993419354833","105.10539800000001","155"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100])","104.151808","104.151808","1"
"SELECT *,
				extract($1 from now() - last_archived_time) AS last_archive_age
			FROM pg_stat_archiver","0.6642883548387095","102.96469500000003","155"
"DELETE FROM stream_ordering_to_exterm
                WHERE stream_ordering < $1","50.741246","101.482492","2"
"<insufficient privilege>","0.6125591096774191","94.946662","155"
"SELECT stream_id, instance_name, room_id, receipt_type,
                        user_id, event_id, thread_id, data
                    FROM receipts_linearized WHERE
                    stream_id > $1 AND stream_id <= $2 AND
                room_id = ANY(ARRAY[$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27])","9.4291123","94.291123","10"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])","15.564676999999998","93.38806199999999","6"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])","13.248102571428568","92.736718","7"
"INSERT INTO state_events (event_id, room_id, type, state_key) VALUES ($1,$2,$3,$4)","1.0831317411764705","92.06619800000004","85"
"<insufficient privilege>","0.5904761806451614","91.52380800000003","155"
"<insufficient privilege>","0.5879272838709677","91.128729","155"
"SELECT
				pg_database.datname,
				tmp.state,
				COALESCE(count,$1) as count,
				COALESCE(max_tx_duration,$2) as max_tx_duration
			FROM
				(
				  VALUES ($3),
				  		 ($4),
				  		 ($5),
				  		 ($6),
				  		 ($7),
				  		 ($8)
				) AS tmp(state) CROSS JOIN pg_database
			LEFT JOIN
			(
				SELECT
					datname,
					state,
					count(*) AS count,
					MAX(EXTRACT($9 FROM now() - xact_start))::float AS max_tx_duration
				FROM pg_stat_activity GROUP BY datname,state) AS tmp2
				ON tmp.state = tmp2.state AND pg_database.datname = tmp2.datname","0.5827664645161292","90.328802","155"
"<insufficient privilege>","0.5647477612903226","87.53590300000002","155"
"SELECT pg_database.datname,tmp.mode,COALESCE(count,$1) as count
			FROM
				(
				  VALUES ($2),
				         ($3),
				         ($4),
				         ($5),
				         ($6),
				         ($7),
				         ($8),
				         ($9),
					 ($10)
				) AS tmp(mode) CROSS JOIN pg_database
			LEFT JOIN
			  (SELECT database, lower(mode) AS mode,count(*) AS count
			  FROM pg_locks WHERE database IS NOT NULL
			  GROUP BY database, lower(mode)
			) AS tmp2
			ON tmp.mode=tmp2.mode and pg_database.oid = tmp2.database ORDER BY 1","0.5322950064516128","82.50572600000002","155"
"INSERT INTO current_state_delta_stream
                    (stream_id, instance_name, room_id, type, state_key, event_id, prev_event_id)
                    SELECT $1, $2, $4, $6, $8, $10, (
                        SELECT event_id FROM current_state_events
                        WHERE room_id = $12 AND type = $13 AND state_key = $14
                    )","0.956917082352941","81.33795200000002","85"
"INSERT INTO user_daily_visits (user_id, device_id, timestamp, user_agent)
                    SELECT u.user_id, u.device_id, $1, MAX(u.user_agent)
                    FROM user_ips AS u
                    LEFT JOIN (
                      SELECT user_id, device_id, timestamp FROM user_daily_visits
                      WHERE timestamp = $2
                    ) udv
                    ON u.user_id = udv.user_id AND u.device_id=udv.device_id
                    INNER JOIN users ON users.name=u.user_id
                    WHERE $3 <= last_seen AND last_seen < $4
                    AND udv.timestamp IS NULL AND users.is_guest=$5
                    AND users.appservice_id IS NULL
                    GROUP BY u.user_id, u.device_id","5.0133944375","80.21431100000001","16"
"SELECT algorithm, COUNT(key_id) FROM e2e_one_time_keys_json WHERE user_id = $1 AND device_id = $2 GROUP BY algorithm","8.008841400000001","80.088414","10"
"INSERT INTO stream_ordering_to_exterm (room_id, event_id, stream_ordering) VALUES ($1,$2,$3)","0.9366014588235289","79.61112400000002","85"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51])","79.13838600000001","79.13838600000001","1"
"SELECT ""schedulers"".* FROM ""schedulers"" WHERE ""schedulers"".""active"" = $1 ORDER BY ""schedulers"".""prio"" ASC","0.16997452723311543","78.01830800000005","459"
"SELECT * FROM pg_stat_database_conflicts","0.5007483032258064","77.61598699999996","155"
"SET default_transaction_isolation TO DEFAULT","0.00785823450654226","77.47433400000025","9859"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2])","0.2509836241830066","76.80098900000002","306"
"SELECT ""settings"".""name"", ""settings"".""state_current"" FROM ""settings"" WHERE (updated_at >= $1) ORDER BY ""settings"".""id"" ASC","0.16597161471861485","76.67888599999998","462"
"SELECT stream_id FROM cache_invalidation_stream_by_instance
                WHERE stream_id <= $1 AND invalidation_ts <= $2
                ORDER BY stream_id DESC
                LIMIT $3","37.9635275","75.927055","2"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","12.582594833333333","75.495569","6"
"SELECT thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type, thumbnail_length FROM local_media_repository_thumbnails WHERE media_id = $1","3.711957800000001","74.23915600000001","20"
"SELECT DISTINCT substring(state_key FROM $1)
                FROM current_state_events
                WHERE
                    type = $2
                    AND membership = $3
                    AND room_id = $4","0.5594791287878789","73.85124499999996","132"
"SELECT event_id FROM event_auth_chains WHERE event_id = ANY(ARRAY[$1])","0.8511879882352938","72.35097899999998","85"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])","11.975767333333332","71.854604","6"
"SELECT state_key FROM current_state_events WHERE type = $1 AND room_id = $2 AND membership = $3","0.25508797482014395","70.91445700000001","278"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])","8.627968375","69.023747","8"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1])
                        AND relation_type = $2
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","2.5294275600000002","63.235689","25"
"SELECT notif_count, COALESCE(unread_count, $1), thread_id
                FROM event_push_summary
                LEFT JOIN (
                    SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                    FROM receipts_linearized
                    WHERE
                        user_id = $2
                        AND room_id = $3
                        AND event_stream_ordering > $4
                        AND receipt_type = ANY(ARRAY[$5,$6])
                    GROUP BY thread_id
                ) AS receipts USING (thread_id)
                WHERE room_id = $7 AND user_id = $8
                AND (
                    (last_receipt_stream_ordering IS NULL AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $9))
                    OR last_receipt_stream_ordering = COALESCE(threaded_receipt_stream_ordering, $10)
                ) AND (notif_count != $11 OR COALESCE(unread_count, $12) != $13)","0.1517533171912834","62.67411999999999","413"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4])","2.4977689599999993","62.444224000000006","25"
"<insufficient privilege>","0.4018296516129031","62.283595999999996","155"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120,$121,$122,$123,$124,$125,$126,$127,$128,$129,$130,$131,$132,$133,$134,$135,$136,$137,$138])","61.085544999999996","61.085544999999996","1"
"<insufficient privilege>","0.39240200645161294","60.82231100000003","155"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42])","59.217884","59.217884","1"
"INSERT INTO state_groups (id, room_id, event_id) VALUES($1, $2, $3)","0.6801605529411766","57.81364700000001","85"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37])","28.7450875","57.490175","2"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])","4.747361583333333","56.968339","12"
"<insufficient privilege>","0.3589981612903225","55.644715","155"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16])","1.2552409772727273","55.230602999999995","44"
"SELECT media_id FROM local_media_repository_url_cache WHERE expires_ts < $1 ORDER BY expires_ts ASC LIMIT $2","0.023483962435233128","54.38885699999999","2316"
"SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype
FROM pg_type as t
LEFT JOIN pg_range as r ON oid = rngtypid
WHERE
  t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40)","6.7109245","53.687396","8"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98])","53.662572","53.662572","1"
"SELECT event_id, event_stream_ordering
            FROM receipts_linearized
            WHERE receipt_type = ANY(ARRAY[$1,$2])
            AND user_id = $3
            AND room_id = $4
            AND thread_id IS NULL
            ORDER BY event_stream_ordering DESC
            LIMIT $5","0.1297646295399515","53.592792","413"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66])","52.516491","52.516491","1"
"SELECT *,
				(case pg_is_in_recovery() when $1 then $2 else pg_current_wal_lsn() end) AS pg_current_wal_lsn,
				(case pg_is_in_recovery() when $3 then $4 else pg_wal_lsn_diff(pg_current_wal_lsn(), pg_lsn($5))::float end) AS pg_current_wal_lsn_bytes,
				(case pg_is_in_recovery() when $6 then $7 else pg_wal_lsn_diff(pg_current_wal_lsn(), replay_lsn)::float end) AS pg_wal_lsn_diff
			FROM pg_stat_replication","0.3378081870967743","52.36026899999998","155"
"SELECT media_id FROM local_media_repository WHERE created_ts < $1 AND url_cache IS NOT NULL ORDER BY created_ts ASC LIMIT $2","0.022408228842832428","51.89745800000008","2316"
"WITH pdu_destinations AS (
            SELECT DISTINCT destination FROM destination_rooms
            LEFT JOIN destinations USING (destination)
            WHERE
                destination > $1
                AND destination_rooms.stream_ordering > COALESCE(destinations.last_successful_stream_ordering, $2)
                AND (
                    destinations.retry_last_ts IS NULL OR
                    destinations.retry_last_ts + destinations.retry_interval < $3
                )
            ORDER BY destination
            LIMIT $4
        ), to_device_destinations AS (
            SELECT DISTINCT destination FROM device_federation_outbox
            LEFT JOIN destinations USING (destination)
            WHERE
               destination > $5
               AND (
                    destinations.retry_last_ts IS NULL OR
                    destinations.retry_last_ts + destinations.retry_interval < $6
               )
            ORDER BY destination
            LIMIT $7
        )

        SELECT destination FROM pdu_destinations
        UNION SELECT destination FROM to_device_destinations
            ORDER BY destination
            LIMIT $8","0.3369046363636362","51.88331400000001","154"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","4.299457","51.593484000000004","12"
"SELECT COUNT(*), thread_id FROM event_push_actions
            LEFT JOIN (
                SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                FROM receipts_linearized
                WHERE
                    user_id = $1
                    AND room_id = $2
                    AND event_stream_ordering > $3
                    AND receipt_type = ANY(ARRAY[$4,$5])
                GROUP BY thread_id
            ) AS receipts USING (thread_id)
            WHERE user_id = $6
                AND room_id = $7
                AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $8)
                AND highlight = $9
            GROUP BY thread_id","0.12456205326876518","51.44412800000001","413"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23])","25.607468499999996","51.214937","2"
"SELECT ""settings"".* FROM ""settings"" WHERE ""settings"".""area"" = $1 ORDER BY ""settings"".""name"" ASC","0.053711388947927714","50.54241700000001","941"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49])","48.593315","48.593315","1"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5])","2.0847291304347824","47.94877000000001","23"
"<insufficient privilege>","0.29721467741935487","46.06827499999999","155"
"SELECT DISTINCT ON (user_id, keytype) user_id, keytype, keydata, stream_id
                        FROM e2e_cross_signing_keys
                        WHERE user_id = ANY(ARRAY[$1])
                        ORDER BY user_id, keytype, stream_id DESC","4.180419636363636","45.984616","11"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26])","9.0426152","45.213076","5"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100])","45.166138000000004","45.166138000000004","1"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41])","22.180903","44.361805999999994","2"
"INSERT INTO stream_positions (stream_name, instance_name, stream_id)
            VALUES ($1, $2, $3)
            ON CONFLICT (stream_name, instance_name)
            DO UPDATE SET
                stream_id = GREATEST(stream_positions.stream_id, EXCLUDED.stream_id)","0.09154641090146759","43.667638","477"
"<insufficient privilege>","0.28128416129032247","43.599045","155"
"SELECT user_id, device_id, stream_id, opentracing_context FROM device_lists_outbound_pokes
            WHERE destination = $1 AND $2 < stream_id AND stream_id <= $3
            ORDER BY stream_id
            LIMIT $4","0.055865235521235554","43.407288","777"
"<insufficient privilege>","0.10526787104622871","43.26509500000001","411"
"SELECT value,active FROM hashes","8.6169546","43.084773","5"
"SELECT instance_name, stream_ordering
            FROM timeline_gaps
            WHERE room_id = $1 AND $2 < stream_ordering AND stream_ordering <= $3
            ORDER BY stream_ordering","0.07770233212341202","42.813984999999995","551"
"<insufficient privilege>","0.27359240645161287","42.406822999999996","155"
"<insufficient privilege>","0.27308092903225806","42.32754399999998","155"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7])
                ) AS b using (room_id)","2.6061364374999996","41.698183","16"
"<insufficient privilege>","0.26768489677419344","41.491158999999996","155"
"UPDATE syncv3_sync2_devices SET since = $1 WHERE user_id = $2 AND device_id = $3","0.2656433741935482","41.17472300000002","155"
"SELECT chain_id, MAX(sequence_number) FROM event_auth_chains
            WHERE chain_id = ANY(ARRAY[$1])
            GROUP BY chain_id","0.48732079518072335","40.447625999999985","83"
"INSERT INTO current_state_events
                        (room_id, type, state_key, event_id, membership, event_stream_ordering)
                    VALUES (
                        $1, $2, $3, $4,
                        (SELECT membership FROM room_memberships WHERE event_id = $5),
                        (SELECT stream_ordering FROM events WHERE event_id = $6)
                    )","0.473101988235294","40.213669","85"
"SELECT e.stream_ordering, e.event_id, e.room_id, e.type, se.state_key, redacts, relates_to_id, membership, rejections.reason IS NOT NULL, e.outlier FROM events AS e LEFT JOIN redactions USING (event_id) LEFT JOIN state_events AS se USING (event_id) LEFT JOIN event_relations USING (event_id) LEFT JOIN room_memberships USING (event_id) LEFT JOIN rejections USING (event_id) WHERE $1 < stream_ordering AND stream_ordering <= $2 AND instance_name = $3 ORDER BY stream_ordering ASC LIMIT $4","0.4675548352941178","39.742161","85"
"SELECT id FROM state_groups WHERE id = $1","0.46681538823529434","39.67930799999999","85"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21])","7.904424400000001","39.522122","5"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79])","39.121122","39.121122","1"
"SELECT nextval($1) FROM generate_series($2, $3)","0.059546918586789524","38.76504400000002","651"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3])","1.9242275499999997","38.484551","20"
"<insufficient privilege>","0.09332299512195133","38.26242799999998","410"
"UPDATE ""channels"" SET ""preferences"" = $1, ""updated_at"" = $2 WHERE ""channels"".""id"" = $3","0.23925441176470597","36.60592499999999","153"
"DELETE FROM worker_read_write_locks
                WHERE last_renewed_ts < $1","0.01836092435233162","35.43658400000001","1930"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])","11.788769333333335","35.366308000000004","3"
"SELECT ""users"".* FROM ""users"" WHERE ""users"".""id"" = $1 LIMIT $2","0.03709952335456474","34.94775099999996","942"
"UPDATE room_forgetter_stream_pos SET stream_id = $1","0.10017829597701146","34.86204700000001","348"
"COMMIT","0.0016845810118011199","34.83039699999999","20676"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1])","0.07736506561085973","34.19535900000001","442"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27])","11.393538333333332","34.180614999999996","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1])","0.036507830564784086","32.966571000000016","903"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5])","1.8055195555555554","32.499352","18"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'workspace_user' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""workspace_user"" ADD PRIMARY KEY (
          workspace_id, user_id, id);
        END IF;
        end $$","32.105237","32.105237","1"
"<insufficient privilege>","0.20657307741935482","32.01882700000001","155"
"<insufficient privilege>","0.20614765161290324","31.952885999999996","155"
"SELECT room_id FROM event_forward_extremities
                WHERE $1=$2
                GROUP BY room_id
                HAVING count(*) > $3
                ORDER BY count(*) DESC
                LIMIT $4","1.9957764374999998","31.932423","16"
"SELECT min_depth FROM room_depth WHERE room_id = $1","0.29643615887850466","31.718669","107"
"SELECT device_id, content FROM device_lists_remote_cache WHERE user_id = $1","3.1664735999999998","31.664735999999998","10"
"SELECT state_key, display_name, avatar_url FROM room_memberships as m
                INNER JOIN current_state_events as c
                ON m.event_id = c.event_id
                AND m.room_id = c.room_id
                AND m.user_id = c.state_key
                WHERE c.type = $1 AND c.room_id = $2 AND m.membership = $3 AND c.state_key = ANY(ARRAY[$4,$5])","15.695523","31.391046","2"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14])","7.626518749999999","30.506074999999996","4"
"SELECT coalesce(max(stream_id), $1) as stream_id
                FROM device_lists_outbound_last_success
                WHERE destination = $2 AND user_id = $3 AND stream_id <= $4","0.043485824712643666","30.266133999999994","696"
"SELECT COUNT(*) FROM (
                SELECT user_id FROM user_ips
                WHERE last_seen > $1
                GROUP BY user_id
            ) u","1.8793873749999996","30.070197999999998","16"
"SELECT COUNT(*) FROM current_state_events WHERE room_id = $1 AND membership = $2","0.3477773953488371","29.908856000000007","86"
"INSERT INTO cache_invalidation_stream_by_instance (stream_id, instance_name, cache_func, keys, invalidation_ts) VALUES($1, $2, $3, $4, $5)","7.375860999999999","29.503444","4"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9])
                ) AS b using (room_id)","3.262547888888889","29.362931","9"
"SELECT
                event.event_id, event.instance_name,
                event.topological_ordering, event.stream_ordering
            FROM events AS event
            
            WHERE event.outlier = $1 AND event.room_id = $2 AND (($3,$4) >= (event.topological_ordering,event.stream_ordering))
            ORDER BY event.topological_ordering DESC,
            event.stream_ordering DESC LIMIT $5","1.2963969545454546","28.520733","22"
"SELECT users.name as user_id,
                users.is_guest,
                users.shadow_banned,
                access_tokens.id as token_id,
                access_tokens.device_id,
                access_tokens.valid_until_ms,
                access_tokens.user_id as token_owner,
                access_tokens.used as token_used
            FROM users
            INNER JOIN access_tokens on users.name = COALESCE(puppets_user_id, access_tokens.user_id)
            WHERE token = $1","2.0302993571428574","28.424191","14"
"SELECT response_code, response_json FROM received_transactions WHERE transaction_id = $1 AND origin = $2","0.082074676300578","28.397838000000014","346"
"<insufficient privilege>","0.182199929032258","28.24098899999999","155"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4])","2.2911533333333334","27.49384","12"
"INSERT INTO device_lists_changes_in_room (user_id, device_id, room_id, stream_id, instance_name, converted_to_destinations, opentracing_context) VALUES ($1,$2,$3,$4,$5,$6,$7),($8,$9,$10,$11,$12,$13,$14),($15,$16,$17,$18,$19,$20,$21),($22,$23,$24,$25,$26,$27,$28),($29,$30,$31,$32,$33,$34,$35)","26.403075","26.403075","1"
"<insufficient privilege>","0.17003128387096786","26.35484900000001","155"
"<insufficient privilege>","0.168241064516129","26.077364999999993","155"
"<insufficient privilege>","0.1678000387096774","26.009006000000007","155"
"SELECT user_id FROM device_lists_remote_resync WHERE user_id = ANY(ARRAY[$1])","0.026067872983870997","25.859330000000025","992"
"UPDATE devices SET user_agent = $1, last_seen = $2, ip = $3 WHERE user_id = $4 AND device_id = $5","0.16148370624999997","25.837392999999988","160"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9)","0.09072980496453906","25.585805","282"
"INSERT INTO cache_invalidation_stream_by_instance (stream_id, instance_name, cache_func, keys, invalidation_ts) VALUES($1, $2, $3, ARRAY[$4,$5], $6)","0.302856481927711","25.137088000000013","83"
"DELETE FROM ""sessions"" WHERE ""sessions"".""id"" = $1","0.034710604166666645","24.991635000000013","720"
"INSERT INTO local_current_membership
                        (room_id, user_id, event_id, membership, event_stream_ordering)
                    VALUES (
                        $1, $2, $3,
                        (SELECT membership FROM room_memberships WHERE event_id = $4),
                        (SELECT stream_ordering FROM events WHERE event_id = $5)
                    )","0.4035376721311477","24.615798","61"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5))","0.39199188709677424","24.303497","62"
"<insufficient privilege>","0.15481183225806458","23.995833999999988","155"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29])","23.717188","23.717188","1"
"INSERT INTO local_media_repository_thumbnails (media_id, thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type, thumbnail_length) VALUES ($1, $2, $3, $4, $5, $6) ON CONFLICT (media_id, thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type) DO UPDATE SET thumbnail_length=EXCLUDED.thumbnail_length","0.910954923076923","23.684827999999996","26"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $2 AND state_key = $3)
                            ORDER BY type, state_key, state_group DESC
                        )
                         UNION 
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $4 AND state_key = $5)
                            ORDER BY type, state_key, state_group DESC
                        )
                         UNION 
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $6 AND state_key = $7)
                            ORDER BY type, state_key, state_group DESC
                        )
                         UNION 
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $8 AND state_key = $9)
                            ORDER BY type, state_key, state_group DESC
                        )","1.5655215999999998","23.482824","15"
"SELECT thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type, thumbnail_length FROM remote_media_cache_thumbnails WHERE media_origin = $1 AND media_id = $2","3.340255857142857","23.381790999999996","7"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24])","7.672057999999999","23.016174","3"
"SELECT stream_id FROM cache_invalidation_stream_by_instance
                ORDER BY stream_id ASC
                LIMIT $1","11.255825999999999","22.511651999999998","2"
"SELECT event_id, events.type, se.state_key, chain_id, sequence_number
                FROM events
                INNER JOIN state_events AS se USING (event_id)
                LEFT JOIN event_auth_chains USING (event_id)
                WHERE
            event_id = ANY(ARRAY[$1,$2,$3])","11.2167985","22.433597","2"
"<insufficient privilege>","0.005110225023126739","22.096613000000012","4324"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16])","4.337836","21.689180000000004","5"
"SELECT media_type, media_length, upload_name, created_ts, quarantined_by, url_cache, last_access_ts, safe_from_quarantine, user_id, authenticated FROM local_media_repository WHERE media_id = $1","0.9007747083333333","21.618592999999994","24"
"SELECT stream_id, messages_json FROM device_federation_outbox WHERE destination = $1 AND $2 < stream_id AND stream_id <= $3 ORDER BY stream_id ASC LIMIT $4","0.0307462011494253","21.399356000000004","696"
"SELECT user_id, device_id, d.display_name, k.key_json
                    FROM devices d
                    LEFT JOIN e2e_device_keys_json k USING (user_id, device_id)
                    WHERE (user_id,device_id) IN (VALUES ($1,$2)) AND NOT d.hidden","0.030664870689655174","21.34275","696"
"UPDATE ""schedulers"" SET ""last_run"" = $1, ""updated_at"" = $2 WHERE ""schedulers"".""id"" = $3","0.11506806010928963","21.057454999999997","183"
"DELETE FROM user_ips
            WHERE last_seen IN (
                SELECT last_seen FROM user_ips
                WHERE last_seen <= $1
                ORDER BY last_seen ASC
                LIMIT $2
            )","0.022534434735706578","20.889421000000002","927"
"SELECT count(*) FROM federation_inbound_events_staging","0.026864711688311702","20.685827999999997","770"
"UPDATE sliding_sync_joined_rooms
            SET
                event_stream_ordering = CASE
                    WHEN event_stream_ordering IS NULL OR event_stream_ordering < $1
                        THEN $2
                    ELSE event_stream_ordering
                END,
                bump_stamp = CASE
                    WHEN bump_stamp IS NULL OR bump_stamp < $3
                        THEN $4
                    ELSE bump_stamp
                END
            WHERE room_id = $5","0.2394646941176472","20.354499000000008","85"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54])","20.228278","20.228278","1"
"UPDATE ""delayed_jobs"" SET locked_at = $1, locked_by = $2 WHERE id IN (SELECT ""delayed_jobs"".""id"" FROM ""delayed_jobs"" WHERE (((run_at <= $3 AND (locked_at IS NULL OR locked_at < $4)) OR locked_by = $5) AND failed_at IS NULL) ORDER BY priority ASC, run_at ASC LIMIT $6 FOR UPDATE) RETURNING *","0.017479610726643575","20.20642999999999","1156"
"DELETE FROM login_tokens WHERE expiry_ts <= $1","6.692460333333334","20.077381","3"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","1.00146095","20.029218999999998","20"
"SELECT algorithm FROM e2e_fallback_keys_json WHERE user_id = $1 AND device_id = $2 AND used = $3","1.9929578","19.929578","10"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","4.97523075","19.900923","4"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15])","9.702365","19.40473","2"
"SELECT data from lmConfig WHERE cfgNum=$1","2.4033788749999996","19.227030999999997","8"
"WITH RECURSIVE state(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, state s
                    WHERE s.state_group = e.state_group
                )
                SELECT count(*) FROM state","0.22476056470588235","19.104648","85"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8])
                ) AS b using (room_id)","2.3021937500000003","18.41755","8"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5])
                        AND relation_type = $6
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","4.59394175","18.375767","4"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])","0.5713233125000001","18.282346","32"
"SELECT user_id, device_id, d.display_name, k.key_json
                    FROM e2e_device_keys_json k
                    INNER JOIN devices d USING (user_id, device_id)
                    WHERE user_id = ANY(ARRAY[$1]) AND NOT d.hidden","0.1181391623376624","18.193431","154"
"SELECT * FROM ""session"" 
            WHERE sid = $1  
            ORDER BY sid DESC 
            LIMIT $2 OFFSET $3","0.03604136144578316","17.94859799999999","498"
"SELECT stream_ordering FROM event_push_summary_stream_ordering","0.02041748342857141","17.865298000000006","875"
"SELECT event_id, instance_name, stream_ordering
                FROM events
                WHERE
                    room_id = $1
                    AND not outlier
                    AND ($2 >= stream_ordering) AND ($3 < stream_ordering)
                ORDER BY stream_ordering DESC LIMIT $4","0.07259873983739838","17.85929","246"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19])","0.7327962083333331","17.587108999999998","24"
"INSERT INTO room_stats_state (room_id) VALUES ($1) ON CONFLICT (room_id) DO NOTHING","0.2109292048192771","17.507124","83"
"SELECT
                event.event_id, event.instance_name,
                event.topological_ordering, event.stream_ordering
            FROM events AS event
            
            WHERE event.outlier = $1 AND event.room_id = $2 AND (($3,$4) < (event.topological_ordering,event.stream_ordering))
            ORDER BY event.topological_ordering ASC,
            event.stream_ordering ASC LIMIT $5","1.4550514166666664","17.460617","12"
"SELECT ""users"".* FROM ""users"" WHERE ""users"".""id"" IS NULL LIMIT $1","0.018821126213592262","17.447184000000014","927"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14])","2.895785666666667","17.374713999999997","6"
"INSERT INTO receipts_linearized (room_id, receipt_type, user_id, stream_id, instance_name, event_id, event_stream_ordering, data) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) ON CONFLICT (room_id, receipt_type, user_id) WHERE thread_id IS NULL DO UPDATE SET stream_id=EXCLUDED.stream_id, instance_name=EXCLUDED.instance_name, event_id=EXCLUDED.event_id, event_stream_ordering=EXCLUDED.event_stream_ordering, data=EXCLUDED.data","5.693072333333334","17.079217","3"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16])","2.8051628333333336","16.830977","6"
"SELECT filter_id FROM user_filters WHERE full_user_id = $1 AND filter_json = $2::bytea","2.7938696666666667","16.763218","6"
"SELECT room_id, e.sender, c.membership, event_id, e.instance_name, e.stream_ordering, r.room_version
            FROM local_current_membership AS c
            INNER JOIN events AS e USING (room_id, event_id)
            INNER JOIN rooms AS r USING (room_id)
            WHERE
                user_id = $1
                AND c.membership = ANY(ARRAY[$2])","0.2698203770491804","16.45904300000001","61"
"SELECT
                COUNT(CASE WHEN notif = $1 THEN $2 END),
                COUNT(CASE WHEN unread = $3 THEN $4 END),
                thread_id
            FROM event_push_actions
            LEFT JOIN (
                SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                FROM receipts_linearized
                WHERE
                    user_id = $5
                    AND room_id = $6
                    AND event_stream_ordering > $7
                    AND receipt_type = ANY(ARRAY[$8,$9])
                GROUP BY thread_id
            ) AS receipts USING (thread_id)
            WHERE user_id = $10
                AND room_id = $11
                AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $12)
                AND NOT thread_id = ANY($13)
            GROUP BY thread_id","0.04079153117206981","16.357403999999995","401"
"SELECT session_id FROM ui_auth_sessions WHERE creation_time <= $1","0.9847324375000001","15.755719000000001","16"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25])","15.550257","15.550257","1"
"INSERT INTO sliding_sync_membership_snapshots
                    (room_id, user_id, sender, membership_event_id, membership, forgotten, event_stream_ordering, event_instance_name
                    ,room_type, room_name, has_known_state)
                VALUES (
                    $1, $2, $3, $4, $5, $6,
                    (SELECT stream_ordering FROM events WHERE event_id = $7),
                    (SELECT COALESCE(instance_name, $8) FROM events WHERE event_id = $9)
                    ,$10, $11, $12
                )
                ON CONFLICT (room_id, user_id)
                DO UPDATE SET
                    sender = EXCLUDED.sender,
                    membership_event_id = EXCLUDED.membership_event_id,
                    membership = EXCLUDED.membership,
                    forgotten = EXCLUDED.forgotten,
                    event_stream_ordering = EXCLUDED.event_stream_ordering
                    ,room_type = EXCLUDED.room_type, room_name = EXCLUDED.room_name, has_known_state = EXCLUDED.has_known_state","0.725490619047619","15.235302999999998","21"
"SELECT state_key FROM current_state_events
            WHERE
                type = $1
                AND membership = $2
                AND state_key = ANY(ARRAY[$3])
            GROUP BY state_key","0.16611782222222218","14.950604000000002","90"
"SELECT MAX(stream_ordering) FROM events","0.18248998750000003","14.599198999999995","80"
"INSERT INTO event_forward_extremities (event_id, room_id) VALUES ($1,$2)","0.1710241647058823","14.537053999999998","85"
"SELECT completed_delta_stream_id FROM room_stats_current WHERE room_id = $1","0.20189286111111115","14.536286000000002","72"
"SELECT event_id FROM local_current_membership WHERE room_id = $1 AND user_id = $2","0.059392289256198355","14.372934000000004","242"
"INSERT INTO event_to_state_groups (event_id, state_group) VALUES ($1,$2) ON CONFLICT (event_id) DO UPDATE SET state_group=EXCLUDED.state_group","0.1687138705882354","14.340679000000002","85"
"SELECT oid, * FROM pg_catalog.pg_type WHERE typname IN ($1,$2,$3)","0.34193302500000006","13.677321","40"
"SELECT * FROM ""drive_files"" 
            WHERE parent_id = $1 AND company_id = $2  
            ORDER BY id DESC 
            LIMIT $3 OFFSET $4","0.07113885937499997","13.658660999999995","192"
"<insufficient privilege>","0.016427556097560986","13.470596000000011","820"
"INSERT INTO event_auth_chains (event_id, chain_id, sequence_number) VALUES ($1,$2,$3)","0.15653674117647065","13.305622999999997","85"
"SELECT count(*), membership FROM current_state_events
            WHERE type = $1 AND room_id = $2
                AND membership IS NOT NULL
            GROUP BY membership","0.06831067525773198","13.252270999999986","194"
"SELECT ""channels"".* FROM ""channels"" WHERE (active = $1 AND area LIKE $2)","0.08492665359477126","12.993778000000006","153"
"SELECT DISTINCT room_id FROM federation_inbound_events_staging","0.0418103580645161","12.961211000000006","310"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","3.2100219999999995","12.840088","4"
"SELECT media_type, media_length, upload_name, created_ts, filesystem_id, last_access_ts, quarantined_by, authenticated FROM remote_media_cache WHERE media_origin = $1 AND media_id = $2","1.825192","12.776343999999998","7"
"SELECT min(received_ts) FROM federation_inbound_events_staging","0.01621365324675327","12.484513000000012","770"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19])","6.2076745","12.415349","2"
"UPDATE event_push_summary_last_receipt_stream_id SET stream_id = $1","0.08018755844155841","12.348884000000002","154"
"<insufficient privilege>","0.030098024390243918","12.340189999999994","410"
"SELECT * FROM ""group_user"" 
            WHERE group_id = $1 AND user_id = $2  
            ORDER BY group_id DESC,id DESC 
            LIMIT $3 OFFSET $4","0.026261758099352047","12.159193999999994","463"
"INSERT INTO event_json (event_id, room_id, internal_metadata, json, format_version) VALUES ($1,$2,$3,$4,$5)","0.14195683529411773","12.066331","85"
"SELECT stream_id, user_id, state, last_active_ts,
                    last_federation_update_ts, last_user_sync_ts,
                    status_msg, currently_active
                FROM presence_stream
                WHERE $1 < stream_id AND stream_id <= $2
                ORDER BY stream_id ASC
                LIMIT $3","0.030917795865633087","11.965187000000007","387"
"SELECT * FROM scheduled_tasks WHERE status = ANY(ARRAY[$1,$2]) AND timestamp <= $3 ORDER BY timestamp","0.15529190909090906","11.957477000000004","77"
"INSERT INTO user_ips (user_id, access_token, ip, user_agent, device_id, last_seen) VALUES ($1,$2,$3,$4,$5,$6),($7,$8,$9,$10,$11,$12) ON CONFLICT (user_id, access_token, ip) DO UPDATE SET user_agent=EXCLUDED.user_agent, device_id=EXCLUDED.device_id, last_seen=EXCLUDED.last_seen","0.6920457647058824","11.764778000000002","17"
"INSERT INTO sliding_sync_membership_snapshots
                    (room_id, user_id, sender, membership_event_id, membership, forgotten, event_stream_ordering, event_instance_name
                    ,room_type, has_known_state)
                VALUES (
                    $1, $2, $3, $4, $5, $6,
                    (SELECT stream_ordering FROM events WHERE event_id = $7),
                    (SELECT COALESCE(instance_name, $8) FROM events WHERE event_id = $9)
                    ,$10, $11
                )
                ON CONFLICT (room_id, user_id)
                DO UPDATE SET
                    sender = EXCLUDED.sender,
                    membership_event_id = EXCLUDED.membership_event_id,
                    membership = EXCLUDED.membership,
                    forgotten = EXCLUDED.forgotten,
                    event_stream_ordering = EXCLUDED.event_stream_ordering
                    ,room_type = EXCLUDED.room_type, has_known_state = EXCLUDED.has_known_state","0.4898471666666669","11.756332000000002","24"
"UPDATE event_push_summary_stream_ordering SET stream_ordering = $1","0.07580230519480527","11.67355500000001","154"
"SELECT state_key, membership, event_id
                FROM current_state_events
                WHERE type = $1 AND room_id = $2
                    AND membership IS NOT NULL
                ORDER BY
                    CASE membership WHEN $3 THEN $4 WHEN $5 THEN $6 WHEN $7 THEN $8 ELSE $9 END ASC,
                    event_stream_ordering ASC
                LIMIT $10","0.05934734020618558","11.513384","194"
"SELECT max(cfgNum) from lmConfig","1.424141125","11.393128999999998","8"
"SELECT ""users"".* FROM ""users"" INNER JOIN ""roles_users"" ON ""roles_users"".""user_id"" = ""users"".""id"" INNER JOIN ""roles"" ON ""roles"".""id"" = ""roles_users"".""role_id"" INNER JOIN ""permissions_roles"" ON ""permissions_roles"".""role_id"" = ""roles"".""id"" INNER JOIN ""permissions"" ON ""permissions"".""id"" = ""permissions_roles"".""permission_id"" INNER JOIN ""groups_users"" ON ""groups_users"".""user_id"" = ""users"".""id"" WHERE ""roles"".""active"" = $1 AND ""permissions"".""name"" IN ($2, $3) AND ""permissions"".""active"" = $4 AND ""groups_users"".""group_id"" = $5 AND ""groups_users"".""access"" = $6 AND ""users"".""active"" = $7","0.7592186666666667","11.38828","15"
"SELECT event_id FROM partial_state_events WHERE event_id = ANY(ARRAY[$1])","0.022533966067864276","11.289517000000005","501"
"SELECT room_id, tag, content FROM room_tags WHERE user_id = $1","1.870099","11.220594","6"
"SELECT filter_json FROM user_filters WHERE full_user_id = $1 AND filter_id = $2","0.910128","10.921536000000001","12"
"INSERT INTO device_lists_remote_cache (user_id, device_id, content) VALUES ($1, $2, $3) ON CONFLICT (user_id, device_id) DO UPDATE SET content=EXCLUDED.content","10.851552","10.851552","1"
"SELECT MAX(stream_id) FROM (
                    SELECT stream_id FROM device_inbox
                    WHERE user_id = $1 AND device_id = $2
                        AND $3 < stream_id AND stream_id <= $4
                    ORDER BY stream_id
                    LIMIT $5
                ) AS d","0.30972788571428567","10.840476000000004","35"
"SELECT room_id FROM sliding_sync_joined_rooms WHERE room_id = $1","0.12482285882352943","10.609943000000003","85"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1])","0.045631956709956685","10.540982","231"
"SET LOCAL enable_seqscan=off","0.007192934311670167","10.293088999999991","1431"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12])","10.22669","10.22669","1"
"SELECT membership, event_id FROM local_current_membership WHERE room_id = $1 AND user_id = $2","0.1140426067415731","10.149791999999998","89"
"INSERT INTO local_media_repository (media_id, media_type, created_ts, upload_name, media_length, user_id, url_cache, authenticated) VALUES($1, $2, $3, $4, $5, $6, $7, $8)","3.3663523333333334","10.099056999999998","3"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85])","10.016138000000002","10.016138000000002","1"
"SELECT room_id, (
                    SELECT count(*) FROM room_memberships
                    WHERE room_id = m.room_id AND user_id = m.user_id AND forgotten = $1
                ) AS count
                FROM room_memberships AS m
                WHERE user_id = $2 AND forgotten = $3
                GROUP BY room_id, user_id","1.628762","9.772572","6"
"SELECT 
           table_name, 
           column_name, 
           data_type 
        FROM 
           information_schema.columns
        WHERE 
           table_name = $1","0.4762377000000001","9.524754000000001","20"
"INSERT INTO user_directory_stale_remote_users (user_id, next_try_at_ts, retry_counter, user_server_name) VALUES ($1, $2, $3, $4) ON CONFLICT (user_id) DO UPDATE SET next_try_at_ts=EXCLUDED.next_try_at_ts, retry_counter=EXCLUDED.retry_counter, user_server_name=EXCLUDED.user_server_name","0.42457481818181814","9.340646","22"
"SELECT stream_id, count(*)
                FROM current_state_delta_stream
                WHERE stream_id > $1 AND stream_id <= $2
                GROUP BY stream_id
                ORDER BY stream_id ASC
                LIMIT $3","0.027295870588235308","9.280595999999996","340"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50])","9.279128","9.279128","1"
"INSERT INTO sliding_sync_membership_snapshots
                    (room_id, user_id, sender, membership_event_id, membership, forgotten, event_stream_ordering, event_instance_name
                    ,room_name, room_type, is_encrypted, has_known_state)
                VALUES (
                    $1, $2, $3, $4, $5, $6,
                    (SELECT stream_ordering FROM events WHERE event_id = $7),
                    (SELECT COALESCE(instance_name, $8) FROM events WHERE event_id = $9)
                    ,$10, $11, $12, $13
                )
                ON CONFLICT (room_id, user_id)
                DO UPDATE SET
                    sender = EXCLUDED.sender,
                    membership_event_id = EXCLUDED.membership_event_id,
                    membership = EXCLUDED.membership,
                    forgotten = EXCLUDED.forgotten,
                    event_stream_ordering = EXCLUDED.event_stream_ordering
                    ,room_name = EXCLUDED.room_name, room_type = EXCLUDED.room_type, is_encrypted = EXCLUDED.is_encrypted, has_known_state = EXCLUDED.has_known_state","4.6217595","9.243519","2"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])","1.5257648333333331","9.154589","6"
"DELETE FROM event_push_actions_staging WHERE event_id IN (
                SELECT event_id FROM event_push_actions_staging WHERE
                inserted_ts < $1 OR inserted_ts IS NULL
                LIMIT $2
            )","2.977804","8.933412","3"
"SELECT redactions.event_id, redacts FROM redactions
            LEFT JOIN events AS original_event ON (
                redacts = original_event.event_id
            )
            WHERE NOT have_censored
            AND redactions.received_ts <= $1
            ORDER BY redactions.received_ts ASC
            LIMIT $2","0.5537525625","8.860041","16"
"SELECT slot_name, database, active, pg_wal_lsn_diff(pg_current_wal_lsn(), restart_lsn)
			FROM pg_replication_slots","0.05644283870967742","8.748639999999998","155"
"SELECT $5 AS one FROM ""mentions"" WHERE ""mentions"".""mentionable_id"" = $1 AND ""mentions"".""mentionable_type"" = $2 AND ""mentions"".""user_id"" = $3 LIMIT $4","0.014529395000000014","8.717636999999998","600"
"SELECT stream_id, user_id, account_data_type FROM account_data WHERE $1 < stream_id AND stream_id <= $2 ORDER BY stream_id ASC LIMIT $3","8.682542","8.682542","1"
"SELECT m.event_id, instance_name, topological_ordering, stream_ordering
                FROM events AS e, room_memberships AS m
                WHERE e.event_id = m.event_id
                    AND m.user_id = $1
                    AND e.stream_ordering > $2 AND e.stream_ordering <= $3
                    
                ORDER BY e.stream_ordering ASC","0.09295076086956516","8.55147","92"
"SELECT stream_ordering FROM events WHERE event_id = $1","0.03463093801652891","8.380686999999998","242"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7))","0.05756113103448275","8.346363999999998","145"
"INSERT INTO state_group_edges (state_group, prev_state_group) VALUES($1, $2)","0.09697981176470591","8.243284000000004","85"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])
                        AND relation_type = $8
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.5046588124999999","8.074541","16"
"INSERT INTO state_groups_state (state_group, room_id, type, state_key, event_id) VALUES ($1,$2,$3,$4,$5)","0.09495847058823531","8.07147","85"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])
                        AND relation_type = $7
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","1.9384125","7.75365","4"
"SELECT user_id, key_id, target_device_id, signature
            FROM e2e_cross_signing_signatures WHERE (target_user_id = $1 AND target_device_id = $2 AND user_id = $3) OR (target_user_id = $4 AND target_device_id = $5 AND user_id = $6)","0.050326559210526284","7.649637000000001","152"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13])","0.31796966666666676","7.631272","24"
"SELECT stream_id, room_id, type, state_key, event_id, prev_event_id
                FROM current_state_delta_stream
                WHERE $1 < stream_id AND stream_id <= $2
                ORDER BY stream_id ASC","0.02238220000000002","7.609948000000002","340"
"UPDATE delayed_events_stream_pos SET stream_id = $1","0.08894011764705881","7.559910000000002","85"
"SELECT ""schedulers"".* FROM ""schedulers"" WHERE ""schedulers"".""id"" = $1 LIMIT $2","0.04109702732240438","7.520755999999999","183"
"INSERT INTO room_stats_state (room_id, avatar) VALUES ($1, $2) ON CONFLICT (room_id) DO UPDATE SET avatar=EXCLUDED.avatar","3.746331","7.492662","2"
"INSERT INTO user_directory (user_id, display_name, avatar_url) VALUES ($1,$2,$3) ON CONFLICT (user_id) DO UPDATE SET display_name=EXCLUDED.display_name, avatar_url=EXCLUDED.avatar_url","3.7170715000000003","7.434143000000001","2"
"<insufficient privilege>","0.015894230107526885","7.390817000000002","465"
"INSERT INTO receipts_graph (room_id, receipt_type, user_id, event_ids, data) VALUES ($1, $2, $3, $4, $5) ON CONFLICT (room_id, receipt_type, user_id) WHERE thread_id IS NULL DO UPDATE SET event_ids=EXCLUDED.event_ids, data=EXCLUDED.data","2.451187333333333","7.353561999999999","3"
"UPDATE user_directory_stream_pos SET stream_id = $1","0.08566651764705885","7.281654000000003","85"
"<insufficient privilege>","0.045624924050632905","7.208738000000002","158"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18)","0.13774815686274508","7.025156000000002","51"
"SELECT room_id, account_data_type, content FROM room_account_data
                WHERE user_id = $1","1.1575868333333335","6.945521","6"
"SELECT * FROM ""user"" 
            WHERE id = $1  
             
            LIMIT $2 OFFSET $3","0.0364723492063492","6.893274000000004","189"
"INSERT INTO room_stats_current (room_id, completed_delta_stream_id, current_state_events, joined_members, invited_members, knocked_members, left_members, banned_members, local_users_in_room)
            VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)
            ON CONFLICT (room_id) DO UPDATE SET completed_delta_stream_id = EXCLUDED.completed_delta_stream_id, current_state_events = EXCLUDED.current_state_events + COALESCE(room_stats_current.current_state_events, $10), joined_members = EXCLUDED.joined_members + COALESCE(room_stats_current.joined_members, $11), invited_members = EXCLUDED.invited_members + COALESCE(room_stats_current.invited_members, $12), knocked_members = EXCLUDED.knocked_members + COALESCE(room_stats_current.knocked_members, $13), left_members = EXCLUDED.left_members + COALESCE(room_stats_current.left_members, $14), banned_members = EXCLUDED.banned_members + COALESCE(room_stats_current.banned_members, $15), local_users_in_room = EXCLUDED.local_users_in_room + COALESCE(room_stats_current.local_users_in_room, $16)","0.08081271764705882","6.869081","85"
"SELECT state_key FROM current_state_events
            WHERE membership = $1
                AND type = $2
                AND room_id = $3
                AND state_key LIKE $4
            LIMIT $5","0.2956714347826087","6.8004430000000005","23"
"<insufficient privilege>","0.042569929032258064","6.598338999999999","155"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3])
                        AND relation_type = $4
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","1.0945453333333335","6.567272","6"
"SELECT displayname FROM profiles WHERE full_user_id = $1","0.08786086486486491","6.5017040000000055","74"
"INSERT INTO sliding_sync_membership_snapshots
                    (room_id, user_id, sender, membership_event_id, membership, forgotten, event_stream_ordering, event_instance_name
                    ,room_name, room_type, has_known_state)
                VALUES (
                    $1, $2, $3, $4, $5, $6,
                    (SELECT stream_ordering FROM events WHERE event_id = $7),
                    (SELECT COALESCE(instance_name, $8) FROM events WHERE event_id = $9)
                    ,$10, $11, $12
                )
                ON CONFLICT (room_id, user_id)
                DO UPDATE SET
                    sender = EXCLUDED.sender,
                    membership_event_id = EXCLUDED.membership_event_id,
                    membership = EXCLUDED.membership,
                    forgotten = EXCLUDED.forgotten,
                    event_stream_ordering = EXCLUDED.event_stream_ordering
                    ,room_name = EXCLUDED.room_name, room_type = EXCLUDED.room_type, has_known_state = EXCLUDED.has_known_state","0.6493650000000001","6.49365","10"
"<insufficient privilege>","0.01385584086021506","6.442966000000008","465"
"SELECT stream_ordering FROM event_push_actions
                WHERE stream_ordering <= $1 AND highlight = $2
                ORDER BY stream_ordering ASC LIMIT $3 OFFSET $4","0.04141888311688311","6.378508000000002","154"
"SELECT account_data_type, content FROM account_data
                WHERE user_id = $1","1.0589290000000002","6.353574","6"
"SELECT name FROM users","1.2685902","6.342951","5"
"INSERT INTO event_auth (event_id, room_id, auth_id) VALUES ($1,$2,$3),($4,$5,$6),($7,$8,$9)","3.1327065000000003","6.265413000000001","2"
"UPDATE stats_incremental_position SET stream_id = $1","0.07352898823529413","6.249963999999999","85"
"SELECT state_key FROM current_state_events
            WHERE
                type = $1
                AND membership = $2
                AND state_key = ANY(ARRAY[$3,$4])
            GROUP BY state_key","0.6173684","6.173684","10"
"SELECT e.event_id FROM event_forward_extremities AS f
            INNER JOIN events AS e USING (event_id)
            WHERE f.room_id = $1
            ORDER BY e.depth DESC
            LIMIT $2","0.09544893650793651","6.013283","63"
"INSERT INTO destination_rooms (destination, room_id, stream_ordering) VALUES ($1,$2,$3) ON CONFLICT (destination, room_id) DO UPDATE SET stream_ordering=EXCLUDED.stream_ordering","0.3533248823529412","6.0065230000000005","17"
"SELECT event_id, membership FROM current_state_events WHERE room_id = $1","0.0953374516129032","5.910921999999999","62"
"SELECT user_id, room_id, thread_id,
                coalesce(old.unread_count, $1) + upd.cnt,
                upd.stream_ordering
            FROM (
                SELECT user_id, room_id, thread_id, count(*) as cnt,
                    max(ea.stream_ordering) as stream_ordering
                FROM event_push_actions AS ea
                LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)
                WHERE $2 < ea.stream_ordering AND ea.stream_ordering <= $3
                    AND (
                        old.last_receipt_stream_ordering IS NULL
                        OR old.last_receipt_stream_ordering < ea.stream_ordering
                    )
                    AND unread = $4
                GROUP BY user_id, room_id, thread_id
            ) AS upd
            LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)","0.03819563636363638","5.882128","154"
"BEGIN ISOLATION LEVEL READ COMMITTED","0.015068656410256412","5.876776","390"
"SELECT ""sessions"".* FROM ""sessions"" ORDER BY ""sessions"".""updated_at"" DESC LIMIT $1","5.858921","5.858921","1"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2,$3])","0.09714878333333335","5.828927","60"
"INSERT INTO cache_invalidation_stream_by_instance (stream_id, instance_name, cache_func, keys, invalidation_ts) VALUES($1, $2, $3, ARRAY[$4], $5)","2.9107445000000003","5.821489000000001","2"
"INSERT INTO remote_media_cache_thumbnails (media_origin, media_id, thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type, filesystem_id, thumbnail_length) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) ON CONFLICT (media_origin, media_id, thumbnail_width, thumbnail_height, thumbnail_method, thumbnail_type) DO UPDATE SET thumbnail_length=EXCLUDED.thumbnail_length","0.8210274285714285","5.747192","7"
"insert into event_dead_letters (
  insertion_id,
  ""group"",
  event
)
values (
  cast($1 as uuid), 
  $2, 
  $3
)","5.679767","5.679767","1"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])
                AND relation_type = $12
            ORDER BY ref.topological_ordering, ref.stream_ordering","1.4189610000000001","5.6758440000000006","4"
"WITH ranked_snapshots AS (
		SELECT
		  snapshot_id,
		  room_id,
		  ROW_NUMBER() OVER (PARTITION BY room_id ORDER BY snapshot_id DESC) AS row_num
		FROM
		  syncv3_snapshots
	  )
	  DELETE FROM syncv3_snapshots USING ranked_snapshots
	  WHERE syncv3_snapshots.snapshot_id = ranked_snapshots.snapshot_id
	  AND ranked_snapshots.row_num > $1","5.643903","5.643903","1"
"<insufficient privilege>","0.0353923935483871","5.485820999999998","155"
"SELECT stream_id FROM federation_stream_position WHERE type = $1 AND instance_name = $2","0.03177891764705883","5.4024160000000006","170"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])","0.334601375","5.353622","16"
"SELECT $3 AS one FROM ""channels"" WHERE ""channels"".""id"" = $1 LIMIT $2","0.03457386274509803","5.289800999999999","153"
"SELECT stream_id FROM event_push_summary_last_receipt_stream_id","0.03405682467532467","5.244751000000001","154"
"select *
from mail_repository_url","0.03389301315789473","5.151737999999999","152"
"SELECT stream_id FROM account_data
                WHERE user_id = $1 AND account_data_type = $2
                ORDER BY stream_id DESC
                LIMIT $3","0.3666877857142857","5.133628999999999","14"
"<insufficient privilege>","0.03307472903225806","5.126583000000002","155"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])","0.15509184848484847","5.118031","33"
"SELECT ""email_addresses"".* FROM ""email_addresses""","0.03310966666666664","5.065779","153"
"UPDATE federation_stream_position SET stream_id = $1 WHERE type = $2 AND instance_name = $3","0.0595231529411765","5.059468000000002","85"
"SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype
FROM pg_type as t
LEFT JOIN pg_range as r ON oid = rngtypid
WHERE
  t.typelem IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46, $47, $48)","0.630057875","5.040463","8"
"INSERT INTO federation_inbound_events_staging (origin, event_id, room_id, received_ts, event_json, internal_metadata) VALUES ($1, $2, $3, $4, $5, $6) ON CONFLICT (origin, event_id) DO NOTHING","0.22714340909090908","4.9971549999999985","22"
"UPDATE ""schedulers"" SET ""last_run"" = $1, ""pid"" = $2, ""updated_at"" = $3 WHERE ""schedulers"".""id"" = $4","0.13279543243243236","4.913430999999999","37"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","0.14425417647058825","4.904641999999999","34"
"INSERT INTO user_directory_search(user_id, vector)
                    VALUES 
                (
                    $1,
                    setweight(to_tsvector($2, $3), $4)
                    || setweight(to_tsvector($5, $6), $7)
                    || setweight(to_tsvector($8, COALESCE($9, $10)), $11)
                )
             ON CONFLICT (user_id) DO UPDATE SET vector=EXCLUDED.vector","2.45001","4.90002","2"
"INSERT INTO sliding_sync_membership_snapshots
                    (room_id, user_id, sender, membership_event_id, membership, forgotten, event_stream_ordering, event_instance_name
                    ,is_encrypted, room_type, has_known_state)
                VALUES (
                    $1, $2, $3, $4, $5, $6,
                    (SELECT stream_ordering FROM events WHERE event_id = $7),
                    (SELECT COALESCE(instance_name, $8) FROM events WHERE event_id = $9)
                    ,$10, $11, $12
                )
                ON CONFLICT (room_id, user_id)
                DO UPDATE SET
                    sender = EXCLUDED.sender,
                    membership_event_id = EXCLUDED.membership_event_id,
                    membership = EXCLUDED.membership,
                    forgotten = EXCLUDED.forgotten,
                    event_stream_ordering = EXCLUDED.event_stream_ordering
                    ,is_encrypted = EXCLUDED.is_encrypted, room_type = EXCLUDED.room_type, has_known_state = EXCLUDED.has_known_state","2.44985","4.8997","2"
"UPDATE access_tokens SET used = $1 WHERE id = $2","0.3419477857142857","4.787269000000001","14"
"SELECT event_id FROM events WHERE event_id = ANY(ARRAY[$1]) AND outlier = $2","0.0444091121495327","4.751775000000001","107"
"SELECT room_version FROM rooms WHERE room_id = $1 FOR SHARE","0.05576005882352942","4.739605","85"
"SELECT * FROM scheduled_tasks WHERE status = ANY(ARRAY[$1]) ORDER BY timestamp LIMIT $2","0.06151937662337659","4.736992","77"
"select exists (
  select $1 as ""one""
  from event_dead_letters
)","0.031142493421052648","4.733659","152"
"<insufficient privilege>","0.06093985526315789","4.631429000000001","76"
"SELECT user_id, room_id, thread_id,
                coalesce(old.notif_count, $1) + upd.cnt,
                upd.stream_ordering
            FROM (
                SELECT user_id, room_id, thread_id, count(*) as cnt,
                    max(ea.stream_ordering) as stream_ordering
                FROM event_push_actions AS ea
                LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)
                WHERE $2 < ea.stream_ordering AND ea.stream_ordering <= $3
                    AND (
                        old.last_receipt_stream_ordering IS NULL
                        OR old.last_receipt_stream_ordering < ea.stream_ordering
                    )
                    AND notif = $4
                GROUP BY user_id, room_id, thread_id
            ) AS upd
            LEFT JOIN event_push_summary AS old USING (user_id, room_id, thread_id)","0.029913344155844155","4.606654999999996","154"
"SELECT type, state_key, event_id FROM current_state_events
                WHERE room_id = $1
             AND ((type = $2 AND state_key = $3) OR (type = $4 AND state_key = $5) OR (type = $6 AND state_key = $7) OR (type = $8 AND state_key = $9))","0.07502991803278689","4.5768249999999995","61"
"BEGIN","0.002209722383720935","4.560866999999995","2064"
"INSERT INTO worker_locks (lock_name, lock_key, instance_name, token, last_renewed_ts)
               VALUES ($1, $2, $3, $4, $5)
               ON CONFLICT (lock_name, lock_key)
               DO UPDATE
                   SET
                       token = EXCLUDED.token,
                       instance_name = EXCLUDED.instance_name,
                       last_renewed_ts = EXCLUDED.last_renewed_ts
                   WHERE
                       worker_locks.last_renewed_ts < $6
                       OR worker_locks.instance_name = EXCLUDED.instance_name","0.20558063636363635","4.522774","22"
"INSERT INTO ""session"" (company_id, sub, sid)
              VALUES ($1, $2, $3)","2.260101","4.520202","2"
"CREATE TABLE IF NOT EXISTS ""workspace_user""
          (
            workspace_id UUID,
user_id UUID,
id UUID,
role TEXT,
date_added BIGINT,
last_access BIGINT
          )","4.498398","4.498398","1"
"<insufficient privilege>","0.009437187096774187","4.388292000000001","465"
"SELECT user_id FROM device_lists_remote_resync","0.028278181818181806","4.35484","154"
"SELECT
                id, user_name, access_token, profile_tag, kind, app_id,
                app_display_name, device_display_name, pushkey, ts, lang, data,
                last_stream_ordering, last_success, failing_since,
                COALESCE(enabled, $1) AS enabled, device_id
            FROM pushers
            WHERE user_name = $2","4.333024","4.333024","1"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])
                        AND relation_type = $9
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","1.0737785000000002","4.295114","4"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])","1.4062186666666667","4.218656","3"
"SELECT t.oid, t.typname
FROM pg_type as t
WHERE t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)","0.5265735","4.212588","8"
"<insufficient privilege>","0.027086019354838703","4.198332999999997","155"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])","0.6974273333333332","4.184564","6"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])","0.5190925000000001","4.1527400000000005","8"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2])","0.02254479234972678","4.125697000000001","183"
"delete from OFFLINE_CLIENT_SESSION where USER_SESSION_ID in (select puse1_0.USER_SESSION_ID from OFFLINE_USER_SESSION puse1_0 where puse1_0.REALM_ID=$1 and puse1_0.OFFLINE_FLAG=$2 and puse1_0.LAST_SESSION_REFRESH<$3)","0.4050127","4.050127","10"
"WITH RECURSIVE sgs(state_group) AS (
                    VALUES($1::bigint)
                    UNION ALL
                    SELECT prev_state_group FROM state_group_edges e, sgs s
                    WHERE s.state_group = e.state_group
                )
                
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $2 AND state_key = $3)
                            ORDER BY type, state_key, state_group DESC
                        )
                         UNION 
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $4 AND state_key = $5)
                            ORDER BY type, state_key, state_group DESC
                        )
                         UNION 
                        (
                            SELECT DISTINCT ON (type, state_key)
                                type, state_key, event_id
                            FROM state_groups_state
                            INNER JOIN sgs USING (state_group)
                            WHERE (type = $6 AND state_key = $7)
                            ORDER BY type, state_key, state_group DESC
                        )","0.7838004000000001","3.9190020000000003","5"
"SELECT prev_state_group FROM state_group_edges WHERE state_group = $1","0.04537136470588233","3.8565660000000013","85"
"COMMIT","0.0018626569767441886","3.844523999999999","2064"
"SELECT stream_id FROM device_lists_remote_extremeties WHERE user_id = $1","3.841922","3.841922","1"
"SELECT * FROM ""drive_files"" 
            WHERE company_id = $1 AND id = $2  
            ORDER BY id DESC 
            LIMIT $3 OFFSET $4","0.03279238461538461","3.8367090000000026","117"
"<insufficient privilege>","0.02469068387096774","3.827056","155"
"INSERT INTO ""drive_files"" (company_id, id, parent_id, is_in_trash, is_directory, name, extension, description, tags, added, last_modified, access_info, content_keywords, creator, size, scope, av_status)
              VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17)","3.812134","3.812134","1"
"INSERT INTO device_lists_stream (instance_name, stream_id, user_id, device_id) VALUES ($1,$2,$3,$4)","3.774301","3.774301","1"
"SELECT rule_id, enabled FROM push_rules_enable WHERE user_name = $1","0.6245643333333333","3.747386","6"
"SELECT stream_id, cache_func, keys, invalidation_ts
                FROM cache_invalidation_stream_by_instance
                WHERE stream_id > $1 AND instance_name = $2
                ORDER BY stream_id ASC
                LIMIT $3","0.04174538202247192","3.7153389999999993","89"
"SELECT key, pg_catalog.set_config(key, val, $1) as val
            FROM (VALUES ($2, ($3)::text),($4, ($5)::text)) as v(key, val)","0.0479414025974026","3.6914880000000014","77"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15])","1.8292425","3.658485","2"
"SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype
FROM pg_type as t
LEFT JOIN pg_range as r ON oid = rngtypid
WHERE
  t.typtype IN ($1, $2, $3)","0.45716724999999997","3.657338","8"
"DELETE FROM device_lists_stream
            WHERE user_id = $1 AND stream_id < $2 AND device_id = ANY(ARRAY[$3])","3.5881160000000003","3.5881160000000003","1"
"SELECT out.event_stream_ordering, e.event_id, e.room_id, e.type, se.state_key, redacts, relates_to_id, membership, rejections.reason IS NOT NULL, e.outlier FROM events AS e INNER JOIN ex_outlier_stream AS out USING (event_id) LEFT JOIN redactions USING (event_id) LEFT JOIN state_events AS se USING (event_id) LEFT JOIN event_relations USING (event_id) LEFT JOIN room_memberships USING (event_id) LEFT JOIN rejections USING (event_id) WHERE $1 < out.event_stream_ordering AND out.event_stream_ordering <= $2 AND out.instance_name = $3 ORDER BY out.event_stream_ordering ASC","0.04211437647058822","3.5797219999999976","85"
"SELECT e.stream_ordering, e.event_id, e.received_ts FROM events AS e WHERE $1 < e.stream_ordering AND e.stream_ordering <= $2 ORDER BY e.stream_ordering ASC LIMIT $3","0.020939882352941166","3.5597800000000004","170"
"SELECT event_id FROM event_forward_extremities WHERE room_id = $1","0.03823903225806453","3.5562300000000002","93"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50])","3.550725","3.550725","1"
"SELECT event_id, outlier FROM events WHERE event_id = ANY(ARRAY[$1])","0.040961105882352924","3.4816939999999983","85"
"DELETE FROM event_forward_extremities WHERE room_id = $1","0.039911694117647056","3.3924940000000006","85"
"INSERT INTO syncv3_device_list_updates(user_id, device_id, target_user_id, target_state, bucket)
						VALUES($1, $2, $3, $4, $5)
						ON CONFLICT (user_id, device_id, target_user_id, bucket) DO UPDATE SET target_state = EXCLUDED.target_state","3.3068519999999997","3.3068519999999997","1"
"SELECT rule_id, priority_class, priority, conditions, actions FROM push_rules WHERE user_name = $1","0.5477013333333334","3.286208","6"
"<insufficient privilege>","0.021016445161290326","3.257549000000001","155"
"<insufficient privilege>","0.021004445161290335","3.2556889999999976","155"
"DELETE FROM local_current_membership WHERE room_id = $1 AND user_id = $2","0.05325054098360655","3.2482830000000007","61"
"DELETE FROM current_state_events WHERE room_id = $1 AND type = $2 AND state_key = $3","0.038125035294117655","3.240628","85"
"SELECT  e.event_id as event_id,  r.redacts as redacts, rej.event_id as rejects  FROM events as e LEFT JOIN rejections as rej USING (event_id) LEFT JOIN redactions as r ON e.event_id = r.redacts WHERE e.event_id = ANY(ARRAY[$1])","0.03792815294117647","3.223892999999999","85"
"SELECT $4 FROM ONLY ""public"".""worker_read_write_locks"" x WHERE ""lock_name"" OPERATOR(pg_catalog.=) $1 AND ""lock_key"" OPERATOR(pg_catalog.=) $2 AND ""token"" OPERATOR(pg_catalog.=) $3 FOR KEY SHARE OF x","0.01171890181818181","3.222698000000002","275"
"SELECT
                  e.event_id,
                  e.stream_ordering,
                  e.instance_name,
                  ej.internal_metadata,
                  ej.json,
                  ej.format_version,
                  r.room_version,
                  rej.reason,
                  e.outlier
                FROM events AS e
                  JOIN event_json AS ej USING (event_id)
                  LEFT JOIN rooms r ON r.room_id = e.room_id
                  LEFT JOIN rejections as rej USING (event_id)
                WHERE e.event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13])","3.209952","3.209952","1"
"<insufficient privilege>","0.020590980645161294","3.191602","155"
"SELECT type, state_key, event_id FROM state_groups_state WHERE state_group = $1","0.037241635294117656","3.1655390000000003","85"
"SELECT * FROM ""group_entity"" 
            WHERE id = $1  
             
            LIMIT $2 OFFSET $3","0.042092333333333336","3.156925","75"
"SELECT DISTINCT ON (user_id, keytype) user_id, keytype, keydata, stream_id
                        FROM e2e_cross_signing_keys
                        WHERE user_id = ANY(ARRAY[$1,$2])
                        ORDER BY user_id, keytype, stream_id DESC","1.578346","3.156692","2"
"<insufficient privilege>","0.020623756578947376","3.134811000000001","152"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])","0.7751720000000001","3.1006880000000003","4"
"SELECT user_id, stream_id FROM device_lists_remote_extremeties WHERE user_id = ANY(ARRAY[$1])","0.5126955","3.076172999999999","6"
"SELECT r.event_stream_ordering, r.event_id FROM receipts_linearized AS r
            WHERE r.room_id = $1 AND r.receipt_type = $2 AND r.user_id = $3
            AND r.event_stream_ordering IS NOT NULL AND r.thread_id IS NULL","1.0250850000000002","3.0752550000000003","3"
"<insufficient privilege>","0.019662690322580643","3.0477170000000013","155"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])
                AND relation_type = $8
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.18852775000000002","3.016444000000001","16"
"SELECT 1 FROM ONLY ""public"".""worker_read_write_locks_mode"" x WHERE $1 OPERATOR(pg_catalog.=) ""lock_name"" AND $2 OPERATOR(pg_catalog.=) ""lock_key"" AND $3 OPERATOR(pg_catalog.=) ""token"" FOR KEY SHARE OF x","0.016406861111111108","2.9532350000000003","180"
"<insufficient privilege>","0.01895156774193548","2.9374930000000012","155"
"select count(*)
from mail_repository_content
where url = $1","0.01921573026315789","2.920791","152"
"SELECT server_name, key_id, key_json, ts_valid_until_ms
                FROM server_keys_json WHERE $1=$2
                 OR (server_name=$3 AND key_id=$4)
                ORDER BY ts_added_ms","2.9049829999999996","2.9049829999999996","1"
"<insufficient privilege>","0.01872","2.9015999999999993","155"
"SELECT * FROM ""group_user"" 
            WHERE user_id = $1  
            ORDER BY group_id DESC,id DESC 
            LIMIT $2 OFFSET $3","0.055438423076923087","2.8827979999999993","52"
"SELECT event_id, depth FROM events WHERE event_id = ANY(ARRAY[$1])","0.04490022222222222","2.828714000000001","63"
"<insufficient privilege>","0.018169554838709672","2.816280999999999","155"
"SELECT
                COUNT(CASE WHEN notif = $1 THEN $2 END),
                COUNT(CASE WHEN unread = $3 THEN $4 END),
                thread_id
            FROM event_push_actions
            LEFT JOIN (
                SELECT thread_id, MAX(event_stream_ordering) AS threaded_receipt_stream_ordering
                FROM receipts_linearized
                WHERE
                    user_id = $5
                    AND room_id = $6
                    AND event_stream_ordering > $7
                    AND receipt_type = ANY(ARRAY[$8,$9])
                GROUP BY thread_id
            ) AS receipts USING (thread_id)
            WHERE user_id = $10
                AND room_id = $11
                AND stream_ordering > COALESCE(threaded_receipt_stream_ordering, $12)
                AND NOT thread_id = ANY(ARRAY[$13])
            GROUP BY thread_id","0.23432241666666664","2.8118689999999997","12"
"SET SESSION timezone TO 'UTC'","0.17527712499999998","2.804434","16"
"SELECT room_id, has_auth_chain_index FROM rooms WHERE room_id = $1","0.03285289411764706","2.792496","85"
"<insufficient privilege>","0.017880458064516137","2.771470999999999","155"
"INSERT INTO ""files"" (company_id, id, user_id, application_id, encryption_key, updated_at, created_at, metadata, thumbnails, upload_data)
              VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)","2.7709599999999996","2.7709599999999996","1"
"CREATE INDEX IF NOT EXISTS index_user_email_canonical ON ""user"" 
        (email_canonical)","2.763122","2.763122","1"
"INSERT INTO ""drive_file_versions"" (drive_item_id, id, provider, file_metadata, date_added, creator_id, application_id, key, mode, file_size, filename, data)
              VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)","2.746467","2.746467","1"
"<insufficient privilege>","0.0176571741935484","2.736861999999999","155"
"SELECT nextval($1)","0.031944070588235285","2.715246","85"
"<insufficient privilege>","0.01751169677419355","2.7143130000000024","155"
"<insufficient privilege>","0.01743089032258064","2.701788","155"
"select indexname
from pg_indexes
where schemaname = current_schema","0.8997740000000001","2.6993220000000004","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])","0.4496765","2.6980589999999998","6"
"UPDATE ""schedulers"" SET ""pid"" = $1, ""updated_at"" = $2 WHERE ""schedulers"".""id"" = $3","0.07249991891891894","2.682497000000001","37"
"<insufficient privilege>","0.017268032258064513","2.6765450000000004","155"
"SELECT r.stream_id, r.room_id, r.user_id, r.thread_id, r.event_stream_ordering
            FROM receipts_linearized AS r
            WHERE $1 < r.stream_id AND r.stream_id <= $2 AND user_id LIKE $3
            ORDER BY r.stream_id ASC
            LIMIT $4","0.01730124675324675","2.664392","154"
"<insufficient privilege>","0.017187690322580648","2.664092","155"
"<insufficient privilege>","0.017125922580645155","2.6545180000000017","155"
"<insufficient privilege>","0.016932490322580637","2.624535999999998","155"
"DELETE FROM event_auth_chain_to_calculate WHERE event_id = ANY(ARRAY[$1])","0.030433423529411755","2.5868410000000006","85"
"<insufficient privilege>","0.016687496774193532","2.586562","155"
"INSERT INTO event_push_actions (
                room_id, event_id, user_id, actions, stream_ordering,
                topological_ordering, notif, highlight, unread, thread_id
            )
            SELECT $1, event_id, user_id, actions, $3, $4, notif, highlight, unread, thread_id
            FROM event_push_actions_staging
            WHERE event_id = $5","0.03014088235294118","2.5619750000000003","85"
"SELECT event_id, type, state_key FROM event_auth_chain_to_calculate WHERE room_id = ANY(ARRAY[$1])","0.03012058823529411","2.5602500000000004","85"
"SELECT room_version FROM rooms WHERE room_id = $1","0.031447124999999986","2.51577","80"
"<insufficient privilege>","0.016095361290322577","2.4947809999999997","155"
"SELECT ""tickets"".* FROM ""tickets"" WHERE (escalation_at <= $2) ORDER BY ""tickets"".""id"" ASC LIMIT $1","0.16565573333333336","2.484836","15"
"SELECT
               COUNT(CASE WHEN notif = $1 THEN $2 END),
               COUNT(CASE WHEN unread = $3 THEN $4 END),
               thread_id
            FROM event_push_actions ea
            WHERE user_id = $5
               AND room_id = $6
               AND ea.stream_ordering > $7
               
               
            GROUP BY thread_id","0.014316929824561406","2.4481950000000006","171"
"SELECT data FROM syncv3_device_data WHERE user_id=$1 AND device_id=$2 FOR UPDATE","2.379788","2.379788","1"
"SELECT avatar_url FROM profiles WHERE full_user_id = $1","0.031911743243243244","2.361469","74"
"<insufficient privilege>","0.015181096774193546","2.3530699999999998","155"
"<insufficient privilege>","0.015078070967741938","2.3371009999999997","155"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15])","0.29155749999999997","2.3324599999999998","8"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'workspaces' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""workspaces"" ADD PRIMARY KEY (
          company_id, id);
        END IF;
        end $$","2.322152","2.322152","1"
"SELECT stream_ordering, received_ts FROM events WHERE event_id = $1","0.7734036666666668","2.320211","3"
"SELECT stream_ordering FROM event_push_actions
            WHERE stream_ordering > $1
            ORDER BY stream_ordering ASC LIMIT $2 OFFSET $3","0.014947824675324677","2.3019649999999987","154"
"<insufficient privilege>","0.014845845161290318","2.301106","155"
"SELECT user_id, key_id, target_device_id, signature
            FROM e2e_cross_signing_signatures WHERE (target_user_id = $1 AND target_device_id = $2 AND user_id = $3)","1.1384500000000002","2.2769000000000004","2"
"INSERT INTO room_account_data (user_id, room_id, account_data_type, stream_id, content) VALUES ($1, $2, $3, $4, $5) ON CONFLICT (user_id, room_id, account_data_type) DO UPDATE SET stream_id=EXCLUDED.stream_id, content=EXCLUDED.content","2.261018","2.261018","1"
"<insufficient privilege>","0.014573348387096773","2.2588690000000002","155"
"SELECT * FROM scheduled_tasks WHERE status = ANY(ARRAY[$1]) AND timestamp <= $2 ORDER BY timestamp LIMIT $3","0.029217103896103887","2.2497170000000004","77"
"<insufficient privilege>","0.014479561290322579","2.244332","155"
"DELETE FROM event_push_actions
                WHERE stream_ordering <= $1 AND highlight = $2","0.014327681818181816","2.206463000000001","154"
"<insufficient privilege>","0.014126367741935484","2.1895870000000013","155"
"select current_timestamp","0.014398164473684206","2.1885210000000006","152"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])
                ) AS b using (room_id)","1.089939","2.179878","2"
"SELECT * FROM ""user"" 
            WHERE email_canonical = $1  
             
            LIMIT $2 OFFSET $3","1.0861994999999998","2.1723989999999995","2"
"INSERT INTO destinations (destination, last_successful_stream_ordering) VALUES ($1, $2) ON CONFLICT (destination) DO UPDATE SET last_successful_stream_ordering=EXCLUDED.last_successful_stream_ordering","0.11316352631578948","2.1501069999999998","19"
"SELECT * FROM ""external_user_repository"" 
            WHERE service_id = $1 AND external_id = $2  
            ORDER BY external_id DESC,user_id DESC 
            LIMIT $3 OFFSET $4","0.04860081818181817","2.1384360000000004","44"
"DELETE FROM scheduled_tasks WHERE id = $1","2.124415","2.124415","1"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9)","0.088097125","2.1143310000000004","24"
"SELECT ""ticket_articles"".* FROM ""ticket_articles"" WHERE (ticket_id = $2 AND sender_id NOT IN ($3)) ORDER BY ""ticket_articles"".""created_at"" DESC LIMIT $1","0.07044356666666667","2.1133070000000003","30"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3])","0.10241154999999999","2.048231","20"
"<insufficient privilege>","0.013183174193548388","2.0433919999999994","155"
"SELECT backward_extrem.event_id, event.depth FROM events AS event
                /**
                 * Get the edge connections from the event_edges table
                 * so we can see whether this event's prev_events points
                 * to a backward extremity in the next join.
                 */
                INNER JOIN event_edges AS edge
                ON edge.event_id = event.event_id
                /**
                 * We find the ""oldest"" events in the room by looking for
                 * events connected to backwards extremeties (oldest events
                 * in the room that we know of so far).
                 */
                INNER JOIN event_backward_extremities AS backward_extrem
                ON edge.prev_event_id = backward_extrem.event_id
                /**
                 * We use this info to make sure we don't retry to use a backfill point
                 * if we've already attempted to backfill from it recently.
                 */
                LEFT JOIN event_failed_pull_attempts AS failed_backfill_attempt_info
                ON
                    failed_backfill_attempt_info.room_id = backward_extrem.room_id
                    AND failed_backfill_attempt_info.event_id = backward_extrem.event_id
                WHERE
                    backward_extrem.room_id = $1
                    /* We only care about non-state edges because we used to use
                     * `event_edges` for two different sorts of ""edges"" (the current
                     * event DAG, but also a link to the previous state, for state
                     * events). These legacy state event edges can be distinguished by
                     * `is_state` and are removed from the codebase and schema but
                     * because the schema change is in a background update, it's not
                     * necessarily safe to assume that it will have been completed.
                     */
                    AND edge.is_state is FALSE
                    /**
                     * We only want backwards extremities that are older than or at
                     * the same position of the given `current_depth` (where older
                     * means less than the given depth) because we're looking backwards
                     * from the `current_depth` when backfilling.
                     *
                     *                         current_depth (ignore events that come after this, ignore 2-4)
                     *                         |
                     *                         ▼
                     * <oldest-in-time> [0]<--[1]<--[2]<--[3]<--[4] <newest-in-time>
                     */
                    AND event.depth <= $2 /* current_depth */
                    /**
                     * Exponential back-off (up to the upper bound) so we don't retry the
                     * same backfill point over and over. ex. 2hr, 4hr, 8hr, 16hr, etc.
                     *
                     * We use `1 << n` as a power of 2 equivalent for compatibility
                     * with older SQLites. The left shift equivalent only works with
                     * powers of 2 because left shift is a binary operation (base-2).
                     * Otherwise, we would use `power(2, n)` or the power operator, `2^n`.
                     */
                    AND (
                        failed_backfill_attempt_info.event_id IS NULL
                        OR $3 /* current_time */ >= failed_backfill_attempt_info.last_attempt_ts + (
                            ($4 << LEAST(failed_backfill_attempt_info.num_attempts, $5 /* max doubling steps */))
                            * $6 /* step */
                        )
                    )
                /**
                 * Sort from highest (closest to the `current_depth`) to the lowest depth
                 * because the closest are most relevant to backfill from first.
                 * Then tie-break on alphabetical order of the event_ids so we get a
                 * consistent ordering which is nice when asserting things in tests.
                 */
                ORDER BY event.depth DESC, backward_extrem.event_id DESC
                LIMIT $7","0.20343290000000003","2.034329","10"
"SELECT ""tickets"".* FROM ""tickets"" WHERE ""tickets"".""id"" = $1 LIMIT $2","0.06728136666666668","2.018441","30"
"SELECT admin FROM users WHERE name = $1","0.031991241935483854","1.983457","62"
"SELECT COUNT(*) AS ""size"", MAX(""ssl_certificates"".""updated_at"") AS timestamp FROM ""ssl_certificates""","0.0127712091503268","1.953995","153"
"<insufficient privilege>","0.01251997419354839","1.9405959999999993","155"
"SELECT tag, content FROM room_tags WHERE user_id = $1 AND room_id = $2","0.012835186666666663","1.925278","150"
"SELECT stream_id, room_id, type, state_key, event_id
                FROM current_state_delta_stream
                WHERE $1 < stream_id AND stream_id <= $2
                    AND instance_name = $3
                ORDER BY stream_id ASC LIMIT $4","0.022532105882352955","1.915229","85"
"<insufficient privilege>","0.012348858064516124","1.9140730000000001","155"
"SELECT user_id, stream_id FROM device_lists_remote_extremeties WHERE user_id = ANY(ARRAY[$1,$2])","0.9564585000000001","1.9129170000000002","2"
"<insufficient privilege>","0.6272896666666666","1.881869","3"
"SELECT server_name FROM partial_state_rooms_servers WHERE room_id = $1","0.031050350000000008","1.8630210000000003","60"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2,$3,$4])","0.10920923529411765","1.8565570000000002","17"
"SELECT user_server_name
                FROM user_directory_stale_remote_users
                WHERE next_try_at_ts < $1
                GROUP BY user_server_name
                ORDER BY MIN(next_try_at_ts), user_server_name
                LIMIT $2","0.04188952272727273","1.8431389999999996","44"
"<insufficient privilege>","0.011881232258064514","1.8415909999999995","155"
"SELECT * FROM ""user"" 
            WHERE username_canonical = $1  
             
            LIMIT $2 OFFSET $3","0.915332","1.830664","2"
"SELECT $5 AS one FROM ""histories"" WHERE ""histories"".""history_type_id"" = $1 AND ""histories"".""history_object_id"" = $2 AND ""histories"".""o_id"" = $3 AND (created_at > $6) AND (value_to LIKE $7) LIMIT $4","0.060743","1.8222899999999997","30"
"SELECT stream_id, message_json FROM device_inbox
                WHERE user_id = $1 AND device_id = $2
                AND $3 < stream_id AND stream_id <= $4
                ORDER BY stream_id ASC
                LIMIT $5","0.15180675","1.8216809999999999","12"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'workspace_counters' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""workspace_counters"" ADD PRIMARY KEY (
          id, counter_type);
        END IF;
        end $$","1.788025","1.788025","1"
"SELECT 1 FROM ONLY ""public"".""events"" x WHERE ""event_id"" OPERATOR(pg_catalog.=) $1 FOR KEY SHARE OF x","0.020538835294117645","1.7458010000000004","85"
"<insufficient privilege>","0.011172496774193548","1.7317369999999992","155"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'workspace_invite_domain' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""workspace_invite_domain"" ADD PRIMARY KEY (
          domain, company_id, workspace_id);
        END IF;
        end $$","1.691309","1.691309","1"
"SELECT * FROM ""drive_files"" 
            WHERE company_id = $1 AND parent_id = $2 AND is_in_trash = $3  
            ORDER BY is_directory DESC, last_modified DESC 
            LIMIT $4 OFFSET $5","0.08451154999999999","1.690231","20"
"INSERT INTO profiles (user_id, avatar_url, full_user_id) VALUES ($1, $2, $3) ON CONFLICT (user_id) DO UPDATE SET avatar_url=EXCLUDED.avatar_url, full_user_id=EXCLUDED.full_user_id","1.6813729999999998","1.6813729999999998","1"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27)","0.23871685714285718","1.6710180000000001","7"
"<insufficient privilege>","0.01077133548387096","1.669557000000001","155"
"SELECT type, state_key, event_id FROM current_state_events
                WHERE room_id = $1
             AND ((type = $2 AND state_key = $3))","0.07257834782608696","1.6693019999999998","23"
"UPDATE ""user"" 
              SET first_name = $1, last_name = $2, status_icon = $3, last_activity = $4, creation_date = $5, notification_preference = $6, identity_provider = $7, identity_provider_id = $8, token_login = $9, username_canonical = $10, email_canonical = $11, password = $12, deleted = $13, mail_verified = $14, phone = $15, thumbnail_id = $16, language = $17, timezone = $18, type = $19, preferences = $20, cache = $21, devices = $22, salt = $23 
              WHERE id = $24","0.06755304166666666","1.621273","24"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18)","0.201011625","1.608093","8"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'workspace_invite_tokens' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""workspace_invite_tokens"" ADD PRIMARY KEY (
          company_id, workspace_id, user_id, invite_token);
        END IF;
        end $$","1.603225","1.603225","1"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77])
                        AND relation_type = $78
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","1.598578","1.598578","1"
"SELECT DISTINCT(user_id) FROM event_push_actions WHERE stream_ordering >= $1 AND stream_ordering <= $2 AND notif = $3","0.018597458823529416","1.5807840000000004","85"
"UPDATE redactions SET have_censored = $1 WHERE redacts = ANY(ARRAY[$2])","0.018227517647058822","1.5493390000000007","85"
"SELECT pg_postmaster_start_time as start_time_seconds from pg_postmaster_start_time()","0.009874941935483867","1.5306160000000004","155"
"<insufficient privilege>","0.009840070967741933","1.5252110000000008","155"
"SELECT type, state_key, event_id FROM current_state_events
                WHERE room_id = $1
             AND ((type = $2 AND state_key = $3) OR (type = $4 AND state_key = $5))","0.06908063636363637","1.519774","22"
"<insufficient privilege>","0.009700922580645156","1.5036429999999998","155"
"SELECT room_id from room_tags_revisions WHERE user_id = $1 AND stream_id > $2","0.5006456666666667","1.5019369999999999","3"
"insert into mail_repository_url (url)
values ($1)
on conflict (url)
do nothing","0.05957411999999999","1.4893529999999997","25"
"SELECT user_id, device_id
		FROM syncv3_sync2_devices JOIN syncv3_sync2_tokens USING(user_id, device_id)
		GROUP BY (user_id, device_id)
		HAVING MAX(last_seen) < $1","1.45422","1.45422","1"
"select tablename
from pg_tables
where schemaname = current_schema","0.48441666666666666","1.45325","3"
"<insufficient privilege>","0.009352987096774186","1.4497129999999998","155"
"SELECT user_id, retry_counter, next_try_at_ts
                FROM user_directory_stale_remote_users
                WHERE user_server_name = $1 AND next_try_at_ts < $2
                ORDER BY next_try_at_ts
                LIMIT $3","0.03202784444444444","1.4412529999999995","45"
"DELETE FROM event_txn_id_device_id
                WHERE inserted_ts < $1","0.08946068750000001","1.431371","16"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.412519","1.412519","1"
"DELETE FROM worker_locks WHERE lock_name = $1 AND lock_key = $2 AND token = $3","0.06420254545454546","1.4124559999999997","22"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.388439","1.388439","1"
"<insufficient privilege>","0.00892190322580645","1.382895","155"
"SELECT room_id, server_name FROM partial_state_rooms_servers","1.376052","1.376052","1"
"SELECT ""tickets"".* FROM ""tickets"" WHERE ""tickets"".""state_id"" = $1 AND (pending_time <= $3) ORDER BY ""tickets"".""id"" ASC LIMIT $2","0.13674929999999996","1.367493","10"
"SELECT stream_id, user_id, room_id FROM room_tags_revisions as r WHERE $1 < stream_id AND stream_id <= $2 ORDER BY stream_id ASC LIMIT $3","1.3529410000000002","1.3529410000000002","1"
"<insufficient privilege>","0.008697316129032257","1.3480839999999996","155"
"INSERT INTO event_auth_chain_links (origin_chain_id, origin_sequence_number, target_chain_id, target_sequence_number) VALUES ($1,$2,$3,$4)","0.674039","1.348078","2"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.3466500000000001","1.3466500000000001","1"
"CREATE INDEX IF NOT EXISTS index_session_revoked_at ON ""session"" 
        (revoked_at)","1.343148","1.343148","1"
"SELECT * FROM ""drive_files"" 
            WHERE company_id = $1 AND parent_id = $2 AND is_in_trash = $3  
            ORDER BY id DESC 
            LIMIT $4 OFFSET $5","0.06077263636363636","1.336998","22"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27)","0.16349424999999998","1.307954","8"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'workspace_pending_users' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""workspace_pending_users"" ADD PRIMARY KEY (
          workspace_id, email);
        END IF;
        end $$","1.305478","1.305478","1"
"SELECT MIN(send_ts) FROM delayed_events WHERE is_processed = $1","0.014870882352941171","1.2640250000000002","85"
"CREATE INDEX IF NOT EXISTS index_session_sid ON ""session"" 
        (sid)","1.246219","1.246219","1"
"SELECT ""groups"".* FROM ""groups"" WHERE ""groups"".""active"" = $1 AND (assignment_timeout IS NOT NULL AND groups.assignment_timeout != $2)","0.15574575000000002","1.245966","8"
"select snapshot
from event_store
where aggregate_id = $1
fetch next $2 rows only","0.30990500000000004","1.23962","4"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41])","0.6184235","1.236847","2"
"<insufficient privilege>","0.007944148387096771","1.231343","155"
"SELECT ""ticket_articles"".* FROM ""ticket_articles"" WHERE ""ticket_articles"".""id"" = $1 LIMIT $2","0.04047286666666667","1.2141860000000002","30"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'group_entity' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""group_entity"" ADD PRIMARY KEY (
          id);
        END IF;
        end $$","1.21182","1.21182","1"
"DELETE FROM event_backward_extremities WHERE event_id = $1 AND room_id = $2","0.014198423529411768","1.2068660000000002","85"
"SELECT content FROM room_account_data WHERE user_id = $1 AND room_id = $2 AND account_data_type = $3","1.189586","1.189586","1"
"<insufficient privilege>","0.007627600000000001","1.182278","155"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20])
                ) AS b using (room_id)","0.5884229999999999","1.1768459999999998","2"
"SHOW TRANSACTION ISOLATION LEVEL","0.029259524999999998","1.170381","40"
"update OFFLINE_USER_SESSION set LAST_SESSION_REFRESH=$1 where REALM_ID=$2 and OFFLINE_FLAG=$3 and USER_SESSION_ID in ($4)","0.1944015","1.166409","6"
"<insufficient privilege>","0.007518606451612908","1.165384","155"
"<insufficient privilege>","0.007470361290322579","1.1579059999999999","155"
"SELECT version()","0.00734909677419355","1.1391099999999996","155"
"SELECT * FROM ""drive_files"" 
            WHERE company_id = $1 AND is_in_trash = $2 AND scope = $3  
            ORDER BY is_directory DESC, last_modified DESC 
            LIMIT $4 OFFSET $5","0.04426700000000001","1.1066749999999999","25"
"SELECT * FROM ""drive_files"" 
            WHERE company_id = $1 AND is_in_trash = $2 AND scope = $3  
            ORDER BY id DESC 
            LIMIT $4 OFFSET $5","0.039485821428571426","1.105603","28"
"SELECT origin, event_id
                FROM federation_inbound_events_staging
                WHERE room_id = $1
                ORDER BY received_ts ASC
                LIMIT $2","0.04955877272727273","1.0902930000000004","22"
"SET default_transaction_isolation = 'read committed'","0.014075285714285714","1.0837970000000001","77"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'files' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""files"" ADD PRIMARY KEY (
          company_id, id);
        END IF;
        end $$","1.082628","1.082628","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.0764710000000002","1.0764710000000002","1"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9,$10,$11,$12,$13,$14])
                ) AS b using (room_id)","1.070428","1.070428","1"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'statistics' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""statistics"" ADD PRIMARY KEY (
          company_id,event_name, month_id);
        END IF;
        end $$","1.061861","1.061861","1"
"SELECT room_id FROM partial_state_rooms WHERE room_id = $1","0.006902274509803921","1.0560480000000005","153"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.051488","1.051488","1"
"<insufficient privilege>","0.006753632258064515","1.0468129999999995","155"
"<insufficient privilege>","0.006738393548387098","1.044451","155"
"DELETE FROM federation_inbound_events_staging
                    WHERE origin = $1 AND event_id = $2
                    RETURNING received_ts","0.04737781818181818","1.0423120000000001","22"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])
                AND relation_type = $9
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.2596665","1.0386659999999999","4"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","1.035828","1.035828","1"
"SELECT address FROM userHistory","0.203476","1.01738","5"
"<insufficient privilege>","0.0064301612903225796","0.9966750000000001","155"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.9944890000000001","0.9944890000000001","1"
"SELECT backward_extrem.event_id, event.depth FROM events AS event
                /**
                 * Get the edge connections from the event_edges table
                 * so we can see whether this event's prev_events points
                 * to a backward extremity in the next join.
                 */
                INNER JOIN event_edges AS edge
                ON edge.event_id = event.event_id
                /**
                 * We find the ""oldest"" events in the room by looking for
                 * events connected to backwards extremeties (oldest events
                 * in the room that we know of so far).
                 */
                INNER JOIN event_backward_extremities AS backward_extrem
                ON edge.prev_event_id = backward_extrem.event_id
                /**
                 * We use this info to make sure we don't retry to use a backfill point
                 * if we've already attempted to backfill from it recently.
                 */
                LEFT JOIN event_failed_pull_attempts AS failed_backfill_attempt_info
                ON
                    failed_backfill_attempt_info.room_id = backward_extrem.room_id
                    AND failed_backfill_attempt_info.event_id = backward_extrem.event_id
                WHERE
                    backward_extrem.room_id = $1
                    /* We only care about non-state edges because we used to use
                     * `event_edges` for two different sorts of ""edges"" (the current
                     * event DAG, but also a link to the previous state, for state
                     * events). These legacy state event edges can be distinguished by
                     * `is_state` and are removed from the codebase and schema but
                     * because the schema change is in a background update, it's not
                     * necessarily safe to assume that it will have been completed.
                     */
                    AND edge.is_state is FALSE
                    /**
                     * We only want backwards extremities that are older than or at
                     * the same position of the given `current_depth` (where older
                     * means less than the given depth) because we're looking backwards
                     * from the `current_depth` when backfilling.
                     *
                     *                         current_depth (ignore events that come after this, ignore 2-4)
                     *                         |
                     *                         ▼
                     * <oldest-in-time> [0]<--[1]<--[2]<--[3]<--[4] <newest-in-time>
                     */
                    AND event.depth <= $2 /* current_depth */
                    /**
                     * Exponential back-off (up to the upper bound) so we don't retry the
                     * same backfill point over and over. ex. 2hr, 4hr, 8hr, 16hr, etc.
                     *
                     * We use `1 << n` as a power of 2 equivalent for compatibility
                     * with older SQLites. The left shift equivalent only works with
                     * powers of 2 because left shift is a binary operation (base-2).
                     * Otherwise, we would use `power(2, n)` or the power operator, `2^n`.
                     */
                    AND (
                        failed_backfill_attempt_info.event_id IS NULL
                        OR $3 /* current_time */ >= failed_backfill_attempt_info.last_attempt_ts + (
                            ($4 << LEAST(failed_backfill_attempt_info.num_attempts, $5 /* max doubling steps */))
                            * $6 /* step */
                        )
                    )
                /**
                 * Sort from highest (closest to the `current_depth`) to the lowest depth
                 * because the closest are most relevant to backfill from first.
                 * Then tie-break on alphabetical order of the event_ids so we get a
                 * consistent ordering which is nice when asserting things in tests.
                 */
                ORDER BY event.depth DESC, backward_extrem.event_id DESC
                LIMIT $7","0.09938530000000001","0.993853","10"
"DELETE FROM event_push_actions_staging WHERE event_id = $1","0.011639388235294113","0.9893480000000002","85"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.968669","0.968669","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.917543","0.917543","1"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22])
                ) AS b using (room_id)","0.907879","0.907879","1"
"DELETE FROM delayed_events WHERE room_id = $1 AND event_type = $2 AND state_key = $3 AND is_processed = $4","0.010616200000000003","0.9023769999999997","85"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.895138","0.895138","1"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'drive_file_versions' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""drive_file_versions"" ADD PRIMARY KEY (
          drive_item_id, id);
        END IF;
        end $$","0.893741","0.893741","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.89147","0.89147","1"
"SELECT * FROM ""drive_files"" 
            WHERE id = $1 AND company_id = $2  
            ORDER BY id DESC 
            LIMIT $3 OFFSET $4","0.04215814285714285","0.8853209999999999","21"
"SELECT ""ticket_article_senders"".* FROM ""ticket_article_senders"" WHERE ""ticket_article_senders"".""id"" = $1 LIMIT $2","0.05893053333333333","0.883958","15"
"DELETE FROM event_failed_pull_attempts
            WHERE event_id = $1 and room_id = $2","0.010302058823529416","0.8756749999999999","85"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.87378","0.87378","1"
"SELECT user_type FROM users WHERE name = $1","0.07857245454545454","0.864297","11"
"SELECT CASE WHEN NOT pg_is_in_recovery() THEN $1 ELSE GREATEST ($2, EXTRACT($3 FROM (now() - pg_last_xact_replay_timestamp()))) END AS lag","0.005512567741935484","0.8544479999999994","155"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.849811","0.849811","1"
"SELECT locked FROM users WHERE name = $1","0.06508307692307692","0.8460800000000002","13"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'missed_drive_files' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""missed_drive_files"" ADD PRIMARY KEY (
          id);
        END IF;
        end $$","0.837908","0.837908","1"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'devices' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""devices"" ADD PRIMARY KEY (
          id);
        END IF;
        end $$","0.836384","0.836384","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.8206990000000001","0.8206990000000001","1"
"SELECT ""ticket_states"".""id"" FROM ""ticket_states"" INNER JOIN ""ticket_state_types"" ON ""ticket_state_types"".""id"" = ""ticket_states"".""state_type_id"" WHERE ""ticket_state_types"".""name"" IN ($1, $2)","0.102028125","0.816225","8"
"SELECT ""ticket_article_senders"".* FROM ""ticket_article_senders"" WHERE ""ticket_article_senders"".""name"" = $1 LIMIT $2","0.05391906666666666","0.808786","15"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5])","0.03449039130434783","0.7932790000000002","23"
"SELECT ""history_types"".* FROM ""history_types"" WHERE ""history_types"".""name"" = $1 LIMIT $2","0.05273446666666668","0.791017","15"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'drive_tdrive_tab' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""drive_tdrive_tab"" ADD PRIMARY KEY (
          company_id, tab_id);
        END IF;
        end $$","0.778437","0.778437","1"
"SELECT pg_catalog.quote_ident(n.nspname) AS nspname
                        FROM pg_catalog.pg_extension e
                            JOIN pg_catalog.pg_namespace n ON e.extnamespace = n.oid
                        WHERE extname = $1","0.775324","0.775324","1"
"INSERT INTO user_ips (user_id, access_token, ip, user_agent, device_id, last_seen) VALUES ($1,$2,$3,$4,$5,$6),($7,$8,$9,$10,$11,$12),($13,$14,$15,$16,$17,$18) ON CONFLICT (user_id, access_token, ip) DO UPDATE SET user_agent=EXCLUDED.user_agent, device_id=EXCLUDED.device_id, last_seen=EXCLUDED.last_seen","0.387617","0.775234","2"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'session' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""session"" ADD PRIMARY KEY (
          company_id, sid);
        END IF;
        end $$","0.766801","0.766801","1"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'drive_files' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""drive_files"" ADD PRIMARY KEY (
          company_id, id);
        END IF;
        end $$","0.762348","0.762348","1"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'user' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""user"" ADD PRIMARY KEY (
          id);
        END IF;
        end $$","0.758227","0.758227","1"
"SELECT ""roles_groups"".""role_id"" FROM ""roles_groups"" LEFT OUTER JOIN ""roles"" ON ""roles"".""id"" = ""roles_groups"".""role_id"" WHERE ""roles_groups"".""group_id"" = $1 AND ""roles_groups"".""access"" = $2 AND ""roles"".""active"" = $3","0.050524599999999996","0.7578690000000001","15"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'group_user' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""group_user"" ADD PRIMARY KEY (
          user_id, group_id, id);
        END IF;
        end $$","0.757289","0.757289","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])","0.092948375","0.743587","8"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'tags' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""tags"" ADD PRIMARY KEY (
          company_id, tag_id);
        END IF;
        end $$","0.741637","0.741637","1"
"UPDATE local_media_repository SET last_access_ts = $1 WHERE media_id = $2","0.052823642857142854","0.7395309999999999","14"
"select pg_stat_statements_reset()","0.734232","0.734232","1"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7])
                    AND relation_type = $8
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.045541","0.7286560000000001","16"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'external_user_repository' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""external_user_repository"" ADD PRIMARY KEY (
          service_id, external_id, user_id);
        END IF;
        end $$","0.713646","0.713646","1"
"do $$
        begin
        IF NOT EXISTS 
          (SELECT constraint_name 
          FROM information_schema.table_constraints 
          WHERE table_name = 'external_group_repository' 
          and constraint_type = 'PRIMARY KEY') 
        THEN
          ALTER TABLE ""external_group_repository"" ADD PRIMARY KEY (
          service_id, external_id, company_id);
        END IF;
        end $$","0.7131","0.7131","1"
"SELECT ""mentions"".* FROM ""mentions"" WHERE ""mentions"".""mentionable_type"" = $1 AND ""mentions"".""mentionable_id"" = $2","0.023635400000000004","0.7090620000000002","30"
"SELECT DISTINCT att.attname as name, att.attnum as OID, pg_catalog.format_type(ty.oid,$1) AS datatype,
att.attnotnull as not_null, att.atthasdef as has_default_val, des.description, seq.seqtypid
FROM pg_catalog.pg_attribute att
    JOIN pg_catalog.pg_type ty ON ty.oid=atttypid
    JOIN pg_catalog.pg_namespace tn ON tn.oid=ty.typnamespace
    JOIN pg_catalog.pg_class cl ON cl.oid=att.attrelid
    JOIN pg_catalog.pg_namespace na ON na.oid=cl.relnamespace
    LEFT OUTER JOIN pg_catalog.pg_type et ON et.oid=ty.typelem
    LEFT OUTER JOIN pg_catalog.pg_attrdef def ON adrelid=att.attrelid AND adnum=att.attnum
    LEFT OUTER JOIN (pg_catalog.pg_depend JOIN pg_catalog.pg_class cs ON classid=$2::regclass AND objid=cs.oid AND cs.relkind=$3) ON refobjid=att.attrelid AND refobjsubid=att.attnum
    LEFT OUTER JOIN pg_catalog.pg_namespace ns ON ns.oid=cs.relnamespace
    LEFT OUTER JOIN pg_catalog.pg_index pi ON pi.indrelid=att.attrelid AND indisprimary
    LEFT OUTER JOIN pg_catalog.pg_description des ON (des.objoid=att.attrelid AND des.objsubid=att.attnum AND des.classoid=$4::regclass)
    LEFT OUTER JOIN pg_catalog.pg_sequence seq ON cs.oid=seq.seqrelid
WHERE

    att.attrelid = $5::oid
    AND att.attnum > $6
    AND att.attisdropped IS FALSE
ORDER BY att.attnum","0.700513","0.700513","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4])","0.027621959999999994","0.6905490000000001","25"
"SELECT ""triggers"".* FROM ""triggers"" WHERE ""triggers"".""active"" = $1 AND ""triggers"".""activator"" = $2 ORDER BY LOWER(name)","0.04590066666666667","0.6885099999999998","15"
"INSERT INTO destinations (destination) VALUES ($1) ON CONFLICT (destination) DO NOTHING","0.040210588235294116","0.6835800000000001","17"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3,$4,$5])","0.084405375","0.675243","8"
"SELECT pg_catalog.pg_current_wal_lsn()","0.00863464935064935","0.6648680000000001","77"
"SELECT * FROM ""drive_file_versions"" 
            WHERE drive_item_id = $1  
            ORDER BY id DESC 
            LIMIT $2 OFFSET $3","0.038884588235294115","0.6610379999999999","17"
"SELECT * FROM ""files"" 
            WHERE id = $1 AND company_id = $2  
            ORDER BY id DESC 
            LIMIT $3 OFFSET $4","0.03653122222222222","0.6575620000000001","18"
"SELECT stream_ordering, topological_ordering FROM events WHERE event_id = $1 AND room_id = $2","0.053952916666666656","0.647435","12"
"SELECT ""history_objects"".* FROM ""history_objects"" WHERE ""history_objects"".""name"" = $1 LIMIT $2","0.03888866666666666","0.5833299999999999","15"
"SELECT DISTINCT b.state_key
                FROM (
                    SELECT room_id FROM current_state_events
                    WHERE type = $1 AND membership = $2 AND state_key = $3
                ) AS a
                INNER JOIN (
                    SELECT room_id, state_key FROM current_state_events
                    WHERE type = $4 AND membership = $5 AND state_key = ANY(ARRAY[$6,$7,$8,$9,$10])
                ) AS b using (room_id)","0.5609639999999999","0.5609639999999999","1"
"<insufficient privilege>","0.0035539548387096757","0.5508630000000003","155"
"SELECT ""data_privacy_tasks"".* FROM ""data_privacy_tasks"" WHERE ""data_privacy_tasks"".""state"" = $1 ORDER BY ""data_privacy_tasks"".""id"" ASC LIMIT $2","0.06866975","0.549358","8"
"select distinct re1_0.EVENTS_EXPIRATION from REALM re1_0 where re1_0.EVENTS_EXPIRATION>$1","0.10936600000000002","0.54683","5"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16])","0.10896220000000001","0.544811","5"
"SELECT $1 FROM blocked_rooms WHERE room_id = $2","0.008683836065573769","0.529714","61"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])
                        AND relation_type = $12
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.13137425","0.525497","4"
"SELECT user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active FROM presence_stream WHERE user_id = ANY(ARRAY[$1])","0.043672083333333334","0.524065","12"
"UPDATE ""group_user"" 
              SET role = $1, applications = $2, nb_workspace = $3, date_added = $4, last_update_day = $5 
              WHERE user_id = $6 AND group_id = $7 AND id = $8","0.04364366666666667","0.5237240000000001","12"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2])","0.046554727272727275","0.5121020000000001","11"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])","0.16495733333333334","0.494872","3"
"SELECT event_json, internal_metadata, origin
                FROM federation_inbound_events_staging
                WHERE room_id = $1
                ORDER BY received_ts ASC
                LIMIT $2","0.02229022727272727","0.490385","22"
"delete from OFFLINE_USER_SESSION where REALM_ID=$1 and OFFLINE_FLAG=$2 and LAST_SESSION_REFRESH<$3","0.048141","0.48140999999999995","10"
"SELECT ""active_job_locks"".* FROM ""active_job_locks"" WHERE ""active_job_locks"".""lock_key"" = $1 LIMIT $2 FOR UPDATE","0.05963862500000001","0.477109","8"
"<insufficient privilege>","0.000984513978494624","0.4577990000000001","465"
"SELECT user_id, device_id, d.display_name, k.key_json
                    FROM e2e_device_keys_json k
                    INNER JOIN devices d USING (user_id, device_id)
                    WHERE user_id = ANY(ARRAY[$1,$2]) AND NOT d.hidden","0.11314824999999999","0.4525929999999999","4"
"select *
from domains
where domain = $1","0.07518833333333333","0.45113","6"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9])","0.06286757142857143","0.44007299999999994","7"
"SELECT
                dlop1.destination,
                dlop1.user_id,
                MAX(dlop1.stream_id) AS stream_id,
                (SELECT MIN(dlop2.device_id) AS device_id FROM
                    device_lists_outbound_pokes dlop2
                    WHERE dlop2.destination = dlop1.destination AND
                      dlop2.user_id=dlop1.user_id AND
                      dlop2.stream_id=MAX(dlop1.stream_id)
                )
            FROM device_lists_outbound_pokes dlop1
                GROUP BY destination, user_id
                HAVING min(ts) < $1 AND count(*) > $2","0.2176945","0.435389","2"
"select query, mean_exec_time, total_exec_time, calls from pg_stat_statements order by total_exec_time desc","0.431906","0.431906","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18])","0.14262600000000003","0.427878","3"
"SELECT ""ticket_state_types"".* FROM ""ticket_state_types"" WHERE ""ticket_state_types"".""name"" = $1 LIMIT $2","0.041780199999999997","0.417802","10"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1])
                    AND relation_type = $2
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.015325799999999997","0.38314500000000007","25"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11])
                    AND relation_type = $12
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.091722","0.366888","4"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27)","0.1806625","0.361325","2"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3])
                    AND relation_type = $4
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.05850616666666666","0.35103699999999993","6"
"select rae1_0.NAME,rae1_0.REALM_ID,rae1_0.VALUE from REALM_ATTRIBUTE rae1_0 where rae1_0.NAME=$1 and character_length(rae1_0.VALUE)>$2","0.0681286","0.340643","5"
"UPDATE ""files"" 
              SET user_id = $1, application_id = $2, encryption_key = $3, updated_at = $4, created_at = $5, metadata = $6, thumbnails = $7, upload_data = $8 
              WHERE company_id = $9 AND id = $10","0.08298625","0.33194500000000005","4"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38])
                    AND relation_type = $39
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.324003","0.324003","1"
"UPDATE ""drive_files"" 
              SET editing_session_key = $1 
              WHERE company_id = $2 AND id = $3 AND editing_session_key IS NULL","0.16040100000000002","0.32080200000000003","2"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40])","0.06356400000000001","0.31782","5"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17])","0.0525985","0.315591","6"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21])","0.0626188","0.313094","5"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23])","0.155964","0.311928","2"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1])
                AND relation_type = $2
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.012437519999999999","0.310938","25"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15])","0.1550295","0.310059","2"
"<insufficient privilege>","0.001964761290322581","0.30453799999999986","155"
"select *
from event_store
where (
  aggregate_id = $1
  and event_id >= $2
)
order by event_id","0.075604","0.302416","4"
"SELECT event_id FROM current_state_events WHERE event_id = ANY(ARRAY[$1,$2,$3])","0.0600456","0.300228","5"
"DELETE FROM presence_stream WHERE stream_id < $1 AND user_id = ANY(ARRAY[$2,$3,$4,$5])","0.07475175","0.299007","4"
"SET client_min_messages TO 'warning'","0.018537875000000002","0.29660600000000004","16"
"SELECT ""ticket_states"".* FROM ""ticket_states"" WHERE ""ticket_states"".""state_type_id"" = $1 AND ""ticket_states"".""next_state_id"" IS NOT NULL","0.059203399999999996","0.296017","5"
"SELECT user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active FROM presence_stream WHERE user_id = ANY(ARRAY[$1,$2])","0.0492885","0.29573099999999997","6"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5])
                    AND relation_type = $6
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.0735155","0.294062","4"
"UPDATE remote_media_cache SET last_access_ts = $1 WHERE media_origin = $2 AND media_id = $3","0.0588084","0.294042","5"
"SET extra_float_digits = 3","0.05867460000000001","0.293373","5"
"SELECT at.attname, ty.typname, at.attnum
    FROM pg_catalog.pg_attribute at
    LEFT JOIN pg_catalog.pg_type ty ON (ty.oid = at.atttypid)
    JOIN pg_catalog.pg_class as cl ON cl.oid=at.attrelid
    JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=cl.relnamespace
WHERE
    attrelid=$1::oid AND
at.attnum > $2
AND at.attisdropped = $3","0.290553","0.290553","1"
"UPDATE ""drive_files"" 
              SET parent_id = $1, is_in_trash = $2, is_directory = $3, name = $4, extension = $5, description = $6, tags = $7, added = $8, last_modified = $9, access_info = $10, content_keywords = $11, creator = $12, size = $13, last_version_cache = $14, scope = $15, av_status = $16 
              WHERE company_id = $17 AND id = $18","0.096289","0.288867","3"
"SELECT user_id FROM local_current_membership WHERE room_id = $1 AND membership = $2","0.14157999999999998","0.28315999999999997","2"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7) OR (target_user_id = $8 AND target_device_id = $9))","0.0460195","0.276117","6"
"SELECT user_id FROM device_lists_remote_resync WHERE user_id = ANY(ARRAY[$1,$2])","0.0272472","0.272472","10"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14])","0.06690700000000001","0.267628","4"
"<insufficient privilege>","0.0017086064516129026","0.2648340000000002","155"
"<insufficient privilege>","0.001699651612903226","0.2634459999999999","155"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26])","0.0511164","0.255582","5"
"UPDATE ""drive_files"" 
              SET editing_session_key = $1 
              WHERE company_id = $2 AND id = $3 AND editing_session_key = $4","0.1269645","0.253929","2"
"SELECT account_data_type, content FROM account_data
                WHERE user_id = $1 AND stream_id > $2","0.083451","0.250353","3"
"SELECT event_id, state_group FROM event_to_state_groups WHERE event_id = ANY(ARRAY[$1,$2])","0.08223366666666666","0.246701","3"
"SELECT stream_id, instance_name, room_id, receipt_type,
                        user_id, event_id, thread_id, data
                    FROM receipts_linearized WHERE
                    stream_id > $1 AND stream_id <= $2 AND
                room_id = ANY(ARRAY[$3])","0.02739933333333333","0.24659399999999995","9"
"INSERT INTO sliding_sync_membership_snapshots
                    (room_id, user_id, sender, membership_event_id, membership, forgotten, event_stream_ordering, event_instance_name
                    ,room_type, is_encrypted, has_known_state)
                VALUES (
                    $1, $2, $3, $4, $5, $6,
                    (SELECT stream_ordering FROM events WHERE event_id = $7),
                    (SELECT COALESCE(instance_name, $8) FROM events WHERE event_id = $9)
                    ,$10, $11, $12
                )
                ON CONFLICT (room_id, user_id)
                DO UPDATE SET
                    sender = EXCLUDED.sender,
                    membership_event_id = EXCLUDED.membership_event_id,
                    membership = EXCLUDED.membership,
                    forgotten = EXCLUDED.forgotten,
                    event_stream_ordering = EXCLUDED.event_stream_ordering
                    ,room_type = EXCLUDED.room_type, is_encrypted = EXCLUDED.is_encrypted, has_known_state = EXCLUDED.has_known_state","0.241721","0.241721","1"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77])
                    AND relation_type = $78
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.238735","0.238735","1"
"SELECT ""jobs"".* FROM ""jobs"" WHERE ""jobs"".""active"" = $1","0.015688733333333333","0.23533100000000004","15"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7) OR (target_user_id = $8 AND target_device_id = $9) OR (target_user_id = $10 AND target_device_id = $11))","0.037580833333333334","0.225485","6"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78])","0.06959733333333333","0.20879199999999998","3"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59])
                AND relation_type = $60
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.207236","0.207236","1"
"select this_.id as id1_0_1_, this_.ls_uuid as ls_uuid3_0_1_, this_.creation_date as creation4_0_1_, this_.mail as mail5_0_1_, this_.modification_date as modifica6_0_1_, this_.role_id as role_id7_0_1_, this_.mail_locale as mail_loc8_0_1_, this_.external_mail_locale as external9_0_1_, this_.cmis_locale as cmis_lo10_0_1_, this_.enable as enable11_0_1_, this_.password as passwor12_0_1_, this_.destroyed as destroy13_0_1_, this_.purge_step as purge_s14_0_1_, this_.second_fa_secret as second_15_0_1_, this_.second_fa_creation_date as second_16_0_1_, this_.authentication_failure_last_date as authent17_0_1_, this_.authentication_success_last_date as authent18_0_1_, this_.authentication_failure_count as authent19_0_1_, this_.domain_id as domain_20_0_1_, this_.technical_account_permission_id as technic21_0_1_, abstractdo2_.id as id1_14_0_, abstractdo2_.uuid as uuid3_14_0_, abstractdo2_.label as label4_14_0_, abstractdo2_.enable as enable5_14_0_, abstractdo2_.template as template6_14_0_, abstractdo2_.description as descript7_14_0_, abstractdo2_.default_role as default_8_14_0_, abstractdo2_.default_locale as default_9_14_0_, abstractdo2_.default_mail_locale as default10_14_0_, abstractdo2_.auth_show_order as auth_sh11_14_0_, abstractdo2_.purge_step as purge_s12_14_0_, abstractdo2_.creation_date as creatio13_14_0_, abstractdo2_.modification_date as modific14_14_0_, abstractdo2_.domain_policy_id as domain_15_14_0_, abstractdo2_.parent_id as parent_16_14_0_, abstractdo2_.mailconfig_id as mailcon17_14_0_, abstractdo2_.mime_policy_id as mime_po18_14_0_, abstractdo2_.user_provider_id as user_pr19_14_0_, abstractdo2_.group_provider_id as group_p20_14_0_, abstractdo2_.work_space_provider_id as work_sp21_14_0_, abstractdo2_.welcome_messages_id as welcome22_14_0_, abstractdo2_.type as type2_14_0_ from account this_ inner join domain_abstract abstractdo2_ on this_.domain_id=abstractdo2_.id where this_.account_type=$2 and this_.ls_uuid=$1","0.0517955","0.20718200000000003","4"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27),($28,$29,$30,$31,$32,$33,$34,$35,$36)","0.206586","0.206586","1"
"INSERT INTO ""user"" (id, first_name, last_name, creation_date, identity_provider, identity_provider_id, username_canonical, email_canonical, deleted, mail_verified, phone, preferences)
              VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)","0.102486","0.204972","2"
"SELECT user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active FROM presence_stream WHERE user_id = ANY(ARRAY[$1,$2,$3])","0.201321","0.201321","1"
"SET TimeZone='Etc/UTC'","0.200654","0.200654","1"
"SELECT stream_id, user_id, room_id, account_data_type FROM room_account_data WHERE $1 < stream_id AND stream_id <= $2 ORDER BY stream_id ASC LIMIT $3","0.196152","0.196152","1"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18)","0.195882","0.195882","1"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77])
                AND relation_type = $78
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.19586399999999998","0.19586399999999998","1"
"<insufficient privilege>","0.001257503225806451","0.19491299999999998","155"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27),($28,$29,$30,$31,$32,$33,$34,$35,$36)","0.0947505","0.189501","2"
"<insufficient privilege>","0.0012113032258064512","0.18775200000000014","155"
"CREATE INDEX IF NOT EXISTS index_drive_files_company_id_parent_id ON ""drive_files"" 
        ((company_id), parent_id)","0.187386","0.187386","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27])","0.061599666666666664","0.184799","3"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8])
                    AND relation_type = $9
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.045337","0.181348","4"
"INSERT INTO ""group_user"" (group_id, user_id, id, role, applications, date_added)
              VALUES ($1, $2, $3, $4, $5, $6)","0.08940050000000001","0.17880100000000002","2"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10])","0.05936633333333333","0.178099","3"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59])
                    AND relation_type = $60
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.17774500000000001","0.17774500000000001","1"
"SELECT * FROM ""drive_files"" 
            WHERE editing_session_key = $1  
            ORDER BY id DESC 
            LIMIT $2 OFFSET $3","0.088147","0.176294","2"
"SELECT * FROM ""drive_files"" 
            WHERE company_id = $1 AND parent_id = $2 AND is_in_trash = $3  
            ORDER BY is_directory DESC, name DESC 
            LIMIT $4 OFFSET $5","0.086844","0.173688","2"
"<insufficient privilege>","0.0011031741935483867","0.170992","155"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59])
                        AND relation_type = $60
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.170481","0.170481","1"
"SELECT user_id FROM erased_users WHERE user_id = ANY(ARRAY[$1])","0.005127878787878787","0.16921999999999998","33"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24])","0.05409733333333334","0.162292","3"
"<insufficient privilege>","0.05405800000000001","0.162174","3"
"SELECT * FROM ""drive_files"" 
            WHERE company_id = $1 AND is_in_trash = $2 AND scope = $3  
            ORDER BY is_directory DESC, name DESC 
            LIMIT $4 OFFSET $5","0.054052333333333334","0.162157","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50])","0.161474","0.161474","1"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7) OR (target_user_id = $8 AND target_device_id = $9) OR (target_user_id = $10 AND target_device_id = $11) OR (target_user_id = $12 AND target_device_id = $13))","0.053760666666666665","0.161282","3"
"DISCARD ALL","0.160577","0.160577","1"
"SELECT presence_stream_id FROM users_to_send_full_presence_to WHERE user_id = $1","0.013337416666666666","0.160049","12"
"<insufficient privilege>","0.0010272129032258064","0.159218","155"
"SELECT room_id, account_data_type, content FROM room_account_data
                WHERE user_id = $1 AND stream_id > $2","0.05272633333333333","0.15817900000000001","3"
"<insufficient privilege>","0.0010114129032258066","0.15676899999999996","155"
"CREATE TABLE IF NOT EXISTS ""workspace_counters""
          (
            id UUID,
counter_type TEXT,
value BIGINT
          )","0.154879","0.154879","1"
"SELECT topological_ordering, stream_ordering FROM events WHERE event_id = $1 AND room_id = $2","0.0771385","0.154277","2"
"<insufficient privilege>","0.0009931032258064516","0.15393100000000004","155"
"<insufficient privilege>","0.0009866838709677419","0.15293599999999996","155"
"SELECT user_id, key_id, target_device_id, signature
            FROM e2e_cross_signing_signatures WHERE (target_user_id = $1 AND target_device_id = $2 AND user_id = $3) OR (target_user_id = $4 AND target_device_id = $5 AND user_id = $6) OR (target_user_id = $7 AND target_device_id = $8 AND user_id = $9)","0.03744375","0.14977500000000002","4"
"<insufficient privilege>","0.0009659290322580647","0.14971899999999994","155"
"SELECT DISTINCT room_id FROM device_lists_changes_in_room
            WHERE stream_id > $1 AND stream_id <= $2","0.0372375","0.14895","4"
"INSERT INTO presence_stream (stream_id, user_id, state, last_active_ts, last_federation_update_ts, last_user_sync_ts, status_msg, currently_active, instance_name) VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9),($10,$11,$12,$13,$14,$15,$16,$17,$18),($19,$20,$21,$22,$23,$24,$25,$26,$27),($28,$29,$30,$31,$32,$33,$34,$35,$36)","0.148301","0.148301","1"
"UPDATE ""user"" 
              SET first_name = $1, last_name = $2, picture = $3, status_icon = $4, last_activity = $5, creation_date = $6, notification_preference = $7, identity_provider = $8, identity_provider_id = $9, token_login = $10, username_canonical = $11, email_canonical = $12, password = $13, deleted = $14, mail_verified = $15, phone = $16, thumbnail_id = $17, language = $18, timezone = $19, type = $20, preferences = $21, cache = $22, devices = $23, salt = $24 
              WHERE id = $25","0.073956","0.14791200000000002","2"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38])
                AND relation_type = $39
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.145359","0.145359","1"
"SELECT DISTINCT ON (parent.event_id) parent.event_id, child.event_id FROM events AS child
                    INNER JOIN event_relations USING (event_id)
                    INNER JOIN events AS parent ON
                        parent.event_id = relates_to_id
                        AND parent.room_id = child.room_id
                    WHERE
                        relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38])
                        AND relation_type = $39
                    ORDER BY parent.event_id, child.topological_ordering DESC, child.stream_ordering DESC","0.144422","0.144422","1"
"<insufficient privilege>","0.0009271032258064513","0.14370099999999997","155"
"SELECT $1","0.004788733333333333","0.14366199999999998","30"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])
                AND relation_type = $7
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.03587625","0.143505","4"
"<insufficient privilege>","0.0009114774193548388","0.14127900000000002","155"
"<insufficient privilege>","0.0008791161290322579","0.13626300000000002","155"
"SELECT ""ticket_states"".* FROM ""ticket_states"" WHERE ""ticket_states"".""state_type_id"" = $1","0.0269586","0.134793","5"
"SELECT enabled FROM per_user_experimental_features WHERE user_id = $1 AND feature = $2","0.012014181818181818","0.132156","11"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3])
                AND relation_type = $4
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.021823333333333333","0.13094","6"
"SET TRANSACTION ISOLATION LEVEL SERIALIZABLE","0.016256625","0.130053","8"
"<insufficient privilege>","0.0008354064516129036","0.12948800000000002","155"
"SELECT user_name, rule_id, enabled FROM push_rules_enable WHERE user_name = ANY(ARRAY[$1])","0.0640425","0.128085","2"
"INSERT INTO sliding_sync_membership_snapshots
                    (room_id, user_id, sender, membership_event_id, membership, forgotten, event_stream_ordering, event_instance_name
                    ,is_encrypted, room_type, room_name, has_known_state)
                VALUES (
                    $1, $2, $3, $4, $5, $6,
                    (SELECT stream_ordering FROM events WHERE event_id = $7),
                    (SELECT COALESCE(instance_name, $8) FROM events WHERE event_id = $9)
                    ,$10, $11, $12, $13
                )
                ON CONFLICT (room_id, user_id)
                DO UPDATE SET
                    sender = EXCLUDED.sender,
                    membership_event_id = EXCLUDED.membership_event_id,
                    membership = EXCLUDED.membership,
                    forgotten = EXCLUDED.forgotten,
                    event_stream_ordering = EXCLUDED.event_stream_ordering
                    ,is_encrypted = EXCLUDED.is_encrypted, room_type = EXCLUDED.room_type, room_name = EXCLUDED.room_name, has_known_state = EXCLUDED.has_known_state","0.127892","0.127892","1"
"SELECT * FROM ""statistics"" 
            WHERE company_id = $1 AND event_name = $2 AND month_id = $3  
            ORDER BY month_id DESC 
            LIMIT $4 OFFSET $5","0.014040555555555556","0.126365","9"
"SELECT DISTINCT ON (original.event_id) original.event_id, edit.event_id FROM events AS edit
                INNER JOIN event_relations USING (event_id)
                INNER JOIN events AS original ON
                    original.event_id = relates_to_id
                    AND edit.type = original.type
                    AND edit.sender = original.sender
                    AND edit.room_id = original.room_id
                WHERE
                    relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6])
                    AND relation_type = $7
                ORDER by original.event_id DESC, edit.origin_server_ts DESC, edit.event_id DESC","0.0314615","0.12584599999999999","4"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7) OR (target_user_id = $8 AND target_device_id = $9) OR (target_user_id = $10 AND target_device_id = $11) OR (target_user_id = $12 AND target_device_id = $13) OR (target_user_id = $14 AND target_device_id = $15))","0.041882333333333334","0.125647","3"
"SELECT displayname, avatar_url FROM profiles WHERE full_user_id = $1","0.12302400000000001","0.12302400000000001","1"
"SELECT DISTINCT user_id FROM device_lists_changes_in_room
            WHERE room_id = ANY(ARRAY[$1,$2,$3,$4]) AND stream_id > $5 AND stream_id <= $6","0.0603835","0.120767","2"
"CREATE TABLE IF NOT EXISTS ""workspaces""
          (
            id UUID,
company_id UUID,
name TEXT,
logo TEXT,
stats TEXT,
is_deleted BOOLEAN,
is_archived BOOLEAN,
is_default BOOLEAN,
date_added BIGINT,
preferences TEXT
          )","0.119195","0.119195","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37])","0.0588835","0.117767","2"
"SELECT deactivated FROM users WHERE name = $1","0.057369","0.114738","2"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101])","0.113833","0.113833","1"
"UPDATE event_push_summary SET notif_count = $1, unread_count = $2, stream_ordering = $3, last_receipt_stream_ordering = $4 WHERE user_id = $5 AND room_id = $6","0.055205000000000004","0.11041000000000001","2"
"DELETE FROM cache_invalidation_stream_by_instance
                WHERE $1 <= stream_id AND stream_id <= $2","0.0536615","0.107323","2"
"SELECT oid, pg_catalog.format_type(oid, $2) AS typname FROM pg_catalog.pg_type WHERE oid = ANY($1) ORDER BY oid","0.0508565","0.101713","2"
"CREATE INDEX IF NOT EXISTS index_user_username_canonical ON ""user"" 
        (username_canonical)","0.10125","0.10125","1"
"UPDATE ""user"" 
              SET first_name = $1, last_name = $2, creation_date = $3, identity_provider = $4, identity_provider_id = $5, username_canonical = $6, email_canonical = $7, deleted = $8, mail_verified = $9, phone = $10, preferences = $11 
              WHERE id = $12","0.050473500000000004","0.10094700000000001","2"
"SELECT user_name, rule_id, priority_class, priority, conditions, actions FROM push_rules WHERE user_name = ANY(ARRAY[$1])","0.050113500000000005","0.10022700000000001","2"
"SELECT relates_to_id, ref.event_id, ref.sender
            FROM events AS ref
            INNER JOIN event_relations USING (event_id)
            INNER JOIN events AS parent ON
                parent.event_id = relates_to_id
                AND parent.room_id = ref.room_id
            WHERE
                relates_to_id = ANY(ARRAY[$1,$2,$3,$4,$5])
                AND relation_type = $6
            ORDER BY ref.topological_ordering, ref.stream_ordering","0.024954499999999998","0.09981799999999999","4"
"INSERT INTO remote_media_cache (media_origin, media_id, media_type, media_length, created_ts, upload_name, filesystem_id, last_access_ts, authenticated) VALUES($1, $2, $3, $4, $5, $6, $7, $8, $9)","0.09762799999999999","0.09762799999999999","1"
"CREATE INDEX IF NOT EXISTS index_drive_files_company_id_is_in_trash ON ""drive_files"" 
        ((company_id), is_in_trash)","0.097415","0.097415","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79])","0.09708800000000001","0.09708800000000001","1"
"SET standard_conforming_strings = on","0.00596425","0.09542800000000001","16"
"SELECT value,active FROM hashes","0.013272571428571429","0.092908","7"
"DELETE FROM event_push_actions
                WHERE room_id = $1
                    AND user_id = $2
                    AND stream_ordering <= $3
                    AND highlight = $4","0.0454865","0.090973","2"
"SET intervalstyle = iso_8601","0.0056373125","0.090197","16"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100])","0.089312","0.089312","1"
"SELECT ""permissions"".""name"" FROM ""permissions"" WHERE (permissions.active = $1 AND (permissions.name = $2 OR permissions.name LIKE $3 OR permissions.name = $4 OR permissions.name LIKE $5 OR permissions.name = $6 OR permissions.name LIKE $7 OR permissions.name = $8 OR permissions.name LIKE $9 OR permissions.name = $10 OR permissions.name LIKE $11 OR permissions.name = $12 OR permissions.name LIKE $13 OR permissions.name = $14 OR permissions.name LIKE $15 OR permissions.name = $16 OR permissions.name LIKE $17 OR permissions.name = $18 OR permissions.name LIKE $19))","0.087486","0.087486","1"
"CREATE TABLE IF NOT EXISTS ""workspace_pending_users""
          (
            workspace_id UUID,
email TEXT,
role TEXT,
company_role TEXT
          )","0.085812","0.085812","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51])","0.08422700000000001","0.08422700000000001","1"
"SELECT at.attname, at.attnum, ty.typname
FROM pg_catalog.pg_attribute at LEFT JOIN pg_catalog.pg_type ty ON (ty.oid = at.atttypid)
JOIN pg_catalog.pg_class as cl ON cl.oid=AT.attrelid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=cl.relnamespace
WHERE
    attrelid=$1::oid AND
attnum = ANY (
(SELECT con.conkey FROM pg_catalog.pg_class rel LEFT OUTER JOIN pg_catalog.pg_constraint con ON con.conrelid=rel.oid
JOIN pg_catalog.pg_namespace as nsp ON nsp.oid=REL.relnamespace
AND con.contype=$2 WHERE rel.relkind IN ($3,$4,$5, $6) AND
    rel.oid = ($7)::oid
)::oid[])","0.083521","0.083521","1"
"INSERT INTO device_lists_remote_extremeties (user_id, stream_id) VALUES ($1, $2) ON CONFLICT (user_id) DO UPDATE SET stream_id=EXCLUDED.stream_id","0.082796","0.082796","1"
"SELECT ignored_user_id FROM ignored_users WHERE ignorer_user_id = $1","0.011726142857142859","0.082083","7"
"INSERT INTO ""external_user_repository"" (service_id, external_id, user_id)
              VALUES ($1, $2, $3)","0.0409115","0.081823","2"
"CREATE TABLE IF NOT EXISTS ""workspace_invite_domain""
          (
            company_id UUID,
workspace_id UUID,
domain TEXT
          )","0.081797","0.081797","1"
"BEGIN","0.0030997692307692306","0.080594","26"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13])","0.07664499999999999","0.07664499999999999","1"
"<insufficient privilege>","0.024580333333333333","0.073741","3"
"CREATE INDEX IF NOT EXISTS index_drive_files_editing_session_key ON ""drive_files"" 
        (editing_session_key)","0.070976","0.070976","1"
"CREATE TABLE IF NOT EXISTS ""workspace_invite_tokens""
          (
            company_id UUID,
workspace_id TEXT,
user_id TEXT,
invite_token TEXT,
channels TEXT
          )","0.070391","0.070391","1"
"SELECT ""active_job_locks"".* FROM ""active_job_locks"" WHERE ""active_job_locks"".""lock_key"" = $1 AND ""active_job_locks"".""active_job_id"" = $2 LIMIT $3 FOR UPDATE","0.008748249999999999","0.069986","8"
"<insufficient privilege>","0.023024999999999997","0.069075","3"
"UPDATE ""drive_file_versions"" 
              SET provider = $1, file_metadata = $2, date_added = $3, creator_id = $4, application_id = $5, key = $6, mode = $7, file_size = $8, filename = $9, data = $10 
              WHERE drive_item_id = $11 AND id = $12","0.06905900000000001","0.06905900000000001","1"
"INSERT INTO destination_rooms (destination, room_id, stream_ordering) VALUES ($1,$2,$3),($4,$5,$6) ON CONFLICT (destination, room_id) DO UPDATE SET stream_ordering=EXCLUDED.stream_ordering","0.0686","0.0686","1"
"<insufficient privilege>","0.022595333333333335","0.067786","3"
"<insufficient privilege>","0.02227466666666667","0.06682400000000001","3"
"<insufficient privilege>","0.022226","0.066678","3"
"SET ROLE 'avnadmin'","0.06591","0.06591","1"
"CREATE TABLE IF NOT EXISTS ""group_entity""
          (
            id UUID,
name TEXT,
display_name TEXT,
plan TEXT,
stats TEXT,
logo_id UUID,
logo TEXT,
date_added BIGINT,
on_creation_data TEXT,
member_count BIGINT,
identity_provider TEXT,
identity_provider_id TEXT
          )","0.063291","0.063291","1"
"select re1_0.ID from REALM re1_0","0.012582399999999999","0.062912","5"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54])","0.060995999999999995","0.060995999999999995","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49])","0.060731","0.060731","1"
"<insufficient privilege>","0.02007933333333333","0.060238","3"
"<insufficient privilege>","0.019436666666666668","0.05831","3"
"CREATE TABLE IF NOT EXISTS ""user""
          (
            id UUID,
first_name TEXT,
last_name TEXT,
picture TEXT,
status_icon TEXT,
last_activity BIGINT,
creation_date BIGINT,
notification_preference TEXT,
identity_provider TEXT,
identity_provider_id TEXT,
token_login TEXT,
username_canonical TEXT,
email_canonical TEXT,
password TEXT,
deleted BOOLEAN,
mail_verified BOOLEAN,
phone TEXT,
thumbnail_id UUID,
language TEXT,
timezone TEXT,
type TEXT,
preferences TEXT,
cache TEXT,
devices TEXT,
salt TEXT
          )","0.057341","0.057341","1"
"SELECT address FROM userHistory","0.008164857142857142","0.057154","7"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25])","0.056752000000000004","0.056752000000000004","1"
"CREATE TABLE IF NOT EXISTS ""drive_tdrive_tab""
          (
            company_id TEXT,
tab_id TEXT,
channel__id TEXT,
item_id TEXT,
level TEXT
          )","0.056561","0.056561","1"
"<insufficient privilege>","0.018755","0.056265","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42])","0.056134","0.056134","1"
"<insufficient privilege>","0.018686","0.056058000000000004","3"
"CREATE TABLE IF NOT EXISTS ""drive_file_versions""
          (
            drive_item_id UUID,
id UUID,
provider TEXT,
file_metadata TEXT,
date_added BIGINT,
creator_id UUID,
application_id TEXT,
realname TEXT,
key TEXT,
mode TEXT,
file_size BIGINT,
filename TEXT,
data TEXT
          )","0.05577","0.05577","1"
"<insufficient privilege>","0.055666","0.055666","1"
"<insufficient privilege>","0.018485666666666668","0.055457000000000006","3"
"CREATE TABLE IF NOT EXISTS ""missed_drive_files""
          (
            id UUID,
doc_id TEXT,
file_id TEXT,
is_in_trash BOOLEAN,
is_from_nextcloud BOOLEAN,
name TEXT,
description TEXT,
added BIGINT,
version BIGINT,
size BIGINT,
last_modified BIGINT,
content_keywords TEXT,
creator UUID,
path TEXT
          )","0.0552","0.0552","1"
"<insufficient privilege>","0.018330000000000003","0.054990000000000004","3"
"CREATE TABLE IF NOT EXISTS ""files""
          (
            company_id UUID,
id UUID,
user_id TEXT,
application_id TEXT,
encryption_key TEXT,
updated_at BIGINT,
created_at BIGINT,
metadata TEXT,
thumbnails TEXT,
upload_data TEXT
          )","0.05415","0.05415","1"
"SELECT suspended FROM users WHERE name = $1","0.053806","0.053806","1"
"<insufficient privilege>","0.017888666666666667","0.053666000000000005","3"
"INSERT INTO syncv3_device_data(user_id, device_id, data) VALUES($1,$2,$3)
			ON CONFLICT (user_id, device_id) DO UPDATE SET data=$3","0.05307","0.05307","1"
"SELECT invalidation_ts FROM cache_invalidation_stream_by_instance
                WHERE stream_id > $1
                ORDER BY stream_id ASC
                LIMIT $2","0.026481499999999998","0.052962999999999996","2"
"SET application_name = 'PostgreSQL JDBC Driver'","0.010551","0.052755","5"
"SELECT stream_id, room_id, receipt_type, user_id, event_id, thread_id, data
                FROM receipts_linearized
                WHERE $1 < stream_id AND stream_id <= $2
                AND instance_name = $3
                ORDER BY stream_id ASC
                LIMIT $4","0.017546","0.052638000000000004","3"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98])","0.05087","0.05087","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29])","0.050702","0.050702","1"
"SET ROLE 'avnadmin'","0.050648","0.050648","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12])","0.050229","0.050229","1"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$100,$101,$102,$103,$104,$105,$106,$107,$108,$109,$110,$111,$112,$113,$114,$115,$116,$117,$118,$119,$120,$121,$122,$123,$124,$125,$126,$127,$128,$129,$130,$131,$132,$133,$134,$135,$136,$137,$138])","0.049088999999999994","0.049088999999999994","1"
"SHOW TIME ZONE","0.006113375","0.048907000000000006","8"
"CREATE TABLE IF NOT EXISTS ""tags""
          (
            company_id UUID,
tag_id TEXT,
name TEXT,
colour TEXT
          )","0.048306","0.048306","1"
"SET extra_float_digits = 3","0.047762","0.047762","1"
"SHOW search_path","0.005862875","0.04690299999999999","8"
"SELECT event_id, redacts FROM redactions WHERE redacts = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$60,$61,$62,$63,$64,$65,$66])","0.046449000000000004","0.046449000000000004","1"
"<insufficient privilege>","0.015360333333333333","0.046081000000000004","3"
"INSERT INTO destinations (destination) VALUES ($1),($2) ON CONFLICT (destination) DO NOTHING","0.045865","0.045865","1"
"CREATE TABLE IF NOT EXISTS ""drive_files""
          (
            company_id UUID,
id UUID,
parent_id TEXT,
is_in_trash BOOLEAN,
is_directory BOOLEAN,
name TEXT,
extension TEXT,
description TEXT,
tags TEXT,
added BIGINT,
last_modified BIGINT,
access_info TEXT,
editing_session_key TEXT,
content_keywords TEXT,
creator UUID,
size BIGINT,
last_version_cache TEXT,
scope TEXT,
av_status TEXT
          )","0.04485","0.04485","1"
"SELECT target_user_id, target_device_id, key_id, signature
                  FROM e2e_cross_signing_signatures
                 WHERE user_id = $1
                   AND ((target_user_id = $2 AND target_device_id = $3) OR (target_user_id = $4 AND target_device_id = $5) OR (target_user_id = $6 AND target_device_id = $7) OR (target_user_id = $8 AND target_device_id = $9) OR (target_user_id = $10 AND target_device_id = $11) OR (target_user_id = $12 AND target_device_id = $13) OR (target_user_id = $14 AND target_device_id = $15) OR (target_user_id = $16 AND target_device_id = $17) OR (target_user_id = $18 AND target_device_id = $19) OR (target_user_id = $20 AND target_device_id = $21))","0.044066","0.044066","1"
"SELECT ""chat_sessions"".* FROM ""chat_sessions"" WHERE ""chat_sessions"".""state"" != $1 AND (updated_at < $2)","0.008711799999999999","0.043559","5"
"CREATE TABLE IF NOT EXISTS ""devices""
          (
            id TEXT,
user_id UUID,
type TEXT,
version TEXT,
push_notifications BOOLEAN
          )","0.043324","0.043324","1"
"SET ROLE 'avnadmin'","0.042181","0.042181","1"
"CREATE TABLE IF NOT EXISTS ""group_user""
          (
            group_id UUID,
user_id UUID,
id UUID,
role TEXT,
applications TEXT,
nb_workspace BIGINT,
date_added BIGINT,
last_update_day BIGINT
          )","0.041776","0.041776","1"
"CREATE TABLE IF NOT EXISTS ""session""
          (
            company_id UUID,
sub TEXT,
sid TEXT,
revoked_at BIGINT
          )","0.041679","0.041679","1"
"CREATE TABLE IF NOT EXISTS ""external_group_repository""
          (
            service_id TEXT,
external_id TEXT,
company_id TEXT
          )","0.040929","0.040929","1"
"SET ROLE 'avnadmin'","0.040307","0.040307","1"
"SET ROLE 'avnadmin'","0.038563","0.038563","1"
"<insufficient privilege>","0.038303000000000004","0.038303000000000004","1"
"CREATE TABLE IF NOT EXISTS ""statistics""
          (
            company_id TEXT,
event_name TEXT,
month_id BIGINT,
value BIGINT
          )","0.036697","0.036697","1"
"SELECT messages_per_second, burst_count FROM ratelimit_override WHERE user_id = $1","0.012183999999999999","0.036552","3"
"CREATE TABLE IF NOT EXISTS ""external_user_repository""
          (
            service_id TEXT,
external_id TEXT,
user_id UUID
          )","0.034869","0.034869","1"
"SELECT * FROM ""files"" 
            WHERE company_id = $1 AND id = $2  
            ORDER BY id DESC 
            LIMIT $3 OFFSET $4","0.034298999999999996","0.034298999999999996","1"
"delete from CLIENT_INITIAL_ACCESS where (EXPIRATION>$2 and (TIMESTAMP+EXPIRATION)<$1) or REMAINING_COUNT=$3","0.0068588","0.034294","5"
"SET ROLE 'avnadmin'","0.031581","0.031581","1"
"SET ROLE 'avnadmin'","0.02959","0.02959","1"
"SET ROLE 'avnadmin'","0.029448","0.029448","1"
"SELECT DISTINCT ""online_notifications"".""user_id"" FROM ""online_notifications"" WHERE (created_at < $1)","0.029416","0.029416","1"
"SET ROLE 'avnadmin'","0.029383","0.029383","1"
"SET ROLE 'avnadmin'","0.028819","0.028819","1"
"SET ROLE 'avnadmin'","0.028648","0.028648","1"
"DELETE FROM sessions WHERE expiry_time_ms <= $1","0.009303333333333334","0.027909999999999997","3"
"<insufficient privilege>","0.027821","0.027821","1"
"DELETE FROM user_directory_stale_remote_users WHERE user_id = ANY(ARRAY[$1])","0.027688","0.027688","1"
"SET ROLE 'avnadmin'","0.027295","0.027295","1"
"SET ROLE 'avnadmin'","0.026553","0.026553","1"
"DELETE FROM threepid_validation_token WHERE
            expires < $1","0.008837999999999999","0.026513999999999996","3"
"SELECT failure_ts, retry_last_ts, retry_interval FROM destinations WHERE destination = $1","0.026142000000000002","0.026142000000000002","1"
"SELECT room_id FROM partial_state_rooms WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24])","0.008589999999999999","0.025769999999999998","3"
"SELECT ""import_jobs"".* FROM ""import_jobs"" WHERE ""import_jobs"".""started_at"" IS NULL AND ""import_jobs"".""dry_run"" = $1 ORDER BY ""import_jobs"".""started_at"" DESC, ""import_jobs"".""id"" DESC","0.025418999999999997","0.025418999999999997","1"
"<insufficient privilege>","0.024346","0.024346","1"
"SELECT user_id FROM erased_users WHERE user_id = ANY(ARRAY[$1,$2])","0.0060155","0.024062","4"
"SET ROLE 'avnadmin'","0.02406","0.02406","1"
"SET ROLE 'avnadmin'","0.023332","0.023332","1"
"DELETE FROM monthly_active_users WHERE timestamp < $1 AND NOT user_id = ANY($2)","0.011571","0.023142","2"
"<insufficient privilege>","0.022541","0.022541","1"
"SELECT DISTINCT ""online_notifications"".""user_id"" FROM ""online_notifications"" WHERE ""online_notifications"".""seen"" = $1 AND ((user_id = updated_by_id AND updated_at < $2) OR (user_id != updated_by_id AND updated_at < $3))","0.02163","0.02163","1"
"<insufficient privilege>","0.021344000000000002","0.021344000000000002","1"
"<insufficient privilege>","0.021311999999999998","0.021311999999999998","1"
"<insufficient privilege>","0.020894","0.020894","1"
"<insufficient privilege>","0.02082","0.02082","1"
"<insufficient privilege>","0.020692000000000002","0.020692000000000002","1"
"<insufficient privilege>","0.020264","0.020264","1"
"<insufficient privilege>","0.020129","0.020129","1"
"<insufficient privilege>","0.019907","0.019907","1"
"<insufficient privilege>","0.019724","0.019724","1"
"<insufficient privilege>","0.019542999999999998","0.019542999999999998","1"
"<insufficient privilege>","0.019372","0.019372","1"
"<insufficient privilege>","0.019335","0.019335","1"
"<insufficient privilege>","0.019194999999999997","0.019194999999999997","1"
"<insufficient privilege>","0.019028","0.019028","1"
"<insufficient privilege>","0.018759","0.018759","1"
"<insufficient privilege>","0.018323","0.018323","1"
"SET DateStyle='ISO'","0.018157","0.018157","1"
"<insufficient privilege>","0.018081","0.018081","1"
"SELECT stream_id, user_id, hosts FROM (
                    SELECT stream_id, user_id, $1 AS hosts FROM device_lists_stream
                    UNION ALL
                    SELECT DISTINCT stream_id, user_id, $2 AS hosts FROM device_lists_outbound_pokes
                ) AS e
                WHERE $3 < stream_id AND stream_id <= $4
                ORDER BY stream_id ASC
                LIMIT $5","0.016825","0.016825","1"
"<insufficient privilege>","0.016772000000000002","0.016772000000000002","1"
"SELECT NOW()","0.016669","0.016669","1"
"<insufficient privilege>","0.01663","0.01663","1"
"<insufficient privilege>","0.01619","0.01619","1"
"<insufficient privilege>","0.015742","0.015742","1"
"SELECT user_id FROM erased_users WHERE user_id = ANY(ARRAY[$1,$2,$3])","0.015286","0.015286","1"
"SELECT chain_id, MAX(sequence_number) FROM event_auth_chains
            WHERE chain_id = ANY($1)
            GROUP BY chain_id","0.007293","0.014586","2"
"<insufficient privilege>","0.014525999999999999","0.014525999999999999","1"
"<insufficient privilege>","0.013224999999999999","0.013224999999999999","1"
"SELECT room_id FROM partial_state_rooms WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25])","0.006531","0.013062","2"
"<insufficient privilege>","0.013007","0.013007","1"
"<insufficient privilege>","0.012889","0.012889","1"
"<insufficient privilege>","0.012561999999999999","0.012561999999999999","1"
"<insufficient privilege>","0.012480000000000002","0.012480000000000002","1"
"<insufficient privilege>","0.011736000000000002","0.011736000000000002","1"
"COMMIT","0.0022118","0.011059","5"
"<insufficient privilege>","0.009833","0.009833","1"
"SELECT room_id FROM partial_state_rooms WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14])","0.009497","0.009497","1"
"<insufficient privilege>","0.008955","0.008955","1"
"<insufficient privilege>","0.008922000000000001","0.008922000000000001","1"
"DELETE FROM ""online_notifications"" WHERE (created_at < $1)","0.00866","0.00866","1"
"SELECT room_id FROM partial_state_rooms WHERE room_id = ANY(ARRAY[$1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23])","0.008334","0.008334","1"
"<insufficient privilege>","0.008142","0.008142","1"
"SELECT room_id, joined_via FROM partial_state_rooms","0.007730999999999999","0.007730999999999999","1"
"<insufficient privilege>","0.0073","0.0073","1"
"BEGIN READ WRITE","0.007041","0.007041","1"
"<insufficient privilege>","0.006998","0.006998","1"
"<insufficient privilege>","0.006965","0.006965","1"
"<insufficient privilege>","0.006866","0.006866","1"
"<insufficient privilege>","0.006862","0.006862","1"
"<insufficient privilege>","0.006834","0.006834","1"
"<insufficient privilege>","0.0065910000000000005","0.0065910000000000005","1"
"<insufficient privilege>","0.006363","0.006363","1"
"BEGIN","0.00153675","0.006147","4"
"<insufficient privilege>","0.006128","0.006128","1"
"<insufficient privilege>","0.006125","0.006125","1"
"<insufficient privilege>","0.006089","0.006089","1"
"SET application_name = 'PostgreSQL JDBC Driver'","0.005796","0.005796","1"
"select this_.uuid as y0_ from upload_request_group this_ where this_.expiry_date<$1 and this_.status=$2","0.00541","0.00541","1"
"SELECT stream_id, from_user_id AS user_id
                FROM user_signature_stream
                WHERE $1 < stream_id AND stream_id <= $2
                ORDER BY stream_id ASC
                LIMIT $3","0.00536","0.00536","1"
"DELETE FROM syncv3_txns WHERE ts <= $1","0.004977","0.004977","1"
"select this_.uuid as y0_ from upload_request this_ where this_.activation_date<$1 and this_.status=$2","0.004176","0.004176","1"
"DELETE FROM ""online_notifications"" WHERE ""online_notifications"".""seen"" = $1 AND ((user_id = updated_by_id AND updated_at < $2) OR (user_id != updated_by_id AND updated_at < $3))","0.003834","0.003834","1"
"SELECT room_id FROM partial_state_rooms WHERE room_id = ANY(ARRAY[$1,$2,$3,$4])","0.003","0.003","1"
"select this_.uuid as y0_ from upload_request this_ where this_.expiry_date<$1 and this_.status=$2","0.002666","0.002666","1"
"select this_.uuid as y0_ from upload_request this_ where this_.notification_date<$1 and this_.notification_date>$2 and this_.notification_date<this_.expiry_date and this_.status=$3 and this_.notified=$4","0.002361","0.002361","1"
"<insufficient privilege>","0.001873","0.001873","1"
"COMMIT","0.00162","0.00162","1"
"COMMIT","0.001431","0.001431","1"
